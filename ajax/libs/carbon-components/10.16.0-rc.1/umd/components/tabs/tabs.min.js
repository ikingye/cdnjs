!function(t,e){var n;"function"==typeof define&&define.amd?define(["exports","../../globals/js/settings","../../globals/js/misc/event-matches","../content-switcher/content-switcher","../../globals/js/misc/on"],e):"undefined"!=typeof exports?e(exports,require("../../globals/js/settings"),require("../../globals/js/misc/event-matches"),require("../content-switcher/content-switcher"),require("../../globals/js/misc/on")):(e(n={},t.settings,t.eventMatches,t.contentSwitcher,t.on),t.tabs=n)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(t,o,a,c,i){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(c){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,o,r=d(c);return e=i?(t=d(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),n=this,!(o=e)||"object"!==s(o)&&"function"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o=e(o),a=e(a),c=e(c),i=e(i);var n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(s,c.default);var t,e,n,r=p(s);function s(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=r.call(this,t,e)).manage((0,i.default)(n.element,"keydown",function(t){n._handleKeyDown(t)})),n.manage((0,i.default)(n.element.ownerDocument,"click",function(t){n._handleDocumentClick(t)}));var o=n.element.querySelector(n.options.selectorButtonSelected);return o&&n._updateTriggerText(o),n}return t=s,n=[{key:"options",get:function(){var t=o.default.prefix;return Object.assign(Object.create(c.default.options),{selectorInit:"[data-tabs]",selectorMenu:".".concat(t,"--tabs__nav"),selectorTrigger:".".concat(t,"--tabs-trigger"),selectorTriggerText:".".concat(t,"--tabs-trigger-text"),selectorButton:".".concat(t,"--tabs__nav-item"),selectorButtonEnabled:".".concat(t,"--tabs__nav-item:not(.").concat(t,"--tabs__nav-item--disabled)"),selectorButtonSelected:".".concat(t,"--tabs__nav-item--selected"),selectorLink:".".concat(t,"--tabs__nav-link"),classActive:"".concat(t,"--tabs__nav-item--selected"),classHidden:"".concat(t,"--tabs__nav--hidden"),classOpen:"".concat(t,"--tabs-trigger--open"),classButtonDisabled:"".concat(t,"--tabs__nav-item--disabled"),eventBeforeSelected:"tab-beingselected",eventAfterSelected:"tab-selected"})}}],(e=[{key:"_changeState",value:function(r,c){var i=this;u(d(s.prototype),"_changeState",this).call(this,r,function(t){t||i._updateTriggerText(r.item);for(var e=arguments.length,n=new Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];c.apply(void 0,[t].concat(n))})}},{key:"_handleClick",value:function(t){var e=(0,a.default)(t,this.options.selectorButton),n=(0,a.default)(t,this.options.selectorTrigger);e&&!e.classList.contains(this.options.classButtonDisabled)&&(u(d(s.prototype),"_handleClick",this).call(this,t),this._updateMenuState(!1)),n&&this._updateMenuState()}},{key:"_handleDocumentClick",value:function(t){this.element.contains(t.target)||this._updateMenuState(!1)}},{key:"_handleKeyDown",value:function(t){var e,n,o,r,c,i,s=this;(0,a.default)(t,this.options.selectorTrigger)?13===t.which&&this._updateMenuState():(e={37:this.constructor.NAVIGATE.BACKWARD,39:this.constructor.NAVIGATE.FORWARD}[t.which])&&(i=this.element.querySelectorAll(this.options.selectorButtonEnabled),n=Array.prototype.slice.call(i),o=this.element.querySelector(this.options.selectorButtonSelected),c=0<=(r=Math.max(n.indexOf(o)+e,-1))&&r<n.length?r:r-Math.sign(r)*n.length,this.setActive(n[c],function(t,e){var n;!e||(n=e.querySelector(s.options.selectorLink))&&n.focus()}),t.preventDefault())}},{key:"_updateMenuState",value:function(t){var e=this.element.querySelector(this.options.selectorMenu),n=this.element.querySelector(this.options.selectorTrigger);e&&(e.classList.toggle(this.options.classHidden,void 0===t?t:!t),e.classList.contains(this.options.classHidden)?n.classList.remove(this.options.classOpen):n.classList.add(this.options.classOpen))}},{key:"_updateTriggerText",value:function(t){var e=this.element.querySelector(this.options.selectorTriggerText);e&&(e.textContent=t.textContent)}}])&&l(t.prototype,e),n&&l(t,n),s.components=new WeakMap,s.NAVIGATE={BACKWARD:-1,FORWARD:1},s}();t.default=n});