"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),__exportStar=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||e.hasOwnProperty(i)||__createBinding(e,t,i)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmittersPlugin=void 0;const Utils_1=require("../../Utils"),Emitters_1=require("./Emitters"),Enums_1=require("./Enums"),Emitter_1=require("./Options/Classes/Emitter");class EmittersPlugin{constructor(){this.id="emitters"}getPlugin(t){return new Emitters_1.Emitters(t)}needsPlugin(t){var e,i,r;if(void 0===t)return!1;const n=t.emitters;let s=!1;return n instanceof Array?n.length&&(s=!0):void 0!==n?s=!0:(null===(r=null===(i=null===(e=t.interactivity)||void 0===e?void 0:e.events)||void 0===i?void 0:i.onClick)||void 0===r?void 0:r.mode)&&Utils_1.Utils.isInArray(Enums_1.EmitterClickMode.emitter,t.interactivity.events.onClick.mode)&&(s=!0),s}loadOptions(t,e){var i,r;if(!this.needsPlugin(t)&&!this.needsPlugin(e))return;const n=t;(null==e?void 0:e.emitters)&&((null==e?void 0:e.emitters)instanceof Array?n.emitters=null==e?void 0:e.emitters.map(t=>{const e=new Emitter_1.Emitter;return e.load(t),e}):((n.emitters instanceof Array||void 0===n.emitters)&&(n.emitters=new Emitter_1.Emitter),n.emitters.load(null==e?void 0:e.emitters)));const s=null===(r=null===(i=null==e?void 0:e.interactivity)||void 0===i?void 0:i.modes)||void 0===r?void 0:r.emitters;s&&(s instanceof Array?n.interactivity.modes.emitters=s.map(t=>{const e=new Emitter_1.Emitter;return e.load(t),e}):((n.interactivity.modes.emitters instanceof Array||void 0===n.interactivity.modes.emitters)&&(n.interactivity.modes.emitters=new Emitter_1.Emitter),n.interactivity.modes.emitters.load(s)))}}const plugin=new EmittersPlugin;exports.EmittersPlugin=plugin,__exportStar(require("./Enums"),exports);