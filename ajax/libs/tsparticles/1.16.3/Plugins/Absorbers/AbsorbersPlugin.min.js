"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(r,e,s,o){void 0===o&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return e[s]}})}:function(r,e,s,o){void 0===o&&(o=s),r[o]=e[s]}),__exportStar=this&&this.__exportStar||function(r,e){for(var s in r)"default"===s||e.hasOwnProperty(s)||__createBinding(e,r,s)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbsorbersPlugin=void 0;const Absorbers_1=require("./Absorbers"),Utils_1=require("../../Utils"),Enums_1=require("./Enums"),Absorber_1=require("./Options/Classes/Absorber");class AbsorbersPlugin{constructor(){this.id="absorbers"}getPlugin(r){return new Absorbers_1.Absorbers(r)}needsPlugin(r){var e,s,o;if(void 0===r)return!1;const i=r.absorbers;let n=!1;return i instanceof Array?i.length&&(n=!0):void 0!==i?n=!0:(null===(o=null===(s=null===(e=r.interactivity)||void 0===e?void 0:e.events)||void 0===s?void 0:s.onClick)||void 0===o?void 0:o.mode)&&Utils_1.Utils.isInArray(Enums_1.AbsorberClickMode.absorber,r.interactivity.events.onClick.mode)&&(n=!0),n}loadOptions(r,e){var s,o;if(!this.needsPlugin(r)&&!this.needsPlugin(e))return;const i=r;(null==e?void 0:e.absorbers)&&((null==e?void 0:e.absorbers)instanceof Array?i.absorbers=null==e?void 0:e.absorbers.map(r=>{const e=new Absorber_1.Absorber;return e.load(r),e}):((i.absorbers instanceof Array||void 0===i.absorbers)&&(i.absorbers=new Absorber_1.Absorber),i.absorbers.load(null==e?void 0:e.absorbers)));const n=null===(o=null===(s=null==e?void 0:e.interactivity)||void 0===s?void 0:s.modes)||void 0===o?void 0:o.absorbers;n&&(n instanceof Array?i.interactivity.modes.absorbers=n.map(r=>{const e=new Absorber_1.Absorber;return e.load(r),e}):((i.interactivity.modes.absorbers instanceof Array||void 0===i.interactivity.modes.absorbers)&&(i.interactivity.modes.absorbers=new Absorber_1.Absorber),i.interactivity.modes.absorbers.load(n)))}}const plugin=new AbsorbersPlugin;exports.AbsorbersPlugin=plugin,__exportStar(require("./Enums"),exports);