import{dasherizeToCamel,replaceObject}from"../lib";export var angular={global:function(){return window.angular},register:function(r,e){return e.module(r.tag,[]).directive(dasherizeToCamel(r.tag),function(){for(var e={},o=0,t=r.getPropNames(),n=null==t?0:t.length;o<n;o++){var a=t[o];e[a]="="}return r.looseProps&&(e.props="="),{scope:e,restrict:"E",controller:["$scope","$element",function(o,t){if(r.looseProps&&!o.props)throw new Error("For angular bindings to work, prop definitions must be passed to zoid.create");r.log("instantiate_angular_component");var n=function(){var r=void 0;if(o.props)r=o.props;else{r={};for(var t=0,n=Object.keys(e),a=null==n?0:n.length;t<a;t++){var i=n[t];void 0!==o[i]&&(r[i]=o[i])}}return r=replaceObject(r,{function:function(r){return function(){var e=r.apply(this,arguments);return function(){if("$apply"!==o.$root.$$phase&&"$digest"!==o.$root.$$phase)try{o.$apply()}catch(r){}}(),e}}})},a=r.init(n(),null,t[0]);a.render(t[0]),o.$watch(function(){a.updateProps(n())})}]}})}};