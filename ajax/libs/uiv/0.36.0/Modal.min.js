function isExist(e){return null!=e}function isFunction(e){return"function"==typeof e}function isPromiseSupported(){return"undefined"!=typeof window&&isExist(window.Promise)}var defaultLang={uiv:{datePicker:{clear:"Clear",today:"Today",month:"Month",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",year:"Year",week1:"Mon",week2:"Tue",week3:"Wed",week4:"Thu",week5:"Fri",week6:"Sat",week7:"Sun"},timePicker:{am:"AM",pm:"PM"},modal:{cancel:"Cancel",ok:"OK"},multiSelect:{placeholder:"Select...",filterPlaceholder:"Search..."}}},lang=defaultLang,i18nHandler=function(){var e=Object.getPrototypeOf(this).$t;if(isFunction(e))try{return e.apply(this,arguments)}catch(e){return this.$t.apply(this,arguments)}},t=function(e,t){t=t||{};var o=i18nHandler.apply(this,arguments);if(isExist(o)&&!t.$$locale)return o;for(var n=e.split("."),a=t.$$locale||lang,i=0,r=n.length;i<r;i++){if(o=a[n[i]],i===r-1)return o;if(!o)return"";a=o}return""},defineProperty=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Local={methods:{t:function(){for(var e=arguments.length,o=Array(e),n=0;n<e;n++)o[n]=arguments[n];return o[1]=_extends({$$locale:this.locale},o[1]),t.apply(this,o)}},props:{locale:Object}};function mergeData(){for(var e,t,o={},n=arguments.length;n--;)for(var a=0,i=Object.keys(arguments[n]);a<i.length;a++)switch(e=i[a]){case"class":case"style":case"directives":Array.isArray(o[e])||(o[e]=[]),o[e]=o[e].concat(arguments[n][e]);break;case"staticClass":if(!arguments[n][e])break;void 0===o[e]&&(o[e]=""),o[e]&&(o[e]+=" "),o[e]+=arguments[n][e].trim();break;case"on":case"nativeOn":o[e]||(o[e]={});for(var r=0,s=Object.keys(arguments[n][e]);r<s.length;r++)t=s[r],o[e][t]?o[e][t]=[].concat(o[e][t],arguments[n][e][t]):o[e][t]=arguments[n][e][t];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":o[e]||(o[e]={}),o[e]=__assign({},arguments[n][e],o[e]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:o[e]||(o[e]=arguments[n][e])}return o}var __assign=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},linkMixin={props:{href:String,target:String,to:null,replace:{type:Boolean,default:!1},append:{type:Boolean,default:!1},exact:{type:Boolean,default:!1}}},BtnGroup={functional:!0,render:function(e,t){var o=t.props,n=t.children;return e("div",mergeData(t.data,{class:defineProperty({"btn-group":!o.vertical,"btn-group-vertical":o.vertical,"btn-group-justified":o.justified},"btn-group-"+o.size,o.size),attrs:{role:"group","data-toggle":"buttons"}}),n)},props:{size:String,vertical:{type:Boolean,default:!1},justified:{type:Boolean,default:!1}}},INPUT_TYPE_CHECKBOX="checkbox",INPUT_TYPE_RADIO="radio",Btn={functional:!0,mixins:[linkMixin],render:function(e,t){var o,n=t.children,a=t.props,i=t.data,r=i.on||{},s=a.inputType===INPUT_TYPE_CHECKBOX?a.value.indexOf(a.inputValue)>=0:a.value===a.inputValue,l=(o={btn:!0,active:a.inputType?s:a.active,disabled:a.disabled,"btn-block":a.block},defineProperty(o,"btn-"+a.type,Boolean(a.type)),defineProperty(o,"btn-"+a.size,Boolean(a.size)),o),d={click:function(e){a.disabled&&e instanceof Event&&(e.preventDefault(),e.stopPropagation())}},u=void 0,c=void 0,p=void 0;return a.href?(u="a",p=n,c=mergeData(i,{on:d,class:l,attrs:{role:"button",href:a.href,target:a.target}})):a.to?(u="router-link",p=n,c=mergeData(i,{nativeOn:d,class:l,props:{event:a.disabled?"":"click",to:a.to,replace:a.replace,append:a.append,exact:a.exact},attrs:{role:"button"}})):a.inputType?(u="label",c=mergeData(i,{on:d,class:l}),p=[e("input",{attrs:{autocomplete:"off",type:a.inputType,checked:s?"checked":null,disabled:a.disabled},domProps:{checked:s},on:{input:function(e){e.stopPropagation()},change:function(){if(a.inputType===INPUT_TYPE_CHECKBOX){var e=a.value.slice();s?e.splice(e.indexOf(a.inputValue),1):e.push(a.inputValue),r.input(e)}else r.input(a.inputValue)}}}),n]):a.justified?(u=BtnGroup,c={},p=[e("button",mergeData(i,{on:d,class:l,attrs:{type:a.nativeType,disabled:a.disabled}}),n)]):(u="button",p=n,c=mergeData(i,{on:d,class:l,attrs:{type:a.nativeType,disabled:a.disabled}})),e(u,c,p)},props:{justified:{type:Boolean,default:!1},type:{type:String,default:"default"},nativeType:{type:String,default:"button"},size:String,block:{type:Boolean,default:!1},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},value:null,inputValue:null,inputType:{type:String,validator:function(e){return e===INPUT_TYPE_CHECKBOX||e===INPUT_TYPE_RADIO}}}},EVENTS={MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",FOCUS:"focus",BLUR:"blur",CLICK:"click",INPUT:"input",KEY_DOWN:"keydown",KEY_UP:"keyup",KEY_PRESS:"keypress",RESIZE:"resize",SCROLL:"scroll",TOUCH_START:"touchstart",TOUCH_END:"touchend"};function isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode}function isIE10(){return-1!==window.navigator.appVersion.indexOf("MSIE 10")}function getComputedStyle(e){return window.getComputedStyle(e)}function getViewportSize(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}var scrollbarWidth=null,savedScreenSize=null;function getScrollbarWidth(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=getViewportSize();if(null!==scrollbarWidth&&!e&&t.height===savedScreenSize.height&&t.width===savedScreenSize.width)return scrollbarWidth;if("loading"===document.readyState)return null;var o=document.createElement("div"),n=document.createElement("div");return o.style.width=n.style.width=o.style.height=n.style.height="100px",o.style.overflow="scroll",n.style.overflow="hidden",document.body.appendChild(o),document.body.appendChild(n),scrollbarWidth=Math.abs(o.scrollHeight-n.scrollHeight),document.body.removeChild(o),document.body.removeChild(n),savedScreenSize=t,scrollbarWidth}function on(e,t,o){e.addEventListener(t,o)}function off(e,t,o){e.removeEventListener(t,o)}function isElement(e){return e&&e.nodeType===Node.ELEMENT_NODE}function removeFromDom(e){isElement(e)&&isElement(e.parentNode)&&e.parentNode.removeChild(e)}function addClass(e,t){if(isElement(e))if(e.className){var o=e.className.split(" ");o.indexOf(t)<0&&(o.push(t),e.className=o.join(" "))}else e.className=t}function removeClass(e,t){if(isElement(e)&&e.className){for(var o=e.className.split(" "),n=[],a=0,i=o.length;a<i;a++)o[a]!==t&&n.push(o[a]);e.className=n.join(" ")}}function hasScrollbar(e){var t=e.scrollHeight>e.clientHeight,o=getComputedStyle(e);return t||"scroll"===o.overflow||"scroll"===o.overflowY}function toggleBodyOverflow(e){var t=document.body;if(e)removeClass(t,"modal-open"),t.style.paddingRight=null;else{var o=isIE10()||isIE11();(hasScrollbar(document.documentElement)||hasScrollbar(document.body))&&!o&&(t.style.paddingRight=getScrollbarWidth()+"px"),addClass(t,"modal-open")}}var MODAL_BACKDROP="modal-backdrop",IN="in",getOpenModals=function(){return document.querySelectorAll("."+MODAL_BACKDROP)},getOpenModalNum=function(){return getOpenModals().length},Modal={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"modal",class:{fade:e.transitionDuration>0},attrs:{tabindex:"-1",role:"dialog"},on:{click:function(t){return t.target!==t.currentTarget?null:e.backdropClicked(t)}}},[o("div",{ref:"dialog",staticClass:"modal-dialog",class:e.modalSizeClass,attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[e.header?o("div",{staticClass:"modal-header"},[e._t("header",[e.dismissBtn?o("button",{staticClass:"close",staticStyle:{position:"relative","z-index":"1060"},attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.toggle(!1)}}},[o("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])]):e._e(),e._v(" "),o("h4",{staticClass:"modal-title"},[e._t("title",[e._v(e._s(e.title))])],2)])],2):e._e(),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("default")],2),e._v(" "),e.footer?o("div",{staticClass:"modal-footer"},[e._t("footer",[o("btn",{attrs:{type:e.cancelType},on:{click:function(t){return e.toggle(!1,"cancel")}}},[o("span",[e._v(e._s(e.cancelText||e.t("uiv.modal.cancel")))])]),e._v(" "),o("btn",{attrs:{type:e.okType,"data-action":"auto-focus"},on:{click:function(t){return e.toggle(!1,"ok")}}},[o("span",[e._v(e._s(e.okText||e.t("uiv.modal.ok")))])])])],2):e._e()])]),e._v(" "),o("div",{ref:"backdrop",staticClass:"modal-backdrop",class:{fade:e.transitionDuration>0}})])},staticRenderFns:[],mixins:[Local],components:{Btn:Btn},props:{value:{type:Boolean,default:!1},title:String,size:String,backdrop:{type:Boolean,default:!0},footer:{type:Boolean,default:!0},header:{type:Boolean,default:!0},cancelText:String,cancelType:{type:String,default:"default"},okText:String,okType:{type:String,default:"primary"},dismissBtn:{type:Boolean,default:!0},transitionDuration:{type:Number,default:150},autoFocus:{type:Boolean,default:!1},keyboard:{type:Boolean,default:!0},beforeClose:Function,zOffset:{type:Number,default:20},appendToBody:{type:Boolean,default:!1},displayStyle:{type:String,default:"block"}},data:function(){return{msg:""}},computed:{modalSizeClass:function(){return defineProperty({},"modal-"+this.size,Boolean(this.size))}},watch:{value:function(e){this.$toggle(e)}},mounted:function(){removeFromDom(this.$refs.backdrop),on(window,EVENTS.MOUSE_DOWN,this.suppressBackgroundClose),on(window,EVENTS.KEY_UP,this.onKeyPress),this.value&&this.$toggle(!0)},beforeDestroy:function(){clearTimeout(this.timeoutId),removeFromDom(this.$refs.backdrop),removeFromDom(this.$el),0===getOpenModalNum()&&toggleBodyOverflow(!0),off(window,EVENTS.MOUSE_DOWN,this.suppressBackgroundClose),off(window,EVENTS.MOUSE_UP,this.unsuppressBackgroundClose),off(window,EVENTS.KEY_UP,this.onKeyPress)},methods:{onKeyPress:function(e){if(this.keyboard&&this.value&&27===e.keyCode){var t=this.$refs.backdrop,o=t.style.zIndex;o=o&&"auto"!==o?parseInt(o):0;for(var n=getOpenModals(),a=n.length,i=0;i<a;i++)if(n[i]!==t){var r=n[i].style.zIndex;if((r=r&&"auto"!==r?parseInt(r):0)>o)return}this.toggle(!1)}},toggle:function(e,t){var o=this,n=!0;if(isFunction(this.beforeClose)&&(n=this.beforeClose(t)),isPromiseSupported())Promise.resolve(n).then(function(n){!e&&n&&(o.msg=t,o.$emit("input",e))});else{if(!e&&!n)return;this.msg=t,this.$emit("input",e)}},$toggle:function(e){var t=this,o=this.$el,n=this.$refs.backdrop;if(clearTimeout(this.timeoutId),e){var a=getOpenModalNum();if(document.body.appendChild(n),this.appendToBody&&document.body.appendChild(o),o.style.display=this.displayStyle,o.scrollTop=0,n.offsetHeight,toggleBodyOverflow(!1),addClass(n,IN),addClass(o,IN),a>0){var i=parseInt(getComputedStyle(o).zIndex)||1050,r=parseInt(getComputedStyle(n).zIndex)||1040,s=a*this.zOffset;o.style.zIndex=""+(i+s),n.style.zIndex=""+(r+s)}this.timeoutId=setTimeout(function(){if(t.autoFocus){var e=t.$el.querySelector('[data-action="auto-focus"]');e&&e.focus()}t.$emit("show"),t.timeoutId=0},this.transitionDuration)}else removeClass(n,IN),removeClass(o,IN),this.timeoutId=setTimeout(function(){o.style.display="none",removeFromDom(n),t.appendToBody&&removeFromDom(o),0===getOpenModalNum()&&toggleBodyOverflow(!0),t.$emit("hide",t.msg||"dismiss"),t.msg="",t.timeoutId=0,o.style.zIndex="",n.style.zIndex=""},this.transitionDuration)},suppressBackgroundClose:function(e){e&&e.target===this.$el||(this.isCloseSuppressed=!0,on(window,"mouseup",this.unsuppressBackgroundClose))},unsuppressBackgroundClose:function(){var e=this;this.isCloseSuppressed&&(off(window,"mouseup",this.unsuppressBackgroundClose),setTimeout(function(){e.isCloseSuppressed=!1},1))},backdropClicked:function(e){this.backdrop&&!this.isCloseSuppressed&&this.toggle(!1)}}};export default Modal;