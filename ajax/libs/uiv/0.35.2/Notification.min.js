import Vue from"vue";function isExist(e){return null!=e}function isFunction(e){return"function"==typeof e}function isString(e){return"string"==typeof e}function isPromiseSupported(){return"undefined"!=typeof window&&isExist(window.Promise)}function isElement(e){return e&&e.nodeType===Node.ELEMENT_NODE}function removeFromDom(e){isElement(e)&&isElement(e.parentNode)&&e.parentNode.removeChild(e)}function addClass(e,t){if(isElement(e))if(e.className){var i=e.className.split(" ");i.indexOf(t)<0&&(i.push(t),e.className=i.join(" "))}else e.className=t}function removeClass(e,t){if(isElement(e)&&e.className){for(var i=e.className.split(" "),n=[],s=0,o=i.length;s<o;s++)i[s]!==t&&n.push(i[s]);e.className=n.join(" ")}}function spliceIfExist(e,t){if(Array.isArray(e)){var i=e.indexOf(t);i>=0&&e.splice(i,1)}}var _queues,defineProperty=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Alert={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.alertClass,attrs:{role:"alert"}},[this.dismissible?t("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeAlert}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])]):this._e(),this._v(" "),this._t("default")],2)},staticRenderFns:[],props:{dismissible:{type:Boolean,default:!1},duration:{type:Number,default:0},type:{type:String,default:"info"}},data:function(){return{timeout:0}},computed:{alertClass:function(){var e;return defineProperty(e={alert:!0},"alert-"+this.type,Boolean(this.type)),defineProperty(e,"alert-dismissible",this.dismissible),e}},methods:{closeAlert:function(){clearTimeout(this.timeout),this.$emit("dismissed")}},mounted:function(){this.duration>0&&(this.timeout=setTimeout(this.closeAlert,this.duration))},destroyed:function(){clearTimeout(this.timeout)}},TYPES={SUCCESS:"success",INFO:"info",DANGER:"danger",WARNING:"warning"},PLACEMENTS$1={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right"},IN_CLASS="in",ICON="glyphicon",WIDTH=300,TRANSITION_DURATION=300,Notification$1={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("alert",{staticClass:"fade",class:e.customClass,style:e.styles,attrs:{type:e.type,duration:e.duration,dismissible:e.dismissible},on:{dismissed:e.onDismissed}},[i("div",{staticClass:"media",staticStyle:{margin:"0"}},[e.icons?i("div",{staticClass:"media-left"},[i("span",{class:e.icons,staticStyle:{"font-size":"1.5em"}})]):e._e(),e._v(" "),i("div",{staticClass:"media-body"},[e.title?i("div",{staticClass:"media-heading"},[i("b",[e._v(e._s(e.title))])]):e._e(),e._v(" "),e.html?i("div",{domProps:{innerHTML:e._s(e.content)}}):i("div",[e._v(e._s(e.content))])])])])},staticRenderFns:[],components:{Alert:Alert},props:{title:String,content:String,html:{type:Boolean,default:!1},duration:{type:Number,default:5e3},dismissible:{type:Boolean,default:!0},type:String,placement:String,icon:String,customClass:null,cb:{type:Function,required:!0},queue:{type:Array,required:!0},offsetY:{type:Number,default:15},offsetX:{type:Number,default:15},offset:{type:Number,default:15}},data:function(){return{height:0,top:0,horizontal:this.placement===PLACEMENTS$1.TOP_LEFT||this.placement===PLACEMENTS$1.BOTTOM_LEFT?"left":"right",vertical:this.placement===PLACEMENTS$1.TOP_LEFT||this.placement===PLACEMENTS$1.TOP_RIGHT?"top":"bottom"}},created:function(){this.top=this.getTotalHeightOfQueue(this.queue)},mounted:function(){var e=this,t=this.$el;t.style[this.vertical]=this.top+"px",this.$nextTick(function(){t.style[e.horizontal]="-"+WIDTH+"px",e.height=t.offsetHeight,t.style[e.horizontal]=e.offsetX+"px",addClass(t,IN_CLASS)})},computed:{styles:function(){var e,t=this.queue,i=t.indexOf(this);return defineProperty(e={position:"fixed"},this.vertical,this.getTotalHeightOfQueue(t,i)+"px"),defineProperty(e,"width",WIDTH+"px"),defineProperty(e,"transition","all "+TRANSITION_DURATION/1e3+"s ease-in-out"),e},icons:function(){if(isString(this.icon))return this.icon;switch(this.type){case TYPES.INFO:case TYPES.WARNING:return ICON+" "+ICON+"-info-sign";case TYPES.SUCCESS:return ICON+" "+ICON+"-ok-sign";case TYPES.DANGER:return ICON+" "+ICON+"-remove-sign";default:return null}}},methods:{getTotalHeightOfQueue:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,i=this.offsetY,n=0;n<t;n++)i+=e[n].height+this.offset;return i},onDismissed:function(){removeClass(this.$el,IN_CLASS),setTimeout(this.cb,TRANSITION_DURATION)}}},queues=(defineProperty(_queues={},PLACEMENTS$1.TOP_LEFT,[]),defineProperty(_queues,PLACEMENTS$1.TOP_RIGHT,[]),defineProperty(_queues,PLACEMENTS$1.BOTTOM_LEFT,[]),defineProperty(_queues,PLACEMENTS$1.BOTTOM_RIGHT,[]),_queues),destroy=function(e,t){removeFromDom(t.$el),t.$destroy(),spliceIfExist(e,t)},init=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=e.placement,o=queues[s];if(isExist(o)){"error"===e.type&&(e.type="danger");var r=new Vue({extends:Notification$1,propsData:_extends({queue:o,placement:s},e,{cb:function(e){destroy(o,r),isFunction(t)?t(e):i&&n&&i(e)}})});r.$mount(),document.body.appendChild(r.$el),o.push(r)}},_notify=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(isString(e)&&(e={content:e}),isExist(e.placement)||(e.placement=PLACEMENTS$1.TOP_RIGHT),isPromiseSupported())return new Promise(function(i,n){init(e,t,i,n)});init(e,t)};function _notify2(e,t){isString(t)?_notify({content:t,type:e}):_notify(_extends({},t,{type:e}))}var notify=Object.defineProperties(_notify,{success:{configurable:!1,writable:!1,value:function(e){_notify2("success",e)}},info:{configurable:!1,writable:!1,value:function(e){_notify2("info",e)}},warning:{configurable:!1,writable:!1,value:function(e){_notify2("warning",e)}},danger:{configurable:!1,writable:!1,value:function(e){_notify2("danger",e)}},error:{configurable:!1,writable:!1,value:function(e){_notify2("danger",e)}},dismissAll:{configurable:!1,writable:!1,value:function(){for(var e in queues)queues.hasOwnProperty(e)&&queues[e].forEach(function(e){e.onDismissed()})}}}),Notification={notify:notify};export default Notification;