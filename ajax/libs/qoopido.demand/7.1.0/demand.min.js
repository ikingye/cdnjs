!function(u,r,t){"use strict";var s,o,f,c,l=u.document,e="demand"in u&&u.demand,d={version:"1.0.0",cache:{},timeout:8e3,pattern:{},modules:{},handler:"module"},h="mock:",p=null,a=void 0,m=!1,v=!0,g="undefined",y="string",w="function",x="postConfigure",n="cacheMiss",i="cacheExceed",b="preResolve",j="preRequest",q="postRequest",k="preProcess",R="postProcess",P="error loading",E="error providing",C="error resolving",M=Array.prototype,T=M.slice,S=M.concat,A=Object,O=A.create,$=A.defineProperty,I=A.getOwnPropertyNames,H=A.getOwnPropertyDescriptor,N=l.createElement("a");function D(e,t,n,r){return{__proto__:p,value:e,enumerable:!!r,configurable:!!n,writable:!!t}}function L(e,t){return typeof e===t}function B(e){return e&&L(e,"object")}function U(e){return L(e,"number")&&isFinite(e)&&Math.floor(e)===e&&0<=e}function z(e,t){return e instanceof t}function W(e,t,n,r,i){$(this,e,new D(t,n,r,i))}function _(e){for(var t,n=this,r=n.prototype,i=I(r),o={constructor:new D(n,v,v)},a=0;(t=i[a])&&!o[t];a++)o[t]=H(r,t);try{n.prototype=O(e.prototype||e,o)}catch(e){}if(n.prototype===r)throw new TypeError("Unable to extend, prototype is not writable");return n}W.call(Object.prototype,"defineProperty",W),W.call(u.Object.prototype,"defineProperty",W),Function.prototype.defineProperty("extends",_),u.Function.prototype.defineProperty("extends",_);var F,X=(F=/^\bv?(?:0|[1-9]\d*)\.(?:0|[1-9]\d*)\.(?:0|[1-9]\d*)(?:-[\da-z-]+(?:\.[\da-z-]+)*)?(?:\+[\da-z-]+(?:\.[\da-z-]+)*)?\b$/i,function(e){return L(e,y)&&F.test(e)});function G(e,t,n){for(var r,i=A.keys(e),o=0;(r=i[o])!==a&&t.call(n,r,e[r])!==m;o++);return n}var J,K,Q,V=function(){for(var e,t=arguments[0],n=1;(e=arguments[n])!==a;n++)G(e,te,t);return t},Y=(Q=new RegExp("[xy]","g"),function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Q,ee)}),Z="setImmediate"in u&&"function"==typeof u.setImmediate?u.setImmediate:"MutationObserver"in u&&"function"==typeof u.MutationObserver?(J={},K=l.createElement("div"),new MutationObserver(function(e){e.forEach(function(e){var t=e.attributeName.substr(1);J[t]&&J[t](),delete J[t]})}).observe(K,{attributes:v}),function(e){var t=Y();J[t]=e,K.setAttribute("i"+t,1)}):r;function ee(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}function te(e,t){var n,r=this[e];t!==a&&(B(t)?(n=B(r),r=t.length!==a?n&&r.length!==a?r:[]:n&&r.length===a?r:{},this[e]=V(r,t)):this[e]=t)}function ne(e,t,n){return T.call(e,t,n)}var re,ie,oe,ae,ue=(oe=/^cache(Miss|Hit|Clear|Exceed)|queue(En|De)queue|(pre|post)(Resolve|Configure|Request|Process|Cache)|provide|reject$/,ae={},fe.prototype={emit:function(e,t){var n,r,i,o=ae[e];if(o){for(n=ne(arguments,2),r=0;i=o.on[r];r++)i.filter&&i.filter!==t||i.callback.apply(p,n);for(r=0;i=o.after[r];r++)i.filter&&i.filter!==t||i.callback.apply(p,n)}return this},on:function(e,t){return de("on",e,t),this},after:function(e,t){return de("after",e,t),this}},new fe),se="WeakMap"in u&&!("ActiveXObject"in u)?u.WeakMap:(re=u.WeakMap,ie=new re,ce.prototype={get:function(e){return ie.get(this).get(e)},set:function(e,t){return ie.get(this).set(e,t),this},has:function(e){return!!this.get(e)},delete:function(e){return ie.get(this).delete(e)}},ce);function ce(){ie.set(this,new re)}function de(e,t,n){var r,i;if(L(t,y)&&L(n,w))for(t=t.split(" ");r=t.shift();)r=r.split(":"),oe.test(r[0])&&((ae[r[0]]||(ae[r[0]]={on:[],after:[]}))[e].push({callback:n,filter:r[1]}),"on"===e&&r[0]===x&&(i=d.modules[r[1]])&&n(i))}function fe(){}function le(){return L(this.uuid,g)&&this.defineProperty("uuid",Y()),this}var he,pe,me,ve,ge,ye,we=(ye=new se,je.prototype={enqueue:function(){var e=ne(arguments);ye.set(this,ye.get(this).concat(e)),ue.emit("queueEnqueue",this.uuid,e)},dequeue:function(){var e=ye.get(this).shift();return ue.emit("queueDequeue",this.uuid,e),e},get current(){return ye.get(this)[0]},get length(){return ye.get(this).length}},je.extends(le)),xe=(pe="object"==typeof u.safari&&u.safari.pushNotification?"beforeunload":"visibilitychange",me=u.requestIdleCallback||function(e,t){var n=+new Date;return r(function(){e({didTimeout:m,timeRemaining:function(){return Math.max(0,50-(new Date-n))}})},t&&t.timeout)},ve=u.cancelIdleCallback||function(e){t(e)},ge=new we,u.addEventListener(pe,function(e){var t;if(ge.length&&("visibilitychange"!==e.type||"hidden"===l.visibilityState))for(he=ve(he);t&&t(),t=ge.dequeue(););},v),function(e,t){ge.enqueue(e),!he&&ge.length&&(he=me(be,{timeout:t}))});function be(){ge.dequeue()(),he=ge.length&&me(be)}function je(){var e=le.call(this);return ye.set(e,[]),e}function qe(){return+new Date}function ke(e){return N.href=e,N.href}var Re=/^(http(s?):)?\/\//i,Pe=/^\.?\.\//,Ee=/((?:\/\/|\/\*)#)\s*(sourceMappingURL)\s*=\s*(?!(?:http[s]?:)?\/\/)(.+?)\.map(?:\s+)?(\*\/)?/g,Ce=/^\//,Me=/\.\w+$/,Te=new RegExp("^"+ke("/")),Se=new RegExp("^demand|provide|path|exports$"),Ae=/^(mock:)?([+-])?((?:[-\w]+\/?)+)?(?:@(.+?))?(?:#(\d+))?!/;function Oe(e,t){var n=e.replace(Ae,"");return Pe.test(n)&&(n="/"+ke((t&&ke(t+"/../")||"/")+n).replace(Te,"")),n}function $e(e,t){var n=e.match(Ae);return(n&&n[1]?"mock:":"")+(n&&n[3]||d.handler)+"!"+Oe(e,t)}var Ie,He,Ne,De,Le,Be,Ue,ze,We,_e=(et.prototype={toString:function(){return this.major+"."+this.minor+"."+this.patch+(this.identifier.length?"-"+this.identifier.join("."):"")},compare:function(e){return Ze(this.major,e.major)||Ze(this.minor,e.minor)||Ze(this.patch,e.patch)||function(e,t){var n,r,i,o,a=0;if(e.length&&!t.length)return-1;if(!e.length&&t.length)return 1;if(!e.length&&!t.length)return 0;do{if(n=e[a],o=typeof(r=t[a]),(i=typeof n)===g&&o===g)return 0;if(o===g)return 1;if(i===g)return-1;if(n!==r){if(i==y&&o!=y)return 1;if(i!=y&&o==y)return-1;if(r<n)return 1;if(n<r)return-1}}while(++a)}(this.identifier,e.identifier)}},et),Fe=(He="[state]",Ne="[value]",De=new RegExp("^[demand]\\[(.+?)\\][state]$"),Le=/^(.+?),(\d+),(\d*),(.+?),(\d+)$/,Be=function(){try{return"localStorage"in u&&u.localStorage}catch(e){return m}}(),Ue=Be?u.localStorage:p,ze=Be&&"remainingSpace"in Ue,We={},ue.on(n,function(e){xe(function(){Ie.clear(e.id)})}).on(i,function(t){s("-!/demand/cache/dispose").then(function(e){xe(function(){e(t.source.length),Ie.set(t)},d.delay)})}).on(q,function(e){e.source&&Xe(e)&&(We[e.id]=v)}).after(R,function(e){We[e.id]&&xe(function(){Ie.set(e)},d.delay)}),(Ye.prototype={get:Be?function(e){var t,n;if(Xe(e)){if(t="[demand]["+e.id+"]",!(n=Ke(t+He)))return;return 1===e.version.compare(new _e(n[0]))||n[2]&&e.lifetime&&n[2]<=qe()?void(e.invalid=!0):(e.source=Ge(t+Ne),xe(function(){Qe(t+He,n)},d.delay),v)}}:function(){},resolve:Be?function(e){this.get(e)?Ve("cacheHit",e):Ve(n,e)}:function(e){Ve(n,e)},set:Be?function(e){var t,n,r;if(Xe(e)){t=[e.version,e.source.length,e.lifetime?qe()+e.lifetime:p,s.version],n="[demand]["+e.id+"]",Ve("preCache",e,t);try{if(r=ze?Ue.remainingSpace:p,Je(n+Ne,e.source),Qe(n+He,t),r!==p&&Ue.remainingSpace===r)throw new Error;Ve("postCache",e,t)}catch(t){Ve(i,e)}}}:function(){},clear:Be?function(e){var t=$e(e),n="[demand]["+t+"]";Ge(n+He)&&(Je(n+He),Je(n+Ne),Ve("cacheClear",gt.get(t)||new gt(t,p,m)))}:function(){}}).clear.all=Be?function(){var t;G(Ue,function(e){(t=e.match(De))&&this(t[1])},this)}:function(){},Ye.prototype.clear.expired=Be?function(){var t,n;G(Ue,function(e){(t=e.match(De))&&(n=Ke("[demand]["+t[1]+"]"+He))&&0<n[2]&&n[2]<=qe()&&this(t[1])},this)}:function(){},Ie=new Ye);function Xe(n){var r;return n.cache!==p?n.cache:(G(d.cache,function(e,t){0===n.path.indexOf(e)&&(!r||t.weight>r.weight)&&(r=t)}),r?r.state:m)}function Ge(e){return Ue.getItem(e)}function Je(e,t){Ue[t?"setItem":"removeItem"](e,t)}function Ke(e){var t,n=Ge(e);if(n&&(t=n.match(Le)))return ne(t,1)}function Qe(e,t){t[4]=qe(),Je(e,t.join(","))}function Ve(e,t,n){ue.emit(e,t.id,t,n)}function Ye(){xe(this.clear.expired.bind(this.clear),d.delay)}function Ze(e,t){return e<t?-1:t<e?1:0}function et(r){if(!X(r))throw new TypeError('"version" must be a valid semver version string');r=function(){for(var e,t=0,n=(n=r.split("-"))[1]?Array.prototype.concat(n[0].split("."),n[1].split(".")):n[0].split(".");e=n[t];t++)n[t]=parseInt(e,10).toString()===e?parseInt(e,10):e;return n}(),this.major=r.shift(),this.minor=r.shift(),this.patch=r.shift(),this.identifier=r}function tt(e,t,n){var r=this;return r.message=e,t&&(r.module=t),n&&(r.stack=ne(n)),r}tt.prototype={toString:function(){var e=this,t=e.message+" "+(e.module?'"'+e.module+'"':"");return e.stack&&(t=tt.traverse(e.stack,t,1)),t}},tt.traverse=function(e,t,n){for(var r,i=new Array(n+1).join(" "),o=0;r=e[o];o++)t+="\n"+i+"> "+r.message+" "+(r.module?'"'+r.module+'"':""),r.stack&&(t=tt.traverse(r.stack,t,n+1));return t};var nt,rt,it,ot,at,ut,st,ct,dt,ft,lt,ht,pt,mt=(ft="pending",lt="resolved",ht="rejected",pt=new se,($t.prototype={isPending:function(){return pt.get(this).state===ft},isResolved:function(){return pt.get(this).state===lt},isRejected:function(){return pt.get(this).state===ht},then:function(e,t){var n=pt.get(this),r=$t.defer();return n.resolved.push({handler:e||$t.resolve,dfd:r}),n.rejected.push({handler:t||$t.reject,dfd:r}),n.state!==ft&&Z(n.handle),r.pledge},catch:function(e){return this.then(a,e)},always:function(e){return this.then(e,e)}}).finally=$t.prototype.always,$t.defer=function(){var n={};return n.pledge=new $t(function(e,t){n.resolve=e,n.reject=t}),n},$t.all=function(e){var t,n,r=$t.defer(),i=0;if(e.length)for(t={dfd:r,resolved:[],rejected:[],total:e.length,count:0};n=e[i];i++)At(n,i,t);else r.resolve();return r.pledge},$t.race=function(e){for(var t,n=$t.defer(),r=0;t=e[r];r++)t.then(n.resolve,n.reject);return e.length||n.resolve(),n.pledge},$t.resolve=function(){var e=$t.defer();return e.resolve.apply(p,arguments),e.pledge},$t.reject=function(){var e=$t.defer();return e.reject.apply(p,arguments),e.pledge},$t),vt=(dt=new se,St.prototype={get:function(e){return e?dt.get(this)[e]:dt.get(this)},set:function(e,t){dt.get(this)[e]=t},remove:function(e){delete dt.get(this)[e]}},St),gt=(at="internal!",ut=new vt,st=/^(?:mock:|internal!)/i,ct=[],Mt.pending=function(){return G(ut.get(),Pt,[])},Mt.resolved=function(){return G(ut.get(),Et,[])},Mt.rejected=function(){return G(ut.get(),Ct,[])},Tt.prototype={enqueue:!0},Tt.get=function(e,t){return ut.get($e(e,t))},Tt.resolve=function(e,t){var n,r=t&&Se.test(e),i=r?this.get(at+t+"/"+e):this.get(e,t);if(!i)if(r){switch(i=new Tt(at+t+"/"+e),e){case"demand":n=G(s,kt,s.bind(t));break;case"provide":n=o.bind(t);break;case"path":n=t;break;case"exports":n={},i.dfd.pledge.then(this.get(t).dfd.resolve)}i.dfd.resolve(n)}else i=new Tt(e,t),s("/demand/handler/"+i.type).then(function(e){i.handler=e,i.mock?i.dfd.resolve(e):Fe.resolve(i)},function(){i.dfd.reject(new tt(P+" (handler)",self.id))});return i},Tt.remove=function(e,t,n){var r=$e(e,t),i=l.querySelector('[demand-id="'+r+'"]');ut.remove(r),ut.remove(h+r),i&&i.parentNode.removeChild(i),n!==m&&Fe.clear(r)},Tt.list=Mt,Tt),yt=(ot=/(.+)\/$/,qt.prototype={matches:function(e){return this.match.test(e)},process:function(e,t){var n=this.location[t];if(n)return e.replace(this.match,n.url)}},qt),wt=(it={},function(e){var r,t="$task = "+e+"; $isTransferable = "+bt+"; onmessage = "+function(e){var t,n=Array.prototype.slice,r=e.data;function i(e){t||(t=!0,postMessage([r[0],0,e.toString()]))}try{$task.apply($task,[function(){var e;t||(t=!0,e=n.call(arguments),postMessage([r[0],1,e],e.filter($isTransferable)))},i].concat(r[1]))}catch(e){i(e)}};return(r=new Worker(URL.createObjectURL(new Blob([t],{type:"application/javascript"})))).onmessage=function(e){var t=e.data[0],n=t?it[t]:null;t&&n&&(e.data[1]?n.resolve.apply(null,e.data[2]):n.reject(e.data[2]),delete it[t])},function(){var e=mt.defer(),t=Y(),n=ne(arguments);return it[t]=e,r.postMessage([t,n],n.filter(bt)),e.pledge}}),xt=(nt=/^(?:\?|)$/,rt=new wt(function(e,t,n){var r,i=new XMLHttpRequest,o=function(){this.readyState<4&&this.abort()}.bind(i);i.ontimeout=i.onerror=i.onabort=function(){t(i.statusText)},i.onprogress=i.onreadystatechange=function(){self.clearTimeout(r),r=self.setTimeout(o,1e4)},i.onload=function(){r=self.clearTimeout(r),"status"in i&&200!==i.status?t(i.statusText):e(i.responseText,i.getResponseHeader&&i.getResponseHeader("content-type"))},i.open("GET",n,!0),i.send(),r=self.setTimeout(o,1e4)}),function(r){var i;function e(e,t){t&&r.handler.validate&&!r.handler.validate(t)?r.dfd.reject(new tt(P+" (content-type)",r.id)):(r.source=e,ue.emit(q,r.type,r))}Re.test(r.path)||G(d.pattern,function(e,t){t.matches(r.path)&&(!i||i.weight<t.weight)&&(i=t)}),function t(n){n=n||0,r.url=l.createElement("a"),r.url.href=i?ke(i.process(r.path,n)):r.path,ue.emit(j,r.type,r),!r.invalid&&!1!==r.cache||(r.url.search+=(nt.test(r.url.search)?"":"&")+qe()),rt(r.url.href).then(e,function(e){n++,i&&i.location[n]?t(n):r.dfd.reject(new tt(P+(e?" (status)":""),r.id))})}()});function bt(e){return e instanceof ArrayBuffer||e instanceof MessagePort||"ImageBitmap"in self&&e instanceof ImageBitmap}function jt(e,t){this[e]={url:ke(t).replace(ot,"$1"),match:new RegExp("^"+t)}}function qt(e,t){var n=this;n.weight=e.length,n.match=new RegExp("^"+e),n.location=[].concat(t),G(n.location,jt,n.location)}function kt(e,t){this[e]=t}function Rt(e){st.test(e)||this.push(e)}function Pt(e,t){!st.test(e)&&t.pledge.isPending()&&this.push(e)}function Et(e,t){!st.test(e)&&t.pledge.isResolved()&&this.push(e)}function Ct(e,t){!st.test(e)&&t.pledge.isRejected()&&this.push(e)}function Mt(){return G(ut.get(),Rt,[])}function Tt(e,t,n){var r=this,i=e.match(Ae)||ct;return r.path=Oe(e,t),r.mock=i[1]?v:m,r.cache=i[2]?"+"===i[1]:p,r.type=i[3]||d.handler,r.version=new _e(i[4]||d.version),r.lifetime=i[5]&&1e3*i[5]||d.lifetime,r.id=(r.mock?h:"")+r.type+"!"+r.path,r.uri=(r.mock?h:"")+r.type+"@"+r.version+(U(r.lifetime)&&0<r.lifetime?"#"+r.lifetime:"")+"!"+r.path,r.dfd=mt.defer(),r.pledge=r.dfd.pledge,r.invalid=!1,r.pledge.then(function(){r.value=ne(arguments)}),n!==m&&ut.set(r.id,r),r}function St(){dt.set(this,{})}function At(e,t,n){e.then(function(){n.resolved[t]=ne(arguments),n.count++,Ot(n)},function(){n.rejected.push(ne(arguments)),Ot(n)})}function Ot(e){e.count===e.total?e.dfd.resolve.apply(p,S.apply([],e.resolved)):e.rejected.length+e.count===e.total&&e.dfd.reject.apply(p,S.apply([],e.rejected))}function $t(e){var t=this;return pt.set(t,{state:ft,handle:function(e,t){var n,r,i=pt.get(this);for(i.state===ft&&(i.state=e,i.value=t);n=i[i.state].shift();)try{if(z(r=n.handler.apply(p,i.value),$t)){r.then(n.dfd.resolve,n.dfd.reject);continue}if(i.state===lt&&L(r,g)){n.dfd.resolve.apply(p,i.value);continue}n.dfd.resolve(r)}catch(e){n.dfd.reject(e)}i.resolved.length=0,i.rejected.length=0}.bind(t),value:p,resolved:[],rejected:[],count:0}),e(function(){var e=this,t=arguments;Z(function(){pt.get(e).handle(lt,t)})}.bind(t),function(){var e=this,t=arguments;Z(function(){pt.get(e).handle(ht,t)})}.bind(t)),t}function It(e){return Array.isArray(e)}function Ht(e){return e&&L(e.then,w)}function Nt(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}function Dt(e,t){this[e]={weight:e.length,state:t}}function Lt(e,t){"base"!==e&&(this[e]=new yt(e,t))}function Bt(e,t){var n=this[e]=this[e]||{};ue.emit("preConfigure",e,n),V(n,t),ue.emit(x,e,n)}function Ut(){var e,t,n,r=ne(arguments),i=this!==u?this:p,o=[],a=0;for(ue.emit(b,p,r,i);e=r[a];a++)L(e,y)?r[a]=gt.resolve(e,i):(r[a]=t=mt.defer(),t.resolve(e)),o.push(r[a].pledge);return(n=1<r.length?mt.all(o):o[0]).always(function(){if(ue.emit("postResolve",p,o,i),n.isRejected())return G(r,function(e,t){t.pledge.isRejected()&&ue.emit("reject",t.path,t)}),mt.reject.apply(null,arguments)})}Ut.configure=function(e){var t=e.cache,n=e.version,r=e.delay,i=e.timeout,o=e.lifetime,a=e.base,u=e.pattern,s=e.modules,c=d.modules;return L(t,"boolean")?d.cache[""]={weight:0,state:t}:B(t)&&G(t,Dt,d.cache),X(n)&&(d.version=n),U(r)&&(d.delay=1e3*r),U(i)&&(d.timeout=1e3*Math.min(Math.max(i,2),20)),U(o)&&0<o&&(d.lifetime=1e3*o),L(a,y)&&""!==a&&(d.pattern.base=new yt("",a)),B(u)&&G(u,Lt,d.pattern),B(s)&&G(s,Bt,c),Ut},Ut.version="7.1.0",Ut.on=ue.on.bind(Ut),Ut.get=function(e,t){var n=gt.get(e,t);return n&&n.value},Ut.list=gt.list,Ut.remove=gt.remove,Ut.cache={clear:Fe.clear},ue.after(n,function(e){new xt(e)}).after(q,function(e){var t=e.handler.onPostRequest;t&&t(e)}).after("cacheHit postRequest",function(e){ue.emit(k,e.id,e)}).after(j,function(e){var t=e.handler.onPreRequest;t&&t(e)}).after(k,function(e){var t=e.handler.onPreProcess;t&&t(e),e.pledge.then(function(){ue.emit(R,e.id,e)}),!0===e.enqueue?f.enqueue(e):z(e.enqueue,mt)&&e.enqueue.then(function(){f.enqueue(e)})}),s=Ut,u.defineProperty("demand",s),(o=function(){var t,e,n,r=L(arguments[0],y)?arguments[0]:p,i=this!==u?this:p,o=It(arguments[r?1:0])?arguments[r?1:0]:p,a=o?arguments[r?2:1]:arguments[r?1:0];if(c.current&&(r=(t=c.current).uri,c.process()),r)return t=t||new gt(r,i),e=Ht(a),n=L(a,w),o&&o.length?s.apply(t.path,o).then(function(){var e;n?Ht(e=a.apply(p,arguments))?e.then(t.dfd.resolve,function(){t.dfd.reject(new tt(E,t.id,arguments))}):t.dfd.resolve(e):t.dfd.resolve(a)},function(){t.dfd.reject(new tt(E,t.id,arguments))}):e?a.then(t.dfd.resolve,t.dfd.reject):t.dfd.resolve(n?a():a),t.dfd.pledge.then(function(){ue.emit("provide",t.path,t)}),t.dfd.pledge;throw new Error("unspecified anonymous provide")}).amd=!0,u.defineProperty("provide",o),s.configure({cache:v,base:"/",pattern:{"/demand":ke((e&&e.url||location.href)+"/../").slice(0,-1)}}),e&&e.settings&&s.configure(e.settings);var zt,Wt=(zt=new se,_t.prototype={process:function(){var e,t=zt.get(this);t.queue.length&&(e=t.current=t.queue.dequeue()).pledge.isPending()?e.handler.process&&e.handler.process(e):t.current=p},get current(){return zt.get(this).current}},_t);function _t(e){var t=this,n={queue:e,current:p};zt.set(t,n),s.on("queueEnqueue:"+e.uuid,function(){n.current||t.process()})}function Ft(e,t){for(var n,r;n=Ee.exec(t);)r=Re.test(n[3])?e.protocol+"//"+e.host+n[3]:(e.pathname+=(Me.test(e.pathname)?"/../":"/")+n[3].replace(Ce,""),e.protocol+"//"+e.host+e.pathname),t=t.replace(n[0],n[1]+" "+n[2]+"="+r+".map"+(n[4]?" "+n[4]:""));return t}function Xt(){}Xt.prototype={validate:p,onPreRequest:p,onPostRequest:p,onPreProcess:p,process:p};var Gt,Jt,Kt,Qt=(Gt=l.getElementsByTagName("head")[0],Kt={umd:!(Jt=/^(application|text)\/(x-)?javascript/),suffix:".js"},s.on("postConfigure:/demand/handler/module",function(e){B(e)&&V(Kt,e)}),Vt.prototype={validate:function(e){return Jt.test(e)},onPreRequest:function(e,t){var n;(t=typeof t!==g?t:Kt.suffix)&&0!==e.path.indexOf("@")&&(n=e.url.pathname,e.url.pathname=n.slice(-t.length)!==t?n+t:n)},onPostRequest:function(e){e.source=Ft(e.url,e.source)},process:function(e){var t,n;e.source&&((t=l.createElement("script")).async=v,t.text=e.source,t.setAttribute("demand-id",e.id),Kt.umd&&(n=u.define,u.define=o),Gt.appendChild(t),Kt.umd&&(u.define=n))}},new(Vt.extends(Xt)));function Vt(){}function tt(e,t,n){return this.message=e,t&&(this.module=t),n&&(this.stack=ne(n)),this}tt.prototype={toString:function(){var e=this,t=e.message+" "+(e.module?'"'+e.module+'"':"");return e.stack&&(t=tt.traverse(e.stack,t,1)),t}},tt.traverse=function(e,t,n){for(var r,i=new Array(n+1).join(" "),o=0;r=e[o];o++)t+="\n"+i+"> "+r.message+" "+(r.module?'"'+r.module+'"':""),r.stack&&(t=tt.traverse(r.stack,t,n+1));return t};var Yt,Zt,en,tn,nn,rn=(nn={},s.on("postConfigure:/demand/handler/bundle",function(e){B(e)&&G(nn=e,fn)}),ln.prototype={validate:Qt.validate,onPreProcess:function(e){var t,n,r,i,o,a=e.source,u=e.dfd,s=nn[e.path];function c(){u.reject(new tt(C,e.id,arguments))}if(e.enqueue=m,s&&(t=function(e){for(var t,n,r=0;n=e[r];r++)if(n=(n=n.match(Ae))&&n[3]||nn.handler,t){if(n!==t)return m}else t=n;return t}(s))){for(;n=Ee.exec(a);)a=a.replace(n[0],"");for(e.source=a,r=[],o=0;i=s[o];o++)r.push(gt.resolve(h+i).pledge);mt.all(r).then(function(){for(r.length=0,o=0;i=s[o];o++)(i=s[o]=gt.get(i)||new gt(i)).handler=arguments[o],r.push(i.pledge);"module"===t?(f.enqueue.apply(f,s),Qt.process(e)):(Qt.process(e),f.enqueue.apply(f,s)),mt.all(r).then(u.resolve,c)},c)}else c()}},new(ln.extends(Xt))),on=(en=/^text\/.+$/,tn={suffix:".html"},s.on("postConfigure:/demand/handler/component",function(e){B(e)&&V(tn,e)}),dn.prototype={validate:function(e){return en.test(e)},onPreRequest:function(e,t){var n;(t=typeof t!==g?t:tn.suffix)&&(n=e.url.pathname,e.url.pathname=n.slice(-t.length)!==t?n+t:n)},onPostRequest:function(e){e.source=Ft(e.url,e.source)},onPreProcess:function(o){var e,t,n,r,i=o.path,a=o.dfd,u=l.createElement("body"),s=[],c=[];function d(){a.reject(new tt(C,o.id,arguments))}for(o.enqueue=m,u.innerHTML=o.source;e=u.firstElementChild;)(t=e.getAttribute("type"))&&(r=t+"!"+i+((n=e.getAttribute("path"))?"/"+n:""),e.parentNode.removeChild(e),s.push({source:e.textContent,uri:r}),c.push(gt.resolve("mock:"+r).pledge));mt.all(c).then(function(){var n,r,e,i=[];for(c.length=0,n=0;r=s[n];n++)(e=gt.get(r.uri)||new gt(r.uri)).source=Ft(e.url,r.source),e.handler=arguments[n],i.push(e),c.push(e.pledge),f.enqueue(e);mt.all(c).then(function(){var e=o.path.length+1,t={};for(n=0;r=arguments[n];n++)t[i[n].path.substr(e)||"main"]=r;a.resolve(t)},d)},d)}},new(dn.extends(Xt))),an=(Yt="/demand/plugin/genie",Zt=[],s.on("postConfigure:"+Yt,function(e){B(e)&&(Zt.length=0,G(e,sn))}).on(b,function(e,t){for(var n,r,i={},o=0;n=e[o];o++)!L(n,y)||Se.test(n)||gt.get(n,t)||"module"===(n=new gt(n,t,m)).type&&(r=un(n.path))&&!Fe.get(n)&&(i[r.prefix]||(i[r.prefix]={fn:r.fn,matches:[]})).matches.push(n);G(i,cn)}),v);function un(e){for(var t,n,r=0;t=Zt[r];r++)t.prefix.test(e)&&(!n||t.weight>n.weight)&&(n=t);return n}function sn(e,t){Zt.push({prefix:new RegExp("^"+e),weight:e.length,fn:t})}function cn(e,t){var n,r=t.matches,i=0;if(1<r.length){for(t.id=Yt+"/"+Nt(JSON.stringify(t.matches));n=r[i];i++)r[i]=new gt(n.uri);s.configure(function(e){var t,n,r=e.matches,i={pattern:{},modules:{"/demand/handler/bundle":{}}},o=0;for(i.pattern[e.id]=e.fn(r),i.modules["/demand/handler/bundle"][e.id]=t=[];n=r[o];o++)t.push(n.path);return i}(t)),s("bundle!"+t.id).then(function(){for(var e,t=0;e=this[t];t++)e.dfd.resolve(arguments[t])}.bind(r),function(){for(var e,t=0;e=this[t];t++)e.dfd.reject(new tt(C,e.id))}.bind(r))}}function dn(){}function fn(e,t){for(var n,r=0;n=t[r];r++)L(n,y)&&(t[r]=$e(n))}function ln(){}function hn(e,t){o(e,function(){return t})}if(f=new we,c=new Wt(f),hn("/demand/abstract/uuid",le),hn("/demand/abstract/handler",Xt),hn("/demand/handler/module",Qt),hn("/demand/handler/bundle",rn),hn("/demand/handler/component",on),hn("/demand/plugin/genie",an),hn("/demand/validator/isTypeOf",L),hn("/demand/validator/isArray",It),hn("/demand/validator/isObject",B),hn("/demand/validator/isInstanceOf",z),hn("/demand/validator/isSemver",X),hn("/demand/validator/isThenable",Ht),hn("/demand/function/resolveUrl",ke),hn("/demand/function/resolveSourcemaps",Ft),hn("/demand/function/merge",V),hn("/demand/function/iterate",G),hn("/demand/function/hash",Nt),hn("/demand/function/defer",Z),hn("/demand/function/idle",xe),hn("/demand/function/uuid",Y),hn("/demand/function/toArray",ne),hn("/demand/task",wt),hn("/demand/weakmap",se),hn("/demand/descriptor",D),hn("/demand/pledge",mt),hn("/demand/queue",we),hn("/demand/failure",tt),hn("/demand/semver",_e),e&&e.main)switch(typeof e.main){case y:s(e.main);break;case w:o("main",e.main())}}("demand-loader"===this.name?parent:this,setTimeout,clearTimeout);