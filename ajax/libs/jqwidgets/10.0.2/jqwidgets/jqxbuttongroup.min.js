!function(l){l.jqx.jqxWidget("jqxButtonGroup","",{}),l.extend(l.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var e={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:l.jqx.mobile.getTouchEventName("touchstart"),mouseup:l.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===l.jqx._jqxButtonGroup.prototype||l.extend(!0,this,e),e},createInstance:function(e){var t=this;t._isTouchDevice=l.jqx.mobile.isTouchDevice(),l.jqx.aria(t),t._baseId=t._baseId+t.element.id,t.addHandler(t.host,"selectstart",function(e){t.disabled||e.preventDefault()})},refresh:function(){var e=this;e.width&&(e.width.toString()&&0<=e.width.toString().indexOf("%")?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){var t=this;if(t._isTouchDevice){var n=t._eventsMap[e]||e;return n+="."+t.element.id}return e+="."+t.element.id},_refreshButtons:function(){var e=this;e.lastElement&&e.lastElement.remove(),e.lastElement=l("<div style='clear: both;'></div>");var t,n=e.host.children(),s=n.length;switch(e.mode){case"radio":e.host.attr("role","radiogroup");break;case"checkbox":case"default":e.host.attr("role","group")}for(var o=new Number(100/s).toFixed(2),r=0;r<s;r+=1)t=l(n[r]),e.width&&("horizontal"===e.orientation?(t.css("width",o+"%"),t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("white-space","nowrap"),t.css("text-overflow","ellipsis"),t.css("overflow","hidden")):(t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("width","100%"))),e._refreshButton(t,r,s);e.lastElement.appendTo(e.host)},_refreshButton:function(e,n,s){(function(e){var t=this;e=t._render(e),t._removeStyles(e),t._addStyles(e,n,s),t._performLayout(e),t._removeButtonListeners(e),t._addButtonListeners(e),t._handleButtonId(e,n),"radio"===t.mode?e.attr("role","radio"):e.attr("role","button"),e.attr("disabled",t.disabled),t.disabled?e.addClass(t.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[e])},destroy:function(e){for(var t,n=this,s=n.host.children(),o=s.length,r=0;r<o;r+=1)t=l(s[r]),n._removeStyles(t),n._removeButtonListeners(t);!1!==e&&n.host.remove()},_render:function(e){return"button"===e[0].tagName.toLowerCase()?this._renderFromButton(e):this._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this,n=t.toThemeProperty;t.host.removeClass("jqx-widget"),t.host.removeClass("jqx-rc-all"),e.removeClass(n.call(this,"jqx-fill-state-normal")),e.removeClass(n.call(this,"jqx-group-button-normal")),e.removeClass(n.call(this,"jqx-rc-tl")),e.removeClass(n.call(this,"jqx-rc-bl")),e.removeClass(n.call(this,"jqx-rc-tr")),e.removeClass(n.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,n){var s=this,o=this.toThemeProperty;s.host.addClass(o.call(this,"jqx-widget")),s.host.addClass(o.call(this,"jqx-rc-all")),s.host.addClass(o.call(this,"jqx-buttongroup")),e.addClass(o.call(this,"jqx-button")),e.addClass(o.call(this,"jqx-group-button-normal")),e.addClass(o.call(this,"jqx-fill-state-normal")),s.template&&e.addClass(o.call(this,"jqx-"+s.template)),s.roundedCorners&&(0===t?s._addRoundedCorners(e,!0):t===n-1&&s._addRoundedCorners(e,!1)),"horizontal"===s.orientation?e.css("margin-left",-parseInt(e.css("border-left-width"),10)):e.css("margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var n=this.toThemeProperty;"horizontal"===this.orientation?t?(e.addClass(n.call(this,"jqx-rc-tl")),e.addClass(n.call(this,"jqx-rc-bl"))):(e.addClass(n.call(this,"jqx-rc-tr")),e.addClass(n.call(this,"jqx-rc-br"))):t?(e.addClass(n.call(this,"jqx-rc-tl")),e.addClass(n.call(this,"jqx-rc-tr"))):(e.addClass(n.call(this,"jqx-rc-bl")),e.addClass(n.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(e){var t,n=e.val();""===n&&(n=e.html());var s=e[0].id;return e.wrap("<div/>"),(t=e.parent()).attr("style",e.attr("style")),e.remove(),l.jqx.utilities.html(t,n),t[0].id=s,t},_performLayout:function(e){"horizontal"===this.orientation?this.rtl?e.css("float","right"):e.css("float","left"):e.css("float","none"),this._centerContent(l(e.children()),e)},_mouseEnterHandler:function(e){var t,n=e.data.self,s=l(e.currentTarget);!n._isDisabled(s)&&n.enableHover&&(t=n.toThemeProperty,s.addClass(t.call(n,"jqx-group-button-hover")),s.addClass(t.call(n,"jqx-fill-state-hover")))},_mouseLeaveHandler:function(e){var t,n=e.data.self,s=l(e.currentTarget);!n._isDisabled(s)&&n.enableHover&&(t=n.toThemeProperty,s.removeClass(t.call(n,"jqx-group-button-hover")),s.removeClass(t.call(n,"jqx-fill-state-hover")))},_mouseDownHandler:function(e){var t,n=e.data.self,s=l(e.currentTarget);n._isDisabled(s)||(n._pressed=s,t=n.toThemeProperty,s.addClass(t.call(n,"jqx-group-button-pressed")),s.addClass(t.call(n,"jqx-fill-state-pressed")))},_mouseUpHandler:function(e){var t=e.data.self,n=l(e.currentTarget);t._isDisabled(n)||(t._handleSelection(n),t._pressed=null,n=t._buttonId[n[0].id],t._raiseEvent(2,{index:n.num,button:n.btn}))},_isDisabled:function(e){return!(!e||!e[0])&&this._buttonId[e[0].id].disabled},_documentUpHandler:function(e){var t=e.data.self,n=t._pressed;n&&!t._buttonId[n[0].id].selected&&(n.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(e){var t=this,n=t.addHandler,s=t._getEvent;n(e,s.call(t,"mouseenter"),t._mouseEnterHandler,{self:t}),n(e,s.call(t,"mouseleave"),t._mouseLeaveHandler,{self:t}),n(e,s.call(t,"mousedown"),t._mouseDownHandler,{self:t}),n(e,s.call(t,"mouseup"),t._mouseUpHandler,{self:t}),n(l(document),s.call(t,"mouseup"),t._documentUpHandler,{self:t})},_removeButtonListeners:function(e){var t=this,n=t.removeHandler,s=t._getEvent;n(e,s.call(t,"mouseenter"),t._mouseEnterHandler),n(e,s.call(t,"mouseleave"),t._mouseLeaveHandler),n(e,s.call(t,"mousedown"),t._mouseDownHandler),n(e,s.call(t,"mouseup"),t._mouseUpHandler),n(l(document),s.call(t,"mouseup"),t._documentUpHandler)},_handleSelection:function(e){var t=this;"radio"===t.mode?t._handleRadio(e):"checkbox"===t.mode?t._handleCheckbox(e):t._handleDefault(e)},_handleRadio:function(e){var t=this,n=t._getSelectedButton();for(var s in n&&n.btn[0].id!==e[0].id&&t._unselectButton(n.btn,!0),t._buttonId)t._buttonId[s].selected=!0,t._unselectButton(t._buttonId[s].btn,!1);t._selectButton(e,!0)},_handleCheckbox:function(e){var t=this._buttonId[e[0].id];t.selected?this._unselectButton(t.btn,!0):this._selectButton(e,!0)},_handleDefault:function(e){var t=this;for(var n in t._selectButton(e,!1),t._buttonId)t._buttonId[n].selected=!0,t._unselectButton(t._buttonId[n].btn,!1)},_getSelectedButton:function(){for(var e in this._buttonId)if(this._buttonId[e].selected)return this._buttonId[e];return null},_getSelectedButtons:function(){var e=[];for(var t in this._buttonId)this._buttonId[t].selected&&e.push(this._buttonId[t].num);return e},_getButtonByIndex:function(e){for(var t in this._buttonId)if(this._buttonId[t].num===e)return this._buttonId[t];return null},_selectButton:function(e,t){var n,s=this._buttonId[e[0].id];s.selected||(n=this.toThemeProperty,s.btn.addClass(n.call(this,"jqx-group-button-pressed")),s.btn.addClass(n.call(this,"jqx-fill-state-pressed")),s.selected=!0,t&&this._raiseEvent(0,{index:s.num,button:s.btn}),l.jqx.aria(s.btn,"aria-checked",!0))},_unselectButton:function(e,t){var n,s=this._buttonId[e[0].id];s.selected&&(n=this.toThemeProperty,s.btn.removeClass(n.call(this,"jqx-group-button-pressed")),s.btn.removeClass(n.call(this,"jqx-fill-state-pressed")),s.selected=!1,t&&this._raiseEvent(1,{index:s.num,button:s.btn}),l.jqx.aria(s.btn,"aria-checked",!1))},setSelection:function(e){var t=this;if(-1!==e)if("checkbox"===t.mode)if("number"==typeof e)t._setSelection(e);else for(var n=0;n<e.length;n+=1)t._setSelection(e[n]);else"number"==typeof e&&"radio"===t.mode&&t._setSelection(e);else t.clearSelection()},_setSelection:function(e){var t=this._getButtonByIndex(e);t&&this._handleSelection(t.btn)},getSelection:function(){var e=this;if("radio"===e.mode){if(e._getSelectedButton())return e._getSelectedButton().num}else if("checkbox"===e.mode)return e._getSelectedButtons()},disable:function(){var e,t=this;for(var n in t.disabled=!0,t._buttonId)e=t._buttonId[n],t.disableAt(e.num);l.jqx.aria(t,"aria-disabled",!0)},enable:function(){var e,t=this;for(var n in t.disabled=!1,t._buttonId)e=t._buttonId[n],t.enableAt(e.num);l.jqx.aria(t,"aria-disabled",!1)},disableAt:function(e){var t=this._getButtonByIndex(e);t.disabled||(t.disabled=!0,t.btn.addClass(this.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){var t=this._getButtonByIndex(e);t.disabled&&(t.disabled=!1,t.btn.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var n={btn:e,num:t,selected:!1},s=(s=e[0].id)||this._baseId+e.index();return e[0].id=s,this._buttonId[s]=n,s},_raiseEvent:function(e,t){var n=l.Event(this._events[e]);return n.args=t,this.host.trigger(n)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(e,t,n,s){if("theme"===t&&null!==s&&l.jqx.utilities.setTheme(n,s,e.host),"rtl"===t&&e.refresh(),"template"===t&&e.refresh(),"mode"===t)return e._unselectAll(),void e.refresh();"disabled"===t?s?e.disable():e.enable():e.refresh()}})}(jqxBaseFramework);