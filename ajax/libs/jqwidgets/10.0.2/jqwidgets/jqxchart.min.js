!function(s){s.jqx.jqxWidget("jqxDraw","",{}),s.extend(s.jqx._jqxDraw.prototype,{defineInstance:function(){var e={renderEngine:""};s.extend(!0,this,e);var t=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var i in t)this._addFn(s.jqx._jqxDraw.prototype,t[i]);return s.jqx._jqxDraw.prototype,e},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(e){return s.jqx.createRenderer(this,e)},_internalRefresh:function(){var e,t,i=this;s.jqx.isHidden(i.host)||(i.renderer||(i.host.empty(),i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),e instanceof s.jqx.HTML5Renderer&&e.refresh()))},_saveAsImage:function(e,t,i,r){return s.jqx._widgetToImage(this,e,t,i,r)},_render:function(e){this.renderer;this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(k){k.jqx.toGreyScale=function(e){if(-1==e.indexOf("#"))return e;var t=k.jqx.cssToRgb(e);t[0]=t[1]=t[2]=Math.round(.3*t[0]+.59*t[1]+.11*t[2]);var i=k.jqx.rgbToHex(t[0],t[1],t[2]);return"#"+i[0]+i[1]+i[2]},k.jqx.adjustColor=function(e,t){if("string"!=typeof e)return"#000000";if(-1==e.indexOf("#"))return e;var i=k.jqx.cssToRgb(e),r=k.jqx.rgbToHsl(i);r[2]=Math.min(1,r[2]*t),r[1]=Math.min(1,r[1]*t*1.1),i=k.jqx.hslToRgb(r);for(var e="#",s=0;s<3;s++){var a=Math.round(i[s]);1==(a=k.jqx.decToHex(a)).toString().length&&(e+="0"),e+=a}return e.toUpperCase()},k.jqx.decToHex=function(e){return e.toString(16)},k.jqx.hexToDec=function(e){return parseInt(e,16)},k.jqx.rgbToHex=function(e,t,i){return[k.jqx.decToHex(e),k.jqx.decToHex(t),k.jqx.decToHex(i)]},k.jqx.hexToRgb=function(e,t,i){return[k.jqx.hexToDec(e),k.jqx.hexToDec(t),k.jqx.hexToDec(i)]},k.jqx.cssToRgb=function(e){return e.indexOf("rgb")<=-1?k.jqx.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")},k.jqx.hslToRgb=function(e){var t,i,r,s,a,n=parseFloat(e[0]),o=parseFloat(e[1]),l=parseFloat(e[2]);return 0==o?r=s=a=l:(i=2*l-(t=l<.5?l*(1+o):l+o-l*o),r=k.jqx.hueToRgb(i,t,n+1/3),s=k.jqx.hueToRgb(i,t,n),a=k.jqx.hueToRgb(i,t,n-1/3)),[255*r,255*s,255*a]},k.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},k.jqx.rgbToHsl=function(e){var t,i=parseFloat(e[0])/255,r=parseFloat(e[1])/255,s=parseFloat(e[2])/255,a=Math.max(i,r,s),n=Math.min(i,r,s),o=(a+n)/2;if(a==n)t=h=0;else{var l=a-n,h=.5<o?l/(2-a-n):l/(a+n);switch(a){case i:t=(r-s)/l+(r<s?6:0);break;case r:t=(s-i)/l+2;break;case s:t=(i-r)/l+4}t/=6}return[t,h,o]},k.jqx.swap=function(e,t){},k.jqx.getNum=function(e){if(k.isArray(e)){for(var t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t]}else if(isNaN(e))return 0;return 0},k.jqx._ptdist=function(e,t,i,r){return Math.sqrt((i-e)*(i-e)+(r-t)*(r-t))},k.jqx._ptrnd=function(e){if(!document.createElementNS)return Math.round(e)==e?e:k.jqx._rnd(e,1,!1,!0);var t=k.jqx._rnd(e,.5,!1,!0);return.5!=Math.abs(t-Math.round(t))?e<t?t-.5:t+.5:t},k.jqx._ptRotate=function(e,t,i,r,s){var a=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-r),2)),n=Math.asin((e-i)/a)+s;return{x:e=i+Math.cos(n)*a,y:t=r+Math.sin(n)*a}},k.jqx._rup=function(e){var t=Math.round(e);return t<e&&t++,t},k.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},k.jqx._mod=function(e,t){var i=Math.abs(t<e?t:e),r=1;if(0!=i)for(;i*r<100;)r*=10;return(e*=r)%(t*=r)/r},k.jqx._rnd=function(e,t,i,r){if(isNaN(e))return e;void 0===r&&(r=!0);var s=e-(1==r?e%t:k.jqx._mod(e,t));return e==s?s:(i?s<e&&(s+=t):e<s&&(s-=t),1==t?Math.round(s):s)},k.jqx.commonRenderer={pieSlicePath:function(e,t,i,r,s,a,n){r=r||1;var o=Math.abs(s-a),l=180<o?1:0;360<=o&&(a=s+359.99);var h,d,u=s*Math.PI*2/360,f=a*Math.PI*2/360,c=e,g=e,p=t,x=t,m=!isNaN(i)&&0<i;m&&(n=0),0<n+i&&(0<n&&(h=(o/2+s)*Math.PI*2/360,e+=n*Math.cos(h),t-=n*Math.sin(h)),m&&(c=e+(d=i)*Math.cos(u),p=t-d*Math.sin(u),g=e+d*Math.cos(f),x=t-d*Math.sin(f)));var _=e+r*Math.cos(u),y=e+r*Math.cos(f),v=t-r*Math.sin(u),b=t-r*Math.sin(f),M="",N=.02<Math.abs(Math.abs(a-s)-360);return m?(M="M "+g+","+x,M+=" a"+i+","+i,M+=" 0 "+l+",1 "+(c-g)+","+(p-x),M+=N?" L"+_+","+v:" M"+_+","+v,M+=" a"+r+","+r,M+=" 0 "+l+",0 "+(y-_)+","+(b-v),N&&(M+=" Z")):(M="M "+y+","+b,M+=" a"+r+","+r,M+=" 0 "+l+",1 "+(_-y)+","+(v-b),N&&(M+=" L"+e+","+t,M+=" Z")),M},measureText:function(e,t,i,r,s){var a=s._getTextParts(e,t,i),n=a.width,o=a.height;0==r&&(o/=.6);var l,h,d,u,f,c={};return isNaN(t)&&(t=0),c=0==t?{width:k.jqx._rup(n),height:k.jqx._rup(o)}:(l=t*Math.PI*2/360,h=Math.abs(Math.sin(l)),d=Math.abs(Math.cos(l)),u=Math.abs(n*h+o*d),f=Math.abs(n*d+o*h),{width:k.jqx._rup(f),height:k.jqx._rup(u)}),r&&(c.textPartsInfo=a),c},alignTextInRect:function(e,t,i,r,s,a,n,o,l,h){var d=l*Math.PI*2/360,u=Math.sin(d),f=Math.cos(d),c=s*u,g=s*f;"center"==n||""==n||"undefined"==n?e+=i/2:"right"==n&&(e+=i),"center"==o||"middle"==o||""==o||"undefined"==o?t+=r/2:"bottom"==o?t+=r-a/2:"top"==o&&(t+=a/2);var p="middle";-1!=(h=h||"").indexOf("top")?p="top":-1!=h.indexOf("bottom")&&(p="bottom");var x="center";return-1!=h.indexOf("left")?x="left":-1!=h.indexOf("right")&&(x="right"),"center"==x?(e-=g/2,t-=c/2):"right"==x&&(e-=g,t-=c),"top"==p?(e-=a*u,t+=a*f):"middle"==p&&(e-=a*u/2,t+=a*f/2),{x:e=k.jqx._rup(e),y:t=k.jqx._rup(t)}}},k.jqx.svgRenderer=function(){},k.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>");var t=(this.host=e).find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var e=this.canvas.getBoundingClientRect(),t=parseFloat(e.left)==parseInt(e.left),i=parseFloat(e.top)==parseInt(e.top);if(k.jqx.browser.msie){for(var t=!0,i=!0,r=this.host,s=0,a=0;r&&r.position&&r[0].parentNode;){var n=r.position();s+=parseFloat(n.left)-parseInt(n.left),a+=parseFloat(n.top)-parseInt(n.top),r=r.parent()}t=parseFloat(s)==parseInt(s),i=parseFloat(a)==parseInt(a)}t||(this.host.find(".tdLeft")[0].style.width="0.5px"),i||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var e=this.host.find(".chartContainer");this._width=Math.max(k.jqx._rup(this.host.width())-1,0),this._height=Math.max(k.jqx._rup(this.host.height())-1,0),e[0].style.width=this._width,e[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var e=k.jqx.browser;if(e&&"msie"==e.browser&&e.version<10)return"";var t=window.location.href;return t?t=(t=t.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):t},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(e,t,i){k(e).on?k(e).on(t,i):k(e).bind(t,i)},removeHandler:function(e,t,i){k(e).off?k(e).off(t,i):k(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var r in t)void 0!==t[r]&&"NaN"===t[r].toString()?i.setAttribute(r,0):i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},_getTextParts:function(e,t,i){var r={width:0,height:0,parts:[]};if(void 0===e)return r;var s=e.toString().split("<br>"),a=this._activeParent(),n=document.createElementNS(this._svgns,"text");this.attr(n,i);for(var o=0;o<s.length;o++){var l,h=s[o],d=n.ownerDocument.createTextNode(h);n.appendChild(d),a.appendChild(n);try{l=n.getBBox()}catch(e){}var u=k.jqx._rup(l.width),f=k.jqx._rup(.6*l.height);n.removeChild(d),r.width=Math.max(r.width,u),r.height+=f+(0<o?4:0),r.parts.push({width:u,height:f,text:h})}return a.removeChild(n),r},_measureText:function(e,t,i,r){return k.jqx.commonRenderer.measureText(e,t,i,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h,d){var u,f,c=this._measureText(e,a,n,!0).textPartsInfo,g=c.parts;l=l||"center",h=h||"center",(1<g.length||o)&&(u=this.beginGroup()),o&&(f=this.createClipRect({x:k.jqx._rup(t)-1,y:k.jqx._rup(i)-1,width:k.jqx._rup(r)+2,height:k.jqx._rup(s)+2}),this.setClip(u,f));var p=this._activeParent(),x=c.width,m=c.height;(isNaN(r)||r<=0)&&(r=x),(isNaN(s)||s<=0)&&(s=m);var _=r||0,y=s||0;if(!a||0==a){i+=m,"center"==h||"middle"==h?i+=(y-m)/2:"bottom"==h&&(i+=y-m),r=r||x,s=s||m;for(var p=this._activeParent(),v=0,b=g.length-1;0<=b;b--){var M=document.createElementNS(this._svgns,"text");this.attr(M,n),this.attr(M,{cursor:"default"});var N=M.ownerDocument.createTextNode(g[b].text);M.appendChild(N);var w=t,A=g[b].width,S=g[b].height;"center"==l?w+=(_-A)/2:"right"==l&&(w+=_-A),this.attr(M,{x:k.jqx._rup(w),y:k.jqx._rup(i+v),width:k.jqx._rup(A),height:k.jqx._rup(S)}),p.appendChild(M),v-=g[b].height+4}return u?(this.endGroup(),u):M}var C=k.jqx.commonRenderer.alignTextInRect(t,i,r,s,x,m,l,h,a,d);t=C.x,i=C.y;var j=this.shape("g",{transform:"translate("+t+","+i+")"}),q=this.shape("g",{transform:"rotate("+a+")"});j.appendChild(q);for(v=0,b=g.length-1;0<=b;b--){var T=document.createElementNS(this._svgns,"text");this.attr(T,n),this.attr(T,{cursor:"default"});N=T.ownerDocument.createTextNode(g[b].text);T.appendChild(N);w=0,A=g[b].width,S=g[b].height;"center"==l?w+=(c.width-A)/2:"right"==l&&(w+=c.width-A),this.attr(T,{x:k.jqx._rup(w),y:k.jqx._rup(v),width:k.jqx._rup(A),height:k.jqx._rup(S)}),q.appendChild(T),v-=S+4}return p.appendChild(j),u&&this.endGroup(),j},line:function(e,t,i,r,s){var a=this.shape("line",{x1:e,y1:t,x2:i,y2:r});return this.attr(a,s),a},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(e,t,i,r,s){e=k.jqx._ptrnd(e),t=k.jqx._ptrnd(t),i=Math.max(1,k.jqx._rnd(i,1,!1)),r=Math.max(1,k.jqx._rnd(r,1,!1));var a=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(a,s),a},circle:function(e,t,i,r){var s=this.shape("circle",{cx:e,cy:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(e,t,i,r,s,a,n){return k.jqx.commonRenderer.pieSlicePath(e,t,i,r,s,a,n)},pieslice:function(e,t,i,r,s,a,n,o){var l=this.pieSlicePath(e,t,i,r,s,a,n),h=this.shape("path");return h.setAttribute("d",l),o&&this.attr(h,o),h},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(e,t,i){var r="grd"+this._id+e.replace("#","")+(t?"v":"h"),s="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[s])return s;var a=document.createElementNS(this._svgns,"linearGradient");this.attr(a,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:r});for(var n=0;n<i.length;n++){var o=i[n],l=document.createElementNS(this._svgns,"stop"),h="stop-color:"+k.jqx.adjustColor(e,o[1]);this.attr(l,{offset:o[0]+"%",style:h}),a.appendChild(l)}return this._defs.appendChild(a),this._gradients[s]=!0,s},_toRadialGradient:function(e,t,i){var r="grd"+this._id+e.replace("#","")+"r"+(null!=i?i.key:""),s="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[s])return s;var a=document.createElementNS(this._svgns,"radialGradient");null==i?this.attr(a,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:r}):this.attr(a,{cx:i.x,cy:i.y,r:i.outerRadius,id:r,gradientUnits:"userSpaceOnUse"});for(var n=0;n<t.length;n++){var o=t[n],l=document.createElementNS(this._svgns,"stop"),h="stop-color:"+k.jqx.adjustColor(e,o[1]);this.attr(l,{offset:o[0]+"%",style:h}),a.appendChild(l)}return this._defs.appendChild(a),this._gradients[s]=!0,s}},k.jqx.vmlRenderer=function(){},k.jqx.vmlRenderer.prototype={init:function(e){e.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>");var t=(this.host=e).find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";var i=!0;try{for(var r=0;r<document.namespaces.length;r++)if("v"==document.namespaces[r].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[r].urn){i=!1;break}}catch(e){return!1}return k.jqx.browser.msie&&parseInt(k.jqx.browser.version)<9&&document.childNodes&&0<document.childNodes.length&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(i&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):i&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=t[0],this._width=Math.max(k.jqx._rup(t.width()),0),this._height=Math.max(k.jqx._rup(t.height()),0),t[0].style.width=this._width+2,t[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(e,t,i){k(e).on?k(e).on(t,i):k(e).bind(t,i)},removeHandler:function(e,t,i){k(e).off?k(e).off(t,i):k(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(e,t,i){var r={width:0,height:0,parts:[]},s=e.toString().split("<br>"),a=this._activeParent(),n=document.createElement("v:textbox");this.attr(n,i),a.appendChild(n);for(var o=0;o<s.length;o++){var l=s[o],h=document.createElement("span");h.appendChild(document.createTextNode(l)),n.appendChild(h),i&&i.class&&(h.className=i.class);var d,u=k(n),f=k.jqx._rup(u.width()),c=k.jqx._rup(.6*u.height());0==c&&k.jqx.browser.msie&&parseInt(k.jqx.browser.version)<9&&((d=u.css("font-size"))&&(c=parseInt(d),isNaN(c)&&(c=0))),n.removeChild(h),r.width=Math.max(r.width,f),r.height+=c+(0<o?2:0),r.parts.push({width:f,height:c,text:l})}return a.removeChild(n),r},_measureText:function(e,t,i,r){return t=45<Math.abs(t)?90:0,k.jqx.commonRenderer.measureText(e,t,i,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h){var d;n&&n.stroke&&(d=n.stroke),null==d&&(d="black");var u,f,c=this._measureText(e,a,n,!0),g=c.textPartsInfo.parts,p=c.width,x=c.height;!isNaN(r)&&0!=r||(r=p),!isNaN(s)&&0!=s||(s=x),l=l||"center",h=h||"center",(0<g.length||o)&&(u=this.beginGroup()),o&&(f=this.createClipRect({x:k.jqx._rup(t),y:k.jqx._rup(i),width:k.jqx._rup(r),height:k.jqx._rup(s)}),this.setClip(u,f));var m=this._activeParent(),_=r||0,y=s||0,v=0,b=0;"center"==l?v+=(_-p)/2:"right"==l&&(v+=_-p),"center"==h?b=(y-x)/2:"bottom"==h&&(b=y-x),0==(a=45<Math.abs(a)?90:0)?(i+=x+b,t+=v):(t+=p+v,i+=b);for(var M=0,N=g.length-1;0<=N;N--){var w=g[N],A=(p-w.width)/2;0==a&&"left"==l?A=0:0==a&&"right"==l?A=p-w.width:90==a&&(A=(x-w.width)/2);var S,C=M-w.height,b=90==a?A:C,v=90==a?C:A;(S=document.createElement("v:textbox")).style.position="absolute",S.style.left=k.jqx._rup(t+v),S.style.top=k.jqx._rup(i+b),S.style.width=k.jqx._rup(w.width),S.style.height=k.jqx._rup(w.height),90==a&&(S.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",S.style.height=k.jqx._rup(w.height)+5);var j=document.createElement("span");j.appendChild(document.createTextNode(w.text)),n&&n.class&&(j.className=n.class),S.appendChild(j),m.appendChild(S),M-=w.height+(0<N?2:0)}return u?(this.endGroup(),m):S},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,r,s){var a="M "+e+","+t+" L "+i+","+r+" X E",n=this.path(a);return this.attr(n,s),n},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(e,t,i,r,s){e=k.jqx._ptrnd(e),t=k.jqx._ptrnd(t),i=k.jqx._rup(i),r=k.jqx._rup(r);var a=this.shape("rect",s);return a.style.position="absolute",a.style.left=e,a.style.top=t,a.style.width=i,a.style.height=r,a.strokeweight=0,s&&this.attr(a,s),a},circle:function(e,t,i,r){var s=this.shape("oval");return e=k.jqx._ptrnd(e-i),t=k.jqx._ptrnd(t-i),i=k.jqx._rup(i),s.style.position="absolute",s.style.left=e,s.style.top=t,s.style.width=2*i,s.style.height=2*i,r&&this.attr(s,r),s},updateCircle:function(e,t,i,r){null==t&&(t=parseFloat(e.style.left)+parseFloat(e.style.width)/2),null==i&&(i=parseFloat(e.style.top)+parseFloat(e.style.height)/2),null==r&&(r=parseFloat(e.width)/2),t=k.jqx._ptrnd(t-r),i=k.jqx._ptrnd(i-r),r=k.jqx._rup(r),e.style.left=t,e.style.top=i,e.style.width=2*r,e.style.height=2*r},pieSlicePath:function(e,t,i,r,s,a,n){r=r||1;var o=Math.abs(s-a);360<o&&(s=0,a=360);var l,h,d=s*Math.PI*2/360,u=a*Math.PI*2/360,f=e,c=t,g=!isNaN(i)&&0<i;g&&(n=0),0<n&&(l=(o/2+s)*Math.PI*2/360,e+=n*Math.cos(l),t-=n*Math.sin(l)),g&&(h=i,f=k.jqx._ptrnd(e+h*Math.cos(d)),c=k.jqx._ptrnd(t-h*Math.sin(d)),k.jqx._ptrnd(e+h*Math.cos(u)),k.jqx._ptrnd(t-h*Math.sin(u)));k.jqx._ptrnd(e+r*Math.cos(d));var p=k.jqx._ptrnd(e+r*Math.cos(u)),x=(k.jqx._ptrnd(t-r*Math.sin(d)),k.jqx._ptrnd(t-r*Math.sin(u)));r=k.jqx._ptrnd(r),i=k.jqx._ptrnd(i),e=k.jqx._ptrnd(e),t=k.jqx._ptrnd(t);var m=Math.round(65535*s),_=Math.round(65536*(a-s));i<0&&(i=1);var y="";return g?(y="M"+f+" "+c,y+=" AE "+e+" "+t+" "+i+" "+i+" "+m+" "+_,y+=" L "+p+" "+x,m=Math.round(65535*(s-a)),y+=" AE "+e+" "+t+" "+r+" "+r+" "+(_=Math.round(65536*a))+" "+m,y+=" L "+f+" "+c):(y="M"+e+" "+t,y+=" AE "+e+" "+t+" "+r+" "+r+" "+m+" "+_),y+=" X E"},pieslice:function(e,t,i,r,s,a,n,o){var l=this.pieSlicePath(e,t,i,r,s,a,n),h=this.path(l,o);return o&&this.attr(h,o),h},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var r=this._translateParam(i);null!=t[i]&&("fillcolor"==r&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==r&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==r||"fillopacity"==r?e.fill&&(e.fill.opacity=t[i]):"textContent"==r?e.children[0].innerText=t[i]:"dashstyle"==r?e.dashstyle=t[i].replace(","," "):-1==r.indexOf("style.")?e[r]=t[i]:e.style[r.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(e,t,i){if(this._ie8mode)return e;var r="grd"+e.replace("#","")+(t?"v":"h"),s="#"+r;if(this._gradients[s])return s;var a=document.createElement(this._createElementMarkup("fill"));a.type="gradient",a.method="linear",a.angle=t?0:90;for(var n="",o=0;o<i.length;o++){var l=i[o];0<l&&(n+=", "),n+=l[0]+"% "+k.jqx.adjustColor(e,l[1])}a.colors=n;var h=document.createElement(this._createElementMarkup("shapetype"));return h.appendChild(a),h.id=r,this.canvas.appendChild(h),s}},k.jqx.HTML5Renderer=function(){},k.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&--t,t+.5},k.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var r in t)i[r]=t[r];return this._elements[i.id]=i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,r,s){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(r))throw'Invalid value for "height"';var a=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(a,s),a},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,r,s){return this.path("M "+e+","+t+" L "+i+","+r,s)},circle:function(e,t,i,r){var s=this.shape("circle",{x:e,y:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(e,t,i,r,s,a,n){return k.jqx.commonRenderer.pieSlicePath(e,t,i,r,s,a,n)},pieslice:function(e,t,i,r,s,a,n,o){var l=this.path(this.pieSlicePath(e,t,i,r,s,a,n),o);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:r,angleFrom:s,angleTo:a}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var r=0;t[i].cssRules&&r<t[i].cssRules.length;r++)if(-1!=t[i].cssRules[r].selectorText.indexOf(e))return t[i].cssRules[r].style}catch(e){}return{}},_getTextParts:function(e,t,i){var r,s="Arial",a="10pt",n="";i&&i.class&&((r=this._getCSSStyle(i.class)).fontSize&&(a=r.fontSize),r.fontFamily&&(s=r.fontFamily),r.fontWeight&&(n=r.fontWeight)),this.ctx.font=n+" "+a+" "+s;for(var o={width:0,height:0,parts:[]},l=e.toString().split("<br>"),h=0;h<l.length;h++){var d=l[h],u=this.ctx.measureText(d).width,f=document.createElement("span.jqxchart");f.font=this.ctx.font,f.textContent=d,document.body.appendChild(f);var c=.6*f.offsetHeight;document.body.removeChild(f),o.width=Math.max(o.width,k.jqx._rup(u)),o.height+=c+(0<h?4:0),o.parts.push({width:u,height:c,text:d})}return o},_measureText:function(e,t,i,r){return k.jqx.commonRenderer.measureText(e,t,i,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h,d){var u,f=this.shape("text",{text:e,x:t,y:i,width:r,height:s,angle:a,clip:o,halign:l,valign:h,rotateAround:d});n&&this.attr(f,n),f.fontFamily="Arial",f.fontSize="10pt",f.fontWeight="",f.color="#000000",n&&n.class&&(u=this._getCSSStyle(n.class),f.fontFamily=u.fontFamily||f.fontFamily,f.fontSize=u.fontSize||f.fontSize,f.fontWeight=u.fontWeight||f.fontWeight,f.color=u.color||f.color);var c=this._measureText(e,0,n,!0);return this.attr(f,{textPartsInfo:c.textPartsInfo,textWidth:c.width,textHeight:c.height}),(r<=0||isNaN(r))&&this.attr(f,{width:c.width}),(s<=0||isNaN(s))&&this.attr(f,{height:c.height}),f},_toLinearGradient:function(e,t,i){if(this._renderers._gradients[e])return e;for(var r=[],s=0;s<i.length;s++)r.push({percent:i[s][0]/100,color:k.jqx.adjustColor(e,i[s][1])});var a="gr"+this._gradientId++;return this.createGradient(a,t?"vertical":"horizontal",r),a},_toRadialGradient:function(e,t){if(this._renderers._gradients[e])return e;for(var i=[],r=0;r<t.length;r++)i.push({percent:t[r][0]/100,color:k.jqx.adjustColor(e,t[r][1])});var s="gr"+this._gradientId++;return this.createGradient(s,"radial",i),s},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,r){e._gradients[t]={orientation:i,colorStops:r}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(e,t){var i=e.ctx;if(i.fillStyle="transparent",null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,t.fill&&-1==t.fill.indexOf("#")&&e._gradients[t.fill]){var r,s,a,n,o,l="horizontal"!=e._gradients[t.fill].orientation,h="radial"==e._gradients[t.fill].orientation,d=k.jqx.ptrnd(t.x),u=k.jqx.ptrnd(t.y),f=k.jqx.ptrnd(t.x+(l?0:t.width)),c=k.jqx.ptrnd(t.y+(l?t.height:0));"circle"!=t.type&&"path"!=t.type&&"rect"!=t.type||!h||(s=k.jqx.ptrnd(t.x),a=k.jqx.ptrnd(t.y),n=t.innerRadius||0,o=t.outerRadius||t.r||0,"rect"==t.type&&(s+=t.width/2,a+=t.height/2),r=i.createRadialGradient(s,a,n,s,a,o)),h||((isNaN(d)||isNaN(f)||isNaN(u)||isNaN(c))&&(u=d=0,f=l?0:i.canvas.width,c=l?i.canvas.height:0),r=i.createLinearGradient(d,u,f,c));for(var g=e._gradients[t.fill].colorStops,p=0;p<g.length;p++)r.addColorStop(g[p].percent,g[p].color);i.fillStyle=r}else t.fill&&(i.fillStyle=t.fill)},rect:function(e,t){0!=t.width&&0!=t.height&&(e.fillRect(k.jqx.ptrnd(t.x),k.jqx.ptrnd(t.y),t.width,t.height),e.strokeRect(k.jqx.ptrnd(t.x),k.jqx.ptrnd(t.y),t.width,t.height))},circle:function(e,t){0!=t.r&&(e.beginPath(),e.arc(k.jqx.ptrnd(t.x),k.jqx.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if("0"<=e[i]&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&1<=i&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var r=parseFloat(e.substring(this._pos,i));if(!isNaN(r))return this._pos=i,r},_cmds:"mlcazq",_isRelativeCmd:function(e){return k.jqx.string.contains(this._cmds,e)},_parseCmd:function(e){for(var t=this._pos;t<e.length;t++){if(k.jqx.string.containsIgnoreCase(this._cmds,e[t]))return this._pos=t+1,this._lastCmd=e[t],this._lastCmd;if(" "!=e[t]){if("0"<=e[t]&&e[t]<="9"){if(this._pos=t,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var r=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var s,a,n,o,l=this._parseCmd(i);if(null==l)break;if("M"!=l&&"m"!=l)if("L"!=l&&"l"!=l)if("A"!=l&&"a"!=l){"Z"!=l&&"z"!=l||null==r?"C"!=l&&"c"!=l?"Q"!=l&&"q"!=l||(s=this._parsePoint(i),a=this._parsePoint(i),e.quadraticCurveTo(s.x,s.y,a.x,a.y),this._currentPoint=a):(s=this._parsePoint(i),a=this._parsePoint(i),n=this._parsePoint(i),e.bezierCurveTo(s.x,s.y,a.x,a.y,n.x,n.y),this._currentPoint=n):(e.lineTo(r.x,r.y),this._currentPoint=r)}else{var h=this._parseNumber(i),d=this._parseNumber(i),u=this._parseNumber(i)*(Math.PI/180),f=this._parseNumber(i),c=this._parseNumber(i),g=this._parsePoint(i);if(this._isRelativeCmd(l)&&(g=this._toAbsolutePoint(g)),0==h||0==d)continue;var p=this._currentPoint,x={x:Math.cos(u)*(p.x-g.x)/2+Math.sin(u)*(p.y-g.y)/2,y:-Math.sin(u)*(p.x-g.x)/2+Math.cos(u)*(p.y-g.y)/2},m=Math.pow(x.x,2)/Math.pow(h,2)+Math.pow(x.y,2)/Math.pow(d,2);1<m&&(h*=Math.sqrt(m),d*=Math.sqrt(m));var _=(f==c?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(d,2)-Math.pow(h,2)*Math.pow(x.y,2)-Math.pow(d,2)*Math.pow(x.x,2))/(Math.pow(h,2)*Math.pow(x.y,2)+Math.pow(d,2)*Math.pow(x.x,2)));isNaN(_)&&(_=0);function y(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function v(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(w(e,t))}var b=_*h*x.y/d,M=_*-d*x.x/h,N={x:(p.x+g.x)/2+Math.cos(u)*b-Math.sin(u)*M,y:(p.y+g.y)/2+Math.sin(u)*b+Math.cos(u)*M},w=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(y(e)*y(t))},A=v([1,0],[(x.x-b)/h,(x.y-M)/d]),S=[(x.x-b)/h,(x.y-M)/d],C=[(-x.x-b)/h,(-x.y-M)/d],j=v(S,C);w(S,C)<=-1&&(j=Math.PI),1<=w(S,C)&&(j=0),0==c&&0<j&&(j-=2*Math.PI),1==c&&j<0&&(j+=2*Math.PI);var w=d<h?h:d,q=d<h?1:h/d,T=d<h?d/h:1;e.translate(N.x,N.y),e.rotate(u),e.scale(q,T),e.arc(0,0,w,A,A+j,1-c),e.scale(1/q,1/T),e.rotate(-u),e.translate(-N.x,-N.y)}else{if(null==(o=this._parsePoint(i)))break;e.lineTo(o.x,o.y),this._currentPoint=o}else{if(null==(o=this._parsePoint(i)))break;e.moveTo(o.x,o.y),this._currentPoint=o,null==r&&(r=o)}}e.fill(),e.stroke(),e.closePath()},text:function(e,t){var i=k.jqx.ptrnd(t.x),r=k.jqx.ptrnd(t.y),s=k.jqx.ptrnd(t.width),a=k.jqx.ptrnd(t.height),n=t.halign,o=t.valign,l=t.angle,h=t.rotateAround,d=t.textPartsInfo,u=d.parts,f=t.clip;null==f&&(f=!0),e.save(),n=n||"center",o=o||"center",f&&(e.rect(i,r,s,a),e.clip());var c=t.textWidth,g=t.textHeight,p=s||0,x=a||0;if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,l&&0!=l){var m=k.jqx.commonRenderer.alignTextInRect(i,r,s,a,c,g,n,o,l,h),i=m.x,r=m.y,_=l*Math.PI*2/360;e.translate(i,r),e.rotate(_);for(var y=0,v=d.width,b=u.length-1;0<=b;b--){N=0;"center"==n?N+=(v-u[b].width)/2:"right"==n&&(N+=v-u[b].width),e.fillText(u[b].text,N,y),y-=u[b].height+4}e.restore()}else{r+=g,"center"==o||"middle"==o?r+=(x-g)/2:"bottom"==o&&(r+=x-g),s=s||c,a=a||g;for(var y=0,b=u.length-1;0<=b;b--){var M=u[b],N=i,w=u[b].width;u[b].height;"center"==n?N+=(p-w)/2:"right"==n&&(N+=p-w),e.fillText(M.text,N,r+y),y-=M.height+(0<b?4:0)}e.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},k.jqx.createRenderer=function(e,t){var i=e,r=i.renderer=null;if(document.createElementNS&&"HTML5"!=i.renderEngine&&"VML"!=i.renderEngine&&!(r=new k.jqx.svgRenderer).init(t)){if("SVG"==i.renderEngine)throw"Your browser does not support SVG";return null}if(null==r&&"HTML5"!=i.renderEngine){if(!(r=new k.jqx.vmlRenderer).init(t)){if("VML"==i.renderEngine)throw"Your browser does not support VML";return null}i._isVML=!0}if(null==r&&("HTML5"==i.renderEngine||null==i.renderEngine)&&!(r=new k.jqx.HTML5Renderer).init(t))throw"Your browser does not support HTML5 Canvas";return i.renderer=r},k.jqx._widgetToImage=function(e,t,i,r,s,a){var n=e;if(!n)return!1;null!=i&&""!=i||(i="image."+t);var o=n.renderEngine,l=n.enableAnimations;if(n.enableAnimations=!1,n.renderEngine="HTML5",n.renderEngine!=o)try{n.refresh()}catch(e){return n.renderEngine=o,n.refresh(),n.enableAnimations=l,!1}var h=n.renderer.getContainer().find("canvas")[0],d=!0;k.isFunction(a)&&(d=a(e,h));var u=!0;return d&&(u=k.jqx.exportImage(h,t,i,r,s)),n.renderEngine!=o&&(n.renderEngine=o,n.refresh(),n.enableAnimations=l),u},k.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},k.jqx.exportImage=function(e,t,i,r,s){if(!e)return!1;var a="pdf"===t.toLowerCase();if(a&&(t="jpeg"),null!=i&&""!=i||(i="image."+t),null==r||""==r)throw"Please specifiy export server";var n=!0;try{if(e){var o,l,h,d=e.toDataURL("image/"+t);if(a){k.jqx.pdfExport||(k.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var u=595;switch(k.jqx.pdfExport.paperSize){case"legal":u=612;"portrait"!==k.jqx.pdfExport.orientation&&(u=1008);break;case"letter":u=612;"portrait"!==k.jqx.pdfExport.orientation&&(u=792);break;case"a3":u=841;"portrait"!==k.jqx.pdfExport.orientation&&(u=1190);break;case"a4":u=595;"portrait"!==k.jqx.pdfExport.orientation&&(u=842);break;case"a5":u=420;"portrait"!==k.jqx.pdfExport.orientation&&(u=595)}var f=72*k(e).width()/96;u-20<=f&&(f=u-20);try{var c=new window.pdfDataExport(k.jqx.pdfExport.orientation,"pt",k.jqx.pdfExport.paperSize)}catch(e){c=new window.jqxPdfDataExport(k.jqx.pdfExport.orientation,"pt",k.jqx.pdfExport.paperSize)}return c.addImage(d,"JPEG",10,10,f,0),void c.save(i)}d=d.replace("data:image/"+t+";base64,",""),s?k.ajax({dataType:"string",url:r,type:"POST",data:{content:d,fname:i},async:!1,success:function(e,t,i){n=!0},error:function(e,t,i){n=!1}}):((o=document.createElement("form")).method="POST",o.action=r,o.style.display="none",document.body.appendChild(o),(l=document.createElement("input")).name="fname",l.value=i,l.style.display="none",(h=document.createElement("input")).name="content",h.value=d,h.style.display="none",o.appendChild(l),o.appendChild(h),o.submit(),document.body.removeChild(o),n=!0)}}catch(e){n=!1}return n}}(jqxBaseFramework),function(p){window.jqxPlot=function(){},window.jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||s<i)&&(i=s)}return i},max:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||i<s)&&(i=s)}return i},sum:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||(i+=s)}return i},count:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],r=0;r<e.length;r++)t(e[r])&&i.push(e[r]);return i},scale:function(e,t,i,r){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!r||!0!==r.ignore_range))return NaN;var s,a,n,o,l,h,d,u=NaN,f=1;return void 0===t.type||"logarithmic"!=t.type?(s=(s=Math.abs(t.max-t.min))||1,f=Math.abs(e-Math.min(t.min,t.max))/s):"logarithmic"===t.type&&(o=t.base,isNaN(o)&&(o=10),(n=Math.min(t.min,t.max))<=0&&(n=1),(a=Math.max(t.min,t.max))<=0&&(a=1),l=p.jqx.log(a,o),a=Math.pow(o,l),h=p.jqx.log(n,o),n=Math.pow(o,h),d=p.jqx.log(e,o),f=Math.abs(d-h)/(l-h)),"logarithmic"===i.type?(o=i.base,isNaN(o)&&(o=10),l=p.jqx.log(i.max,o),h=p.jqx.log(i.min,o),i.flip&&(f=1-f),d=Math.min(h,l)+f*Math.abs(l-h),u=Math.pow(o,d)):(u=Math.min(i.min,i.max)+f*Math.abs(i.max-i.min),i.flip&&(u=Math.max(i.min,i.max)-u+i.min)),u},axis:function(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2);for(var r=0;Math.round(e)!=e&&Math.round(t)!=t&&r<10;)e*=10,t*=10,r++;for(var s=(t-e)/i;r<10&&Math.round(s)!=s;)e*=10,t*=10,s*=10,r++;for(var a=[1,2,5],n=0;;){var o=n%a.length,l=Math.floor(n/a.length),h=Math.pow(10,l)*a[o],o=(n+1)%a.length,l=Math.floor((n+1)/a.length),d=Math.pow(10,l)*a[o];if(h<=s&&s<d)break;n++}for(var u=d,f=[],c=p.jqx._rnd(e,u,!1),g=r<=0?1:Math.pow(10,r);c<t+u;)f.push(c/g),c+=u;return f}}}(jqxBaseFramework),function(ge){ge.jqx.jqxWidget("jqxChart","",{}),ge.extend(ge.jqx._jqxChart.prototype,{defineInstance:function(){return ge.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,showToolTipsOnAllSeries:!1,toolTipShowDelay:300,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:ge.jqx.mobile.getTouchEventName("touchstart"),click:ge.jqx.mobile.getTouchEventName("touchstart"),mouseup:ge.jqx.mobile.getTouchEventName("touchend"),mousemove:ge.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(e){if(!ge.jqx.dataAdapter)throw"jqxdata.js is not loaded";var a=this;a._refreshOnDownloadComlete(),a._isTouchDevice=ge.jqx.mobile.isTouchDevice(),a._jqxPlot||(a._jqxPlot=new jqxPlot),a.addHandler(a.host,a._getEvent("mousemove"),function(e){var t,i,r,s;0!=a.enabled&&(a._isRangeSelectorInstance||a.host.css("cursor","default"),r=e.pageX||e.clientX||e.screenX,s=e.pageY||e.clientY||e.screenY,t=a.host.offset(),a._isTouchDevice&&(r=(i=ge.jqx.position(e)).left,s=i.top),r-=t.left,s-=t.top,a.onmousemove(r,s))}),a.addHandler(a.host,a._getEvent("mouseleave"),function(e){var t,i,r;0!=a.enabled&&(t=a._mouseX,i=a._mouseY,(r=a._plotRect)&&t>=r.x&&t<=r.x+r.width&&i>=r.y&&i<=r.y+r.height||(a._cancelTooltipTimer(),a._hideToolTip(0),a._unselect()))}),a.addHandler(a.host,"click",function(i){var e,t,r,s;0!=a.enabled&&(r=i.pageX||i.clientX||i.screenX,s=i.pageY||i.clientY||i.screenY,e=a.host.offset(),a._isTouchDevice&&(r=(t=ge.jqx.position(i)).left,s=t.top),r-=e.left,s-=e.top,a._mouseX=r,a._mouseY=s,!isNaN(a._lastClickTs)&&(new Date).valueOf()-a._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){var e,t;a._isTouchDevice||(a._cancelTooltipTimer(),a._hideToolTip(),a._unselect()),a._pointMarker&&a._pointMarker.element&&(t=(e=a.seriesGroups[a._pointMarker.gidx]).series[a._pointMarker.sidx],i.stopImmediatePropagation(),a._raiseItemEvent("click",e,t,a._pointMarker.iidx))},100)))});var t,i=a.element.style;i&&(t=!1,null!=i.width&&(t|=-1!=i.width.toString().indexOf("%")),null!=i.height&&(t|=-1!=i.height.toString().indexOf("%")),t&&ge.jqx.utilities.resize(this.host,function(){a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){var e=a.enableAnimations;a.enableAnimations=!1,a.refresh(),a.enableAnimations=e},1)},!1,!0))},_refreshOnDownloadComlete:function(){var e,t,i=this,r=this.source;r instanceof ge.jqx.dataAdapter&&(null!=(e=r._options)&&(null==e||e.autoBind)||(r.autoSync=!1,r.dataBind()),t=this.element.id,0==r.records.length?(r.unbindDownloadComplete(t),r.bindDownloadComplete(t,function(){i.ready&&i.ready(),i.refresh()})):i.ready&&i.ready(),r.unbindBindingUpdate(t),r.bindBindingUpdate(t,function(){i._supressBindingRefresh||i.refresh()}))},propertyChangedHandler:function(e,t,i,r){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(e){if(!ge.jqx.createRenderer)throw"Please include jqxdraw.js";return ge.jqx.createRenderer(this,e)},_internalRefresh:function(){var e,t,i=this;ge.jqx.isHidden(i.host)||(i._stopAnimations(),i.renderer&&(i._isToggleRefresh||i._isUpdate)||(i._hideToolTip(0),i._isVML=!1,i.host.empty(),i._measureDiv=void 0,i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),this._raiseEvent("refreshBegin",{instance:this}),e instanceof ge.jqx.HTML5Renderer&&e.refresh(),i._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})))},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(e,t,i,r){for(var s=!1,a=0;a<this.seriesGroups.length&&!s;a++){var n=this._getXAxis(a);n&&n.rangeSelector&&(s=!0)}return ge.jqx._widgetToImage(this,e,t,i,r,s?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(e,t){for(var i=e,r=0;r<i.seriesGroups.length;r++){var s=i._getXAxis(r);if(s&&s.rangeSelector&&!s.rangeSelector.renderTo){var a=i._rangeSelectorInstances[r];if(a){var n=a.jqxChart("getInstance"),o=(n.renderEngine,n.renderer.getRect()),l=n.renderer.getContainer().find("canvas")[0].getContext("2d"),h=i._sliders[r],d="horizontal"==i.seriesGroups[r].orientation,u=d?"height":"width",f=d?"width":"height",c=d?"y":"x",g=d?"x":"y",p={};p[c]=h.startOffset+h.rect[c],p[g]=h.rect[g],p[u]=h.endOffset-h.startOffset,p[f]=h.rect[f];var x=s.rangeSelector.colorSelectedRange||"blue",m=(s.rangeSelector.colorUnselectedRange,s.rangeSelector.colorRangeLine||"grey"),_=[];_.push(n.renderer.rect(p.x,p.y,p.width,p.height,{fill:x,opacity:.1})),d?(_.push(n.renderer.line(ge.jqx._ptrnd(h.rect.x+h.rect.width),ge.jqx._ptrnd(h.rect.y),ge.jqx._ptrnd(h.rect.x+h.rect.width),ge.jqx._ptrnd(p.y),{stroke:m,opacity:.5})),_.push(n.renderer.line(ge.jqx._ptrnd(h.rect.x+h.rect.width),ge.jqx._ptrnd(p.y+p.height),ge.jqx._ptrnd(h.rect.x+h.rect.width),ge.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:m,opacity:.5})),_.push(n.renderer.line(ge.jqx._ptrnd(h.rect.x),ge.jqx._ptrnd(p.y),ge.jqx._ptrnd(h.rect.x+h.rect.width),ge.jqx._ptrnd(p.y),{stroke:m,opacity:.5})),_.push(n.renderer.line(ge.jqx._ptrnd(h.rect.x),ge.jqx._ptrnd(p.y+p.height),ge.jqx._ptrnd(h.rect.x+h.rect.width),ge.jqx._ptrnd(p.y+p.height),{stroke:m,opacity:.5}))):(_.push(n.renderer.line(ge.jqx._ptrnd(h.rect.x),ge.jqx._ptrnd(h.rect.y),ge.jqx._ptrnd(p.x),ge.jqx._ptrnd(h.rect.y),{stroke:m,opacity:.5})),_.push(n.renderer.line(ge.jqx._ptrnd(p.x+p.width),ge.jqx._ptrnd(h.rect.y),ge.jqx._ptrnd(h.rect.x+h.rect.width),ge.jqx._ptrnd(h.rect.y),{stroke:m,opacity:.5})),_.push(n.renderer.line(ge.jqx._ptrnd(p.x),ge.jqx._ptrnd(h.rect.y),ge.jqx._ptrnd(p.x),ge.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:m,opacity:.5})),_.push(n.renderer.line(ge.jqx._ptrnd(p.x+p.width),ge.jqx._ptrnd(h.rect.y),ge.jqx._ptrnd(p.x+p.width),ge.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:m,opacity:.5}))),n.renderer.refresh();var y=l.getImageData(o.x,o.y,o.width,o.height);t.getContext("2d").putImageData(y,parseInt(a.css("left")),parseInt(a.css("top")),1,1,o.width,o.height);for(var v=0;v<_.length;v++)n.renderer.removeElement(_[v]);n.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e=this;for(var t in e._defaultSettings)e[t]=e._defaultSettings[t];e.title="",e.description="",e.refresh()},_validateSeriesGroups:function(){if(!ge.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(!t.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!ge.isArray(t.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(e){var t=this,i=t.renderer;t._validateSeriesGroups(),t._colorsCache.clear(),!t._isToggleRefresh&&t._isUpdate&&t._renderData&&t._renderDataClone(),t._renderData=[],i.clear(),t._unselect(),t._hideToolTip(0);var r=t.backgroundImage;null==r||""==r?t.host.css({"background-image":""}):t.host.css({"background-image":-1!=r.indexOf("(")?r:"url('"+r+"')"}),t._rect=e;var s=t.padding||{left:5,top:5,right:5,bottom:5},a=i.createClipRect(e),n=i.beginGroup();i.setClip(n,a);var o,l,h=i.rect(e.x,e.y,e.width-2,e.height-2);null==r||""==r?i.attr(h,{fill:t.backgroundColor||t.background||"white"}):i.attr(h,{fill:"transparent"}),0!=t.showBorderLine?(null==(o=null==t.borderLineColor?t.borderColor:t.borderLineColor)&&(o=t._defaultLineColor),l=this.borderLineWidth,(isNaN(l)||l<0||10<l)&&(l=1),i.attr(h,{"stroke-width":l,stroke:o})):ge.jqx.browser.msie&&ge.jqx.browser.version<9&&i.attr(h,{"stroke-width":1,stroke:t.backgroundColor||"white"}),ge.isFunction(t.drawBefore)&&t.drawBefore(i,e);var d={x:s.left,y:s.top,width:e.width-s.left-s.right,height:e.height-s.top-s.bottom};t._paddedRect=d;var u,f,c,g=t.titlePadding||{left:2,top:2,right:2,bottom:2};t.title&&0<t.title.length&&(u=t.toThemeProperty("jqx-chart-title-text",null),f=i.measureText(t.title,0,{class:u}),i.text(t.title,d.x+g.left,d.y+g.top,d.width-(g.left+g.right),f.height,0,{class:u},!0,"center","center"),d.y+=f.height,d.height-=f.height),t.description&&0<t.description.length&&(c=t.toThemeProperty("jqx-chart-title-description",null),f=i.measureText(t.description,0,{class:c}),i.text(t.description,d.x+g.left,d.y+g.top,d.width-(g.left+g.right),f.height,0,{class:c},!0,"center","center"),d.y+=f.height,d.height-=f.height),(t.title||t.description)&&(d.y+=g.bottom+g.top,d.height-=g.bottom+g.top);var p={x:d.x,y:d.y,width:d.width,height:d.height};t._plotRect=p,t._buildStats(p);for(var x,m=t._isPieOnlySeries(),_=t.seriesGroups,y={xAxis:{},valueAxis:{}},v=0;v<_.length&&!m;v++)if("pie"!=_[v].type&&"donut"!=_[v].type){if(!(Y=t._getXAxis(v)))throw"seriesGroup["+v+"] is missing xAxis definition";var b=Y==t._getXAxis()?-1:v;y.xAxis[b]=0}var M=t.axisPadding;isNaN(M)&&(M=5);var N={left:0,right:0,leftCount:0,rightCount:0},w=[];for(v=0;v<_.length;v++){"pie"!=(z=_[v]).type&&"donut"!=z.type&&1!=z.spider&&1!=z.polar?(x="horizontal"==z.orientation,b=(Y=t._getXAxis(v))==t._getXAxis()?-1:v,L=(A=t._getValueAxis(v))==t._getValueAxis()?-1:v,I=x?Y.axisSize:A.axisSize,G={x:0,y:p.y,width:p.width,height:p.height},S=x?t._getXAxis(v).position:A.position,I&&"auto"!=I||(x?(I=this._renderXAxis(v,G,!0,p).width,1==(1&y.xAxis[b])?I=0:0<I&&(y.xAxis[b]|=1)):(I=t._renderValueAxis(v,G,!0,p).width,1==(1&y.valueAxis[L])?I=0:0<I&&(y.valueAxis[L]|=1))),"left"!=S&&1==t.rtl&&(S="right"),"right"!=S&&(S="left"),0<N[S+"Count"]&&0<N[S]&&0<I&&(N[S]+=M),w.push({width:I,position:S,xRel:N[S]}),N[S]+=I,N[S+"Count"]++):w.push({width:0,position:0,xRel:0})}var A,S,C=Math.max(1,Math.max(e.width,e.height)),j={top:0,bottom:0,topCount:0,bottomCount:0},q=[];for(v=0;v<_.length;v++){"pie"!=(z=_[v]).type&&"donut"!=z.type&&1!=z.spider&&1!=z.polar?(x="horizontal"==z.orientation,L=(A=this._getValueAxis(v))==t._getValueAxis()?-1:v,b=(Y=t._getXAxis(v))==t._getXAxis()?-1:v,O=x?A.axisSize:Y.axisSize,S=x?A.position:Y.position,O&&"auto"!=O||(x?(O=t._renderValueAxis(v,{x:0,y:0,width:C,height:0},!0,p).height,2==(2&y.valueAxis[L])?O=0:0<O&&(y.valueAxis[L]|=2)):(O=t._renderXAxis(v,{x:0,y:0,width:C,height:0},!0).height,2==(2&y.xAxis[b])?O=0:0<O&&(y.xAxis[b]|=2))),"top"!=S&&(S="bottom"),0<j[S+"Count"]&&0<j[S]&&0<O&&(j[S]+=M),q.push({height:O,position:S,yRel:j[S]}),j[S]+=O,j[S+"Count"]++):q.push({height:0,position:0,yRel:0})}t._createAnimationGroup("series");var T=0!=t.showLegend,k=T?t._renderLegend(t.legendLayout?t._rect:d,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(k={width:0,height:0}),d.height<j.top+j.bottom+k.height||d.width<N.left+N.right)i.endGroup();else{p.height-=j.top+j.bottom+k.height,p.x+=N.left,p.width-=N.left+N.right,p.y+=j.top;var D,P,F,I,O,R=[];if(!m){t._getXAxis().tickMarksColor||t._defaultLineColor;for(v=0;v<_.length;v++){if(1!=(z=_[v]).polar&&1!=z.spider&&"pie"!=z.type&&"donut"!=z.type){x="horizontal"==z.orientation;var b=t._getXAxis(v)==t._getXAxis()?-1:v,L=t._getValueAxis(v)==t._getValueAxis()?-1:v,G={x:p.x,y:0,width:p.width,height:q[v].height};if("top"!=q[v].position?G.y=p.y+p.height+q[v].yRel:G.y=p.y-q[v].yRel-q[v].height,x){if(4==(4&y.valueAxis[L]))continue;if(!t._isGroupVisible(v))continue;t._renderValueAxis(v,G,!1,p),y.valueAxis[L]|=4}else{if(R.push(G),4==(4&y.xAxis[b]))continue;if(!t._isGroupVisible(v))continue;t._renderXAxis(v,G,!1,p),y.xAxis[b]|=4}}}}if(T&&(D=t.legendLayout?t._rect:d,P=d.x+ge.jqx._ptrnd((d.width-k.width)/2),F=p.y+p.height+j.bottom,I=d.width,O=k.height,t.legendLayout&&(isNaN(t.legendLayout.left)||(P=t.legendLayout.left),isNaN(t.legendLayout.top)||(F=t.legendLayout.top),isNaN(t.legendLayout.width)||(I=t.legendLayout.width),isNaN(t.legendLayout.height)||(O=t.legendLayout.height)),P+I>D.x+D.width&&(I=D.x+D.width-P),F+O>D.y+D.height&&(O=D.y+D.height-F),t._renderLegend({x:P,y:F,width:I,height:O})),t._hasHorizontalLines=!1,!m)for(v=0;v<_.length;v++){if(1!=(z=_[v]).polar&&1!=z.spider&&"pie"!=z.type&&"donut"!=z.type){x="horizontal"==_[v].orientation;G={x:p.x-w[v].xRel-w[v].width,y:p.y,width:w[v].width,height:p.height};"left"!=w[v].position&&(G.x=p.x+p.width+w[v].xRel);b=t._getXAxis(v)==t._getXAxis()?-1:v,L=t._getValueAxis(v)==t._getValueAxis()?-1:v;if(x){if(R.push(G),8==(8&y.xAxis[b]))continue;if(!t._isGroupVisible(v))continue;t._renderXAxis(v,G,!1,p),y.xAxis[b]|=8}else{if(8==(8&y.valueAxis[L]))continue;if(!t._isGroupVisible(v))continue;t._renderValueAxis(v,G,!1,p),y.valueAxis[L]|=8}}}if(!(p.width<=0||p.height<=0)){for(t._plotRect={x:p.x,y:p.y,width:p.width,height:p.height},v=0;v<_.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(v,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(v=0;v<_.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(v,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var E=!1;for(v=0;v<_.length&&!E;v++){if(void 0!==(z=_[v]).annotations||ge.isFunction(z.draw)||ge.isFunction(z.drawBefore)){E=!0;break}}var V,H,B=i.beginGroup();for(E||(V=i.createClipRect({x:p.x-2,y:p.y,width:p.width+4,height:p.height}),i.setClip(B,V)),v=0;v<_.length;v++){var z=_[v],W=!1;for(var X in t._seriesTypes)if(t._seriesTypes[X]==z.type){W=!0;break}if(!W)throw'Invalid serie type "'+z.type+'"';ge.isFunction(z.drawBefore)&&z.drawBefore(i,e,v,this),1!=z.polar&&1!=z.spider||-1==z.type.indexOf("pie")&&-1==z.type.indexOf("donut")&&t._renderSpiderAxis(v,p),t._renderAxisBands(v,p,!0),t._renderAxisBands(v,p,!1)}for(v=0;v<_.length;v++){z=_[v];if(t._isColumnType(z.type)?t._renderColumnSeries(v,p):-1!=z.type.indexOf("pie")||-1!=z.type.indexOf("donut")?t._renderPieSeries(v,p):-1!=z.type.indexOf("line")||-1!=z.type.indexOf("area")?t._renderLineSeries(v,p):-1!=z.type.indexOf("scatter")||-1!=z.type.indexOf("bubble")?t._renderScatterSeries(v,p):-1==z.type.indexOf("candlestick")&&-1==z.type.indexOf("ohlc")||t._renderCandleStickSeries(v,p,-1!=z.type.indexOf("ohlc")),z.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var U=0;U<z.annotations.length;U++)t._renderAnnotation(v,z.annotations[U],p)}ge.isFunction(z.draw)&&t.draw(i,e,v,this)}i.endGroup(),0==t.enabled&&(H=i.rect(e.x,e.y,e.width,e.height),i.attr(H,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})),ge.isFunction(t.draw)&&t.draw(i,e),i.endGroup(),t._startAnimation("series"),t._credits&&t._credits();for(var Y,Z=!1,v=0;v<t.seriesGroups.length&&!Z;v++){(Y=t._getXAxis(v))&&Y.rangeSelector&&(Z=!0)}if(Z){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var J=[];for(this._isSelectorRefresh||(t.removeHandler(ge(document),t._getEvent("mousemove"),t._onSliderMouseMove),t.removeHandler(ge(document),t._getEvent("mousedown"),t._onSliderMouseDown),t.removeHandler(ge(document),t._getEvent("mouseup"),t._onSliderMouseUp)),t._isSelectorRefresh||(t._rangeSelectorInstances={}),v=0;v<t.seriesGroups.length;v++){var Q=this._getXAxis(v);-1==J.indexOf(Q)&&this._renderXAxisRangeSelector(v,R[v])&&J.push(Q)}}}}},_credits:function(){var e,t,i,r,s,a,n;"75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==ge.jqx.credits&&(e=this,t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109),e._isRangeSelectorInstance||-1!=location.hostname.indexOf(t.substring(4))||(i=e.renderer,r=e._rect,s={class:e.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},a=i.measureText(t,0,s),n=i.text(t,r.x+r.width-a.width-5,r.y+r.height-a.height-5,a.width,a.height,0,s),ge(n).on("click",function(){location.href="http://"+t+"/?ref="+e.widgetName})))},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(e,t,i,r){var s=this,a=s.renderer,n={x:t.x,y:t.y,width:t.width,height:t.height};6<=n.width&&(n.x+=3,n.width-=6),6<=n.height&&(n.y+=3,n.height-=6);for(var o={width:n.width,height:0},l=0,h=0,d=20,u=0,f=0,c=0;c<e.length;c++){var g=(g=e[c].css)||s.toThemeProperty("jqx-chart-legend-text",null),d=20,p=e[c].text,x=a.measureText(p,0,{class:g});x.height>d&&(d=x.height),x.width>f&&(f=x.width),r?(0!=c&&(h+=d),h>n.height&&(h=0,l+=f+20+10,f=x.width,o.width=l+f)):(0!=l&&(l+=10),l+20+x.width>n.width&&x.width<n.width&&(l=0,h+=d,d=20,u=n.width,o.height=h+d));var m=!1;if(x.width>n.width){m=!0;for(var _=n.width,y=(R=p).split(/\s+/),v=[],b="",M=0;M<y.length;M++){var N=b+(0<b.length?" ":"")+y[M];b=(C=s.renderer.measureText(N,0,{class:g})).width>_&&0<N.length&&0<b.length?(v.push({text:b}),y[M]):N,M+1==y.length&&v.push({text:b})}for(var w=x.width=0,A=0;A<v.length;A++){var S=v[A].text,C=s.renderer.measureText(S,0,{class:g});x.width=Math.max(x.width,C.width),w+=x.height}x.height=w}var j=l+x.width<n.width&&h+x.height<t.height;if(s.legendLayout&&(j=n.x+l+x.width<s._rect.x+s._rect.width&&n.y+h+x.height<s._rect.y+s._rect.height),!i&&j){var q=e[c].seriesIndex,T=e[c].groupIndex,k=e[c].itemIndex,D=e[c].fillColor,P=e[c].lineColor,F=s._isSerieVisible(T,q,k),I=a.beginGroup(),O=F?e[c].opacity:.1;if(m){for(var R=p,_=n.width,y=R.split(/\s+/),L=0,v=[],b="",M=0;M<y.length;M++){N=b+(0<b.length?" ":"")+y[M];b=(C=s.renderer.measureText(N,0,{class:g})).width>_&&0<N.length&&0<b.length?(v.push({text:b,dy:L}),L+=C.height,y[M]):N,M+1==y.length&&v.push({text:b,dy:L})}for(A=0;A<v.length;A++){S=v[A].text,L=v[A].dy,C=s.renderer.measureText(S,0,{class:g});r?s.renderer.text(S,n.x+l+15,n.y+h+L,x.width,d,0,{class:g},!1,"left","center"):s.renderer.text(S,n.x+l+15,n.y+h+L,x.width,d,0,{class:g},!1,"center","center")}var G=a.rect(n.x+l,n.y+h+5+L/2,10,10);r&&(h+=L),s.renderer.attr(G,{fill:D,"fill-opacity":O,stroke:P,"stroke-width":1,"stroke-opacity":e[c].opacity})}else{G=a.rect(n.x+l,n.y+h+5,10,10);s.renderer.attr(G,{fill:D,"fill-opacity":O,stroke:P,"stroke-width":1,"stroke-opacity":e[c].opacity}),r?s.renderer.text(p,n.x+l+15,n.y+h,x.width,x.height+5,0,{class:g},!1,"left","center"):s.renderer.text(p,n.x+l+15,n.y+h,x.width,d,0,{class:g},!1,"center","center")}s.renderer.endGroup(),s._setLegendToggleHandler(T,q,k,I)}r||u<(l+=x.width+20)&&(u=l)}if(i)return o.height=ge.jqx._ptrnd(h+d+5),o.width=ge.jqx._ptrnd(u),o},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(e,t,i){for(;this._itemsToggleState.length<e+1;)this._itemsToggleState.push([]);for(var r=this._itemsToggleState[e];r.length<t+1;)r.push(!!isNaN(i)||[]);var s=r[t];if(isNaN(i))return s;for(ge.isArray(s)||(r[t]=s=[]);s.length<i+1;)s.push(!0);return s[i]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var r=0;r<i.length;r++)if(this._isSerieVisible(e,r)){t=!0;break}return t},_toggleSerie:function(e,t,i,r){var s=!this._isSerieVisible(e,t,i);null!=r&&(s=r);var a=this.seriesGroups[e],n=a.series[t];if(this._raiseEvent("toggle",{state:s,seriesGroup:a,serie:n,elementIndex:i}),isNaN(i))this._itemsToggleState[e][t]=s;else{var o=this._itemsToggleState[e][t];for(ge.isArray(o)||(o=[]);o.length<i;)o.push(!0);o[i]=s}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(t,i,r,e){var s,a=this.seriesGroups[t],n=a.series[i].enableSeriesToggle;null==n&&(n=0!=a.enableSeriesToggle),n&&(s=this).renderer.addHandler(e,"click",function(e){s._toggleSerie(t,i,r)})},_renderLegend:function(e,t){for(var i=this,r=[],s=0;s<i.seriesGroups.length;s++){var a=i.seriesGroups[s];if(0!=a.showLegend)for(var n=0;n<a.series.length;n++){var o=a.series[n];if(0!=o.showLegend){var l=i._getSerieSettings(s,n);if("pie"!=a.type&&"donut"!=a.type){var h=o.legendFormatSettings||a.legendFormatSettings,d=o.legendFormatFunction||a.legendFormatFunction,u=i._formatValue(o.displayText||o.dataField||"",h,d,s,n,NaN),f=i._getSeriesColors(s,n),c=this._get([o.legendFillColor,o.legendColor,f.fillColor]),g=this._get([o.legendLineColor,o.legendColor,f.lineColor]);r.push({groupIndex:s,seriesIndex:n,text:u,css:o.displayTextClass,fillColor:c,lineColor:g,opacity:l.opacity})}else for(var p=i._getXAxis(s),h=o.legendFormatSettings||a.legendFormatSettings||p.formatSettings||o.formatSettings||a.formatSettings,d=o.legendFormatFunction||a.legendFormatFunction||p.formatFunction||o.formatFunction||a.formatFunction,x=i._getDataLen(s),m=0;m<x;m++){u=i._getDataValue(m,o.displayText,s),u=i._formatValue(u,h,d,s,n,m);var f=i._getColors(s,n,m);r.push({groupIndex:s,seriesIndex:n,itemIndex:m,text:u,css:o.displayTextClass,fillColor:f.fillColor,lineColor:f.lineColor,opacity:l.opacity})}}}}return i._renderChartLegend(r,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,r,s,a,n,o,l){var h,d,u,f=this._getInterval(s[e],o),c=[];(""==e||s[e].visible&&"custom"!=s[e].visible)&&(c=this._generateIntervalValues(r,f,o,n,l)),"labels"!=e?(u=n?a.left:0,!n&&1<o&&(u=a.left*(o+1)),1==c.length&&(u*=2),h=this._valuesToOffsets(c,t,r,i,a,!1,u),n||(d=(a.left+a.right)*f/o,t.flip?h.unshift(h[0]+d):h.push(h[h.length-1]+d))):(u=a.left,1==c.length&&(u*=2),h=this._valuesToOffsets(c,t,r,i,a,n,u));var g=this._arraysToObjectsArray([c,h],["value","offset"]);if(t[e]&&t[e].custom)for(var p=this._objectsArraysToArray(t[e].custom,"value"),x=this._objectsArraysToArray(t[e].custom,"offset"),m=this._valuesToOffsets(p,t,r,i,a,n,a.left),_=0;_<t[e].custom.length;_++)g.push({value:p[_],offset:isNaN(x[_])?m[_]:x[_]});return g},_renderXAxis:function(e,t,i,r){var s=this,a=s._getXAxis(e),n=s.seriesGroups[e],o="horizontal"==n.orientation,l={width:0,height:0},h=s._getAxisSettings(a);if(!a||!h.visible||"spider"==n.type)return l;if(!s._isGroupVisible(e)||this._isPieGroup(e))return l;for(var d=s._alignValuesWithTicks(e);s._renderData.length<e+1;)s._renderData.push({});s.rtl&&(a.flip=!0);var u=o?t.height:t.width,f=a.text,c=s._calculateXOffsets(e,u),g=c.axisStats,p=a.rangeSelector,x=0;if(p){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";x=this._selectorGetSize(a)}var m=o&&"right"==a.position||!o&&"top"==a.position;!i&&p&&(o?(t.width-=x,"right"!=a.position&&(t.x+=x)):(t.height-=x,"top"==a.position&&(t.y+=x)));var _={rangeLength:c.rangeLength,itemWidth:c.itemWidth,intervalWidth:c.intervalWidth,data:c,settings:h,isMirror:m,rect:t};s._renderData[e].xAxis=_;var y=g.interval;if(isNaN(y))return l;o&&(h.title.angle-=90,h.labels.angle-=90);var v,b=this._getInterval(h.gridLines,y),M=this._getInterval(h.tickMarks,y),N=this._getInterval(h.labels,y),w=g.min,A=g.max,S=c.padding,C=1==a.flip||s.rtl,j={min:w,max:A};g.logAxis.enabled&&(j.min=g.logAxis.minPow,j.max=g.logAxis.maxPow),v="date"==a.type?(h.gridLines.offsets=this._generateDTOffsets(w,A,u,S,b,y,g.dateTimeUnit,d,NaN,!1,C),h.tickMarks.offsets=this._generateDTOffsets(w,A,u,S,M,y,g.dateTimeUnit,d,NaN,!1,C),this._generateDTOffsets(w,A,u,S,N,y,g.dateTimeUnit,d,NaN,!0,C)):(h.gridLines.offsets=this._getOffsets("gridLines",a,u,g,h,S,d,y),h.tickMarks.offsets=this._getOffsets("tickMarks",a,u,g,h,S,d,y),this._getOffsets("labels",a,u,g,h,S,d,y));var q;s.renderer.getRect().width,t.x,t.width,s._getDataLen(e);s._elementRenderInfo&&s._elementRenderInfo.length>e&&(q=s._elementRenderInfo[e].xAxis);var T,k,D=[];h.labels.formatFunction&&(T=h.labels.formatFunction),h.labels.formatSettings&&(k=ge.extend({},h.labels.formatSettings)),"date"==a.type&&(a.dateFormat&&!T?k?k.dateFormat=k.dateFormat||a.dateFormat:k={dateFormat:a.dateFormat}:T||k&&(!k||k.dateFormat)||(T=this._getDefaultDTFormatFn(a.baseUnit||"day")));for(var P=0;P<v.length;P++){var F,I,O=v[P].value,R=v[P].offset;isNaN(R)||(F=void 0,"date"!=a.type&&g.useIndeces&&a.dataField&&(F=Math.round(O),null==(O=s._getDataValue(F,a.dataField))&&(O="")),null!=(f=s._formatValue(O,k,T,e,void 0,F))&&""!=f.toString()||(isNaN(F)&&(F=P),F>=g.filterRange.min&&F<=g.filterRange.max&&(f=g.useIndeces?(g.min+F).toString():null==O?"":O.toString())),I={key:O,text:f,targetX:R,x:R},q&&q.itemOffsets[O]&&(I.x=q.itemOffsets[O].x,I.y=q.itemOffsets[O].y),D.push(I))}var L=s._getAnimProps(e),G=L.enabled&&D.length<500?L.duration:0;0==s.enableAxisTextAnimation&&(G=0);var E={items:D,renderData:_},V=s._renderAxis(o,m,h,{x:t.x,y:t.y,width:t.width,height:t.height},r,y,!1,!0,E,i,G);return o?V.width+=x:V.height+=x,V},_animateAxisText:function(e,t){for(var i=e.items,r=e.textSettings,s=0;s<i.length;s++){var a,n,o=i[s];o&&o.visible&&(a=o.targetX,n=o.targetY,isNaN(o.x)||isNaN(o.y)||(a=o.x+(a-o.x)*t,n=o.y+(n-o.y)*t),o.element&&(this.renderer.removeElement(o.element),o.element=void 0),o.element=this.renderer.text(o.text,a,n,o.width,o.height,r.angle,{class:r.style},!1,r.halign,r.valign,r.textRotationPoint))}},_getPolarAxisCoords:function(e,t){var i=this.seriesGroups[e],r=t.x+ge.jqx.getNum([i.offsetX,t.width/2]),s=t.y+ge.jqx.getNum([i.offsetY,t.height/2]),a=Math.min(t.width,t.height),n=i.radius;this._isPercent(n)&&(n=parseFloat(n)/100*a/2),isNaN(n)&&(n=a/2*.6);var o=this._alignValuesWithTicks(e),l=this._get([i.startAngle,i.minAngle,0])-90;l=isNaN(l)?0:2*Math.PI*l/360;var h,d=this._get([i.endAngle,i.maxAngle,360])-90;(d=isNaN(d)?2*Math.PI:2*Math.PI*d/360)<l&&(h=l,l=d,d=h);var u=ge.jqx._rnd(Math.abs(l-d)/(2*Math.PI),.001,!0),f=2*Math.PI*n*u,c=this._calcGroupOffsets(e,t).xoffsets;if(c){var g,p,x,m,_,y=!(1e-5<Math.abs(Math.abs(d-l)-2*Math.PI));return i.spider&&(p=(g=this._getXAxisStats(e,this._getXAxis(e),f)).interval,!isNaN(p)&&0!=p||(p=1),_=(g.max-g.min)/p+(y?1:0),2<(_=Math.round(_))&&(x=Math.cos(Math.abs(d-l)/2/_),0==(x=ge.jqx._rnd(x,.01))&&(x=1),n<(m=n/x)&&o&&(n=m))),{x:r,y:s,r:n=ge.jqx._ptrnd(n),adjR:this._get([m,n]),itemWidth:c.itemWidth,rangeLength:c.rangeLength,valuesOnTicks:o,startAngle:l,endAngle:d,isClosedCircle:y,axisSize:f}}},_toPolarCoord:function(e,t,i,r){var s=Math.abs(e.startAngle-e.endAngle)/(2*Math.PI),a=2*(i-t.x)*Math.PI*s/Math.max(1,t.width)+e.startAngle,n=(t.height+t.y-r)*e.r/Math.max(1,t.height),o=e.x+n*Math.cos(a),l=e.y+n*Math.sin(a);return{x:ge.jqx._ptrnd(o),y:ge.jqx._ptrnd(l)}},_renderSpiderAxis:function(e,t){var i=this,r=i._getXAxis(e),s=this._getAxisSettings(r);if(r&&s.visible){var a=i.seriesGroups[e],n=i._getPolarAxisCoords(e,t);if(n){var o=ge.jqx._ptrnd(n.x),l=ge.jqx._ptrnd(n.y),h=n.adjR,d=n.startAngle,u=n.endAngle;if(!(h<1)){var f=ge.jqx._rnd(Math.abs(d-u)/(2*Math.PI),.001,!0),c=2*Math.PI*h*f,g=n.isClosedCircle,p=this._renderData[e].xoffsets;if(p.rangeLength){var x=p.axisStats.interval;(isNaN(x)||x<1)&&(x=1);var m="horizontal"==a.orientation;for(m&&"right"==r.position||(m||r.position);i._renderData.length<e+1;)i._renderData.push({});var _={rangeLength:p.rangeLength,itemWidth:p.itemWidth,data:p,rect:t,settings:s};i._renderData[e].xAxis=_,i._renderData[e].polarCoords=n;for(var y=!0,v=0;v<e;v++){i._renderData[v].xAxis;var b=i._renderData[v].polarCoords,M=i._getXAxis(v),N=!1;for(var w in n)if(n[w]!=b[w]){N=!0;break}N&&M==r||(y=!1)}var A,S=s.gridLines,C=s.tickMarks,j=s.labels,q=this._getInterval(S,x),T=this._getInterval(C,x),k=this._getInterval(j,x),D=i._alignValuesWithTicks(e),P=i.renderer,F=p.axisStats,I=F.min,O=F.max,R=this._getPaddingSize(p.axisStats,r,D,c,!0,g,!1),L=1==r.flip||i.rtl,G="date"==r.type?(S.offsets=this._generateDTOffsets(I,O,c,R,q,x,r.baseUnit,!0,0,!1,L),C.offsets=this._generateDTOffsets(I,O,c,R,T,x,r.baseUnit,!0,0,!1,L),this._generateDTOffsets(I,O,c,R,k,x,r.baseUnit,!0,0,!0,L)):(s.gridLines.offsets=this._getOffsets("gridLines",r,c,F,s,R,!0,x),s.tickMarks.offsets=this._getOffsets("tickMarks",r,c,F,s,R,!0,x),this._getOffsets("labels",r,c,F,s,R,!0,x));i.renderer.getRect().width,t.x,t.width,i._getDataLen(e);i._elementRenderInfo&&i._elementRenderInfo.length>e&&(A=i._elementRenderInfo[e].xAxis);for(var E=[],V=this._getDataLen(e),v=0;v<G.length;v++){var H=G[v].offset,B=G[v].value;if("date"!=r.type&&F.useIndeces&&r.dataField){var z=Math.round(B);if(V<=z)continue;null==(B=i._getDataValue(z,r.dataField))&&(B="")}var W=i._formatValue(B,j.formatSettings,j.formatFunction,e,void 0,z);null!=W&&""!=W.toString()||(W=F.useIndeces?(F.min+v).toString():null==B?"":B.toString());var X={key:B,text:W,targetX:H,x:H};A&&A.itemOffsets[B]&&(X.x=A.itemOffsets[B].x,X.y=A.itemOffsets[B].y),E.push(X)}var U,Y,Z={stroke:S.color,fill:"none","stroke-width":S.width,"stroke-dasharray":S.dashStyle||""};a.spider||(1==f?P.circle(o,l,h,Z):(U=-d/Math.PI*180,Y=-u/Math.PI*180,this.renderer.pieslice(o,l,0,h,Math.min(U,Y),Math.max(U,Y),void 0,Z)));var J=E.length,Q=(Math.PI,d);if(S.visible&&y){D||g||S.offsets.unshift({offset:-R.right});for(v=0;v<S.offsets.length;v++){var $,K,ee=S.offsets[v].offset;D||(ee+=g?R.right/2:R.right),.01<(oe=Q+2*ee*Math.PI*f/Math.max(1,c))-u||($=ge.jqx._ptrnd(o+h*Math.cos(oe)),K=ge.jqx._ptrnd(l+h*Math.sin(oe)),P.line(o,l,$,K,Z))}}if(C.visible&&y){var te={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};D||g||C.offsets.unshift({offset:-R.right});for(v=0;v<C.offsets.length;v++){var ie,re,ee=C.offsets[v].offset;D||(ee+=g?R.right/2:R.right),.01<(oe=Q+2*ee*Math.PI*f/Math.max(1,c))-u||(ie={x:o+h*Math.cos(oe),y:l+h*Math.sin(oe)},re={x:o+(h+5)*Math.cos(oe),y:l+(h+5)*Math.sin(oe)},P.line(ge.jqx._ptrnd(ie.x),ge.jqx._ptrnd(ie.y),ge.jqx._ptrnd(re.x),ge.jqx._ptrnd(re.y),te))}}var se=[];if(a.spider){var ae=[],ae="date"==r.type?this._generateDTOffsets(I,O,c,R,x,x,r.baseUnit,!0,0,!1,L):this._getOffsets("",r,c,F,s,R,!0,x);D||g||ae.unshift({offset:-R.right});for(v=0;v<ae.length;v++){ee=ae[v].offset;D||(ee+=g?R.right/2:R.right),.01<(oe=Q+2*ee*Math.PI*f/Math.max(1,c))-u||se.push(oe)}_.offsetAngles=se}var ne=(ne=i._renderSpiderValueAxis(e,t,D?n.adjR:n.r,se))||[];if(a.spider){if(!D)for(v=0;v<ne.length;v++)ne[v]=ne[v]*n.adjR/n.r;ne.push(h),this._renderSpiderLines(o,l,ne,n,se,Z)}if(y&&j.visible){_.polarLabels=[];for(var oe,v=0;v<E.length;v++){(oe=(360-(oe=Q+2*(ee=E[v].x)*Math.PI*f/Math.max(1,c))/(2*Math.PI)*360)%360)<0&&(oe=360+oe);var le,he,de=P.measureText(E[v].text,0,{class:s.labels.style}),ue=(D?n.adjR:n.r)+(C.visible?7:2),fe=s.labels,ce=fe.autoRotate?(le=ge.jqx._ptRotate(o-de.width/2,l-ue-de.height,o,l,-oe/180*Math.PI),he=ge.jqx._ptRotate(o+de.width/2,l-ue,o,l,-oe/180*Math.PI),de.width=Math.abs(le.x-he.x),de.height=Math.abs(le.y-he.y),{x:Math.min(le.x,he.x),y:Math.min(le.y,he.y)}):this._adjustTextBoxPosition(o,l,de,ue,oe,!1,!1,!1);_.polarLabels.push({x:ce.x,y:ce.y,value:E[v].text}),P.text(E[v].text,ce.x,ce.y,de.width,de.height,fe.autoRotate?90-oe:fe.angle,{class:fe.style},!1,fe.halign,fe.valign)}}}}}}},_renderSpiderLines:function(e,t,i,r,s,a){for(var n=this.renderer,o=(r.startAngle,r.endAngle,r.isClosedCircle),l=0;l<i.length;l++){for(var h=i[l],d=void 0,u=void 0,f=0;f<s.length;f++){var c=s[f],g=ge.jqx._ptrnd(e+h*Math.cos(c)),p=ge.jqx._ptrnd(t+h*Math.sin(c));d&&n.line(d.x,d.y,g,p,a),d={x:g,y:p},u=u||{x:g,y:p}}u&&o&&n.line(d.x,d.y,u.x,u.y,a)}},_renderSpiderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a=this._getPolarAxisCoords(e,t);if(a){var n=ge.jqx._ptrnd(a.x),o=ge.jqx._ptrnd(a.y);i=i||a.r;var l=a.startAngle,h=a.endAngle,d=ge.jqx._rnd(Math.abs(l-h)/(2*Math.PI),.001,!0);if(!(i<1)){i=ge.jqx._ptrnd(i);var u=this._getValueAxis(e),f=this._getAxisSettings(u);if(u&&0!=f.visible){var c=this._stats.seriesGroups[e].mu,g=f.labels,p=g.formatSettings;-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100")&&!p&&(p={sufix:"%"});var x=this._get([g.step,g.unitInterval/c]);isNaN(x)&&(x=1),x=Math.max(1,Math.round(x)),this._calcValueAxisItems(e,i,x);var m,_,y,v=f.gridLines,b=f.tickMarks,M=(this._getInterval(v,c),this._getInterval(b,c),f.labels),N={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},w=this._renderData[e].valueAxis,A=w.items,S=l;A.length&&f.line.visible&&(isNaN(f.line.angle)||(S=2*Math.PI*f.line.angle/360),m=n+Math.cos(S)*i,_=o+Math.sin(S)*i,-1==r.indexOf(S)&&((y=ge.extend({},N))["stroke-width"]=f.line.lineWidth,y.stroke=f.line.color,y["stroke-dasharray"]=f.line.dashStyle,this.renderer.line(n,o,m,_,y))),A=A.reverse();var C=this.renderer;w.polarLabels=[];for(var j=0;j<A.length-1;j++){var q,T,k,D=A[j];isNaN(D)||(q=M.formatFunction?M.formatFunction(D):this._formatNumber(D,p),T=C.measureText(q,0,{class:M.style}),k=n+(0!=u.showTickMarks?3:2),E=o-w.itemWidth*j-T.height/2,W=ge.jqx._ptRotate(k,E,n,o,S),X=ge.jqx._ptRotate(k+T.width,E+T.height,n,o,S),k=Math.min(W.x,X.x),E=Math.min(W.y,X.y),T.width=Math.abs(W.x-X.x),T.height=Math.abs(W.y-X.y),k+=f.labels.textOffset.x,E+=f.labels.textOffset.y,w.polarLabels.push({x:k,y:E,value:q}),C.text(q,k,E,T.width,T.height,M.autoRotate?90+180*l/Math.PI:M.angle,{class:M.style},!1,M.halign,M.valign))}var P=1==u.logarithmicScale?A.length:w.rangeLength,F=(Math.PI,0!=u.valuesOnTicks),I=this._stats.seriesGroups[e],O=I.mu,R=1==u.logarithmicScale;u.logarithmicScaleBase;R&&(O=1);var L={min:I.min,max:I.max,logAxis:{enabled:1==R,base:u.logarithmicScaleBase,minPow:I.minPow,maxPow:I.maxPow}};(v.visible||s.spider||u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&(v.offsets=this._getOffsets("gridLines",u,i,L,f,{left:0,right:0},F,O));var G=[];if(v.visible||s.spider)for(var E,V,H,N={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},j=0;j<v.offsets.length;j++){(E=ge.jqx._ptrnd(v.offsets[j].offset))!=i&&(s.spider?G.push(E):1!=d?(V=-l/Math.PI*180,H=-h/Math.PI*180,this.renderer.pieslice(n,o,0,E,Math.min(V,H),Math.max(V,H),void 0,N)):C.circle(n,o,E,N))}if(u.tickMarks&&(u.tickMarks.visible||u.showTickMarks)||(b.visible=!1),b.visible){b.offsets=this._getOffsets("tickMarks",u,i,L,f,{left:0,right:0},F,O);for(var B=2*b.size,N={stroke:b.color,fill:"none","stroke-width":1,"stroke-dasharray":b.dashStyle||""},j=0;j<b.offsets.length;j++){var z=b.offsets[j].offset,W={x:n+z*Math.cos(S)-B/2*Math.sin(S+Math.PI/2),y:o+z*Math.sin(S)-B/2*Math.cos(S+Math.PI/2)},X={x:n+z*Math.cos(S)+B/2*Math.sin(S+Math.PI/2),y:o+z*Math.sin(S)+B/2*Math.cos(S+Math.PI/2)};C.line(ge.jqx._ptrnd(W.x),ge.jqx._ptrnd(W.y),ge.jqx._ptrnd(X.x),ge.jqx._ptrnd(X.y),N)}}return G}}}},_renderAxis:function(e,t,i,r,s,a,n,o,l,h,d){if(i.customDraw&&!h)return{width:NaN,height:NaN};var u=i.title,f=i.labels,c=(i.gridLines,i.tickMarks),g=i.padding,p=c.visible?c.size:0,x={width:0,height:0},m={width:0,height:0};e?x.height=m.height=r.height:x.width=m.width=r.width,!h&&t&&e&&(r.x-=r.width);var _,y=l.renderData,v=y.itemWidth;u.visible&&null!=u.text&&""!=u&&(_=u.angle,F=this.renderer.measureText(u.text,_,{class:u.style}),m.width=F.width,m.height=F.height,h||this.renderer.text(u.text,r.x+u.offset.x+(e?t?-g.right-2+2*r.width-m.width:2+g.left:0),r.y+u.offset.y+(e?0:t?g.top+2:r.height-2-m.height-g.bottom),e?m.width:r.width,e?r.height:m.height,_,{class:u.style},!0,u.halign,u.valign,u.rotationPoint));var b=0,M=o?-v/2:0;o&&!e&&(f.halign="center");var N=r.x,w=r.y,A=f.textOffset;A&&(isNaN(A.x)||(N+=A.x),isNaN(A.y)||(w+=A.y)),e?(N+=g.left+2+(0<m.width?m.width+2:0)+(t?r.width-m.width:0),w+=M):(N+=M,t?(w+=0<m.height?m.height+6:4,w+=p-(o?p:p/4)):w+=o?p:p/4,w+=g.top);var S=0,C=0,j=l.items;y.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(d=0);for(var q,T,k=!1,D=0,P=0;P<j.length&&f.visible;P++,b+=v)if(j[P]&&!isNaN(v)){var F,I=j[P].text;if(isNaN(j[P].targetX)||(b=j[P].targetX),(F=this.renderer.measureText(I,f.angle,{class:f.style})).width>C&&(C=F.width),F.height>S&&(S=F.height),D+=e?S:C,!h){if(e&&b>r.height+2||!e&&b>r.width+2)continue;var O=e?N+(t?0==m.width?p:p-2:0):N+b,R=e?w+b:w;y.itemOffsets[j[P].key]={x:O,y:R},k||isNaN(j[P].x)&&(isNaN(j[P].y)||!d)||(k=!0),j[P].targetX=O,j[P].targetY=R,j[P].width=e?r.width-g.left-g.right-4-p-(0<m.width?m.width+2:0):v,j[P].height=e?v:r.height-g.top-g.bottom-4-p-(0<m.height?m.height+2:0),j[P].visible=!0}}y.avgWidth=0==j.length?0:D/j.length,h||(q={items:j,textSettings:f},!isNaN(d)&&k||(d=0),this._animateAxisText(q,0==d?1:0),0!=d&&(T=this)._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){T._animateAxisText(t,i)},q)),x.width+=4+p+m.width+C+(e&&0<m.width?2:0),x.height+=4+p+m.height+S+(!e&&0<m.height?2:0),e?x.width+=g.left+g.right:x.height+=g.top+g.bottom;var L;return!h&&i.line.visible&&(L={stroke:i.line.color,"stroke-width":i.line.width,"stroke-dasharray":i.line.dashStyle||""},e?(O=r.x+r.width+(t?g.left:-g.right),O=ge.jqx._ptrnd(O),this.renderer.line(O,r.y,O,r.y+r.height,L)):(R=ge.jqx._ptrnd(r.y+(t?r.height-g.bottom:g.top)),this.renderer.line(ge.jqx._ptrnd(r.x),R,ge.jqx._ptrnd(r.x+r.width+1),R,L))),x.width=ge.jqx._rup(x.width),x.height=ge.jqx._rup(x.height),x},_drawPlotAreaLines:function(e,t,i){var r=this.seriesGroups[e],s="horizontal"!=r.orientation;if(this._renderData&&!(this._renderData.length<=e)){var a=t?"valueAxis":"xAxis",n=this._renderData[e][a];if(n){var o=(o=this._renderData.axisDrawState)||(this._renderData.axisDrawState={}),l="",h=t?(l="valueAxis_"+(r.valueAxis?e:"")+(s?"swap":""),this._getValueAxis(e)):(l="xAxis_"+(r.xAxis||r.categoryAxis?e:"")+(s?"swap":""),this._getXAxis(e));o=o[l]?o[l]:o[l]={},t||(s=!s);var d=n.settings;if(d&&!d.customDraw){var u=d.gridLines,f=d.tickMarks,c=d.padding,g=n.rect,p=this._plotRect;if(u&&f){var x={},m={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""},_=t?g.y+g.height:g.x,y=u.offsets;if(t&&!h.flip&&(y=(y=ge.extend([],y)).reverse()),y&&0<y.length)for(var v,b,M,N=NaN,w=(y.length,0);w<y.length;w++){s?((v=ge.jqx._ptrnd(g.y+y[w].offset))<g.y-.5&&(v=ge.jqx._ptrnd(g.y)),v>g.y+g.height&&(v=g.y+g.height)):(v=ge.jqx._ptrnd(g.x+y[w].offset))>g.x+g.width+.5&&(v=ge.jqx._ptrnd(g.x+g.width)),isNaN(v)||!isNaN(N)&&Math.abs(v-N)<2||(N=v,i.gridLines&&0!=u.visible&&1!=o.gridLines&&(s?this.renderer.line(ge.jqx._ptrnd(p.x),v,ge.jqx._ptrnd(p.x+p.width),v,m):this.renderer.line(v,ge.jqx._ptrnd(p.y),v,ge.jqx._ptrnd(p.y+p.height),m)),x[v]=!0,i.alternatingBackground&&(u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&1!=o.alternatingBackground&&(b=w%2==0?u.alternatingBackgroundColor2:u.alternatingBackgroundColor,0<w&&b&&(M=s?this.renderer.rect(ge.jqx._ptrnd(p.x),_,ge.jqx._ptrnd(p.width-1),v-_,m):this.renderer.rect(_,ge.jqx._ptrnd(p.y),v-_,ge.jqx._ptrnd(p.height),m),this.renderer.attr(M,{"stroke-width":0,fill:b,opacity:u.alternatingBackgroundOpacity||1}))),_=v)}m={stroke:f.color,"stroke-width":f.width,"stroke-dasharray":f.dashStyle||""};if(i.tickMarks&&f.visible&&1!=o.tickMarks)for(var A=f.size,y=f.offsets,N=NaN,w=0;w<y.length;w++)if(s?((v=ge.jqx._ptrnd(g.y+y[w].offset))<g.y-.5&&(v=ge.jqx._ptrnd(g.y)),v>g.y+g.height&&(v=g.y+g.height)):(v=ge.jqx._ptrnd(g.x+y[w].offset))>g.x+g.width+.5&&(v=ge.jqx._ptrnd(g.x+g.width)),!isNaN(v)&&(isNaN(N)||!(Math.abs(v-N)<2))){if(x[v-1]?v--:x[v+1]&&v++,s){if(v>g.y+g.height+.5)break}else if(v>g.x+g.width+.5)break;N=v;var S,C,j=n.isMirror?A:-A;s?(S=g.x+g.width+("right"==h.position?c.left:-c.right),t||(S=g.x+(n.isMirror?c.left:-c.right+g.width)),this.renderer.line(S,v,S+j,v,m)):(C=g.y+(n.isMirror?g.height:0),C+=n.isMirror?-c.bottom:c.top,C=ge.jqx._ptrnd(C),this.renderer.line(v,C,v,C-j,m))}o.tickMarks=o.tickMarks||i.tickMarks,o.gridLines=o.gridLines||i.gridLines,o.alternatingBackground=o.alternatingBackground||i.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var r=this._stats.seriesGroups[e];if(!r||!r.isValid)return!1;var s=this.seriesGroups[e],a=(s.orientation,this._getValueAxis(e)),n=0!=a.valuesOnTicks,o=(a.dataField,r.intervals),l=t/o,h=r.min,d=r.mu,u=1==a.logarithmicScale,f=a.logarithmicScaleBase||10,c=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");for(u&&(d=isNaN(a.unitInterval)?1:a.unitInterval),n||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var g=this._renderData[e].valueAxis;g.itemWidth=g.intervalWidth=l,g.items=[];for(var p=g.items,x=0;x<=o;x++){var m=0,m=u?c?r.max/Math.pow(f,o-x):h*Math.pow(f,x):n?h+x*d:h+(x+.5)*d;x%i==0?p.push(m):p.push(NaN)}return g.rangeLength=u&&!c?r.intervals:r.intervals*d,1!=a.flip&&(p=p.reverse()),!0},_getDecimalPlaces:function(e,t,i){var r=0;isNaN(i)&&(i=10);for(var s=0;s<e.length;s++){var a=void 0===t?e[s]:e[s][t];if(!isNaN(a)){for(var n=a.toString(),o=0;o<n.length;o++)if((n[o]<"0"||"9"<n[o])&&0<=(r=n.length-(o+1)))return Math.min(r,i);for(0<r&&(a*=Math.pow(10,r));Math.round(a)!=a&&r<i;)r++,a*=10}}return r},_renderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a="horizontal"==s.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==s.type)return o;var l=0!=n.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,u=1==n.logarithmicScale,f=n.logarithmicScaleBase||10;if(u&&(d=isNaN(n.unitInterval)?1:n.unitInterval),0==d&&(d=1),isNaN(d))return o;var c=this._getAxisSettings(n),g=c.title,p=c.labels,x=n.labels||{};this._get([n.horizontalTextAlignment,x.horizontalAlignment])||0!=p.angle||(p.halign=a?"center":"right"==n.position?"left":"right");var m=this._get([p.step,p.unitInterval/d]);if(isNaN(m)&&(m=1),m=Math.max(1,Math.round(m)),!this._calcValueAxisItems(e,a?t.width:t.height,m)||!c.visible)return o;a||(g.angle=this.rtl?90:-90,"centercenter"==g.rotationPoint&&("top"==g.valign?g.rotationPoint="rightcenter":"bottom"==g.valign&&(g.rotationPoint="leftcenter")));var _=this._renderData[e].valueAxis,y=p.formatSettings;-1==s.type.indexOf("stacked")||-1==s.type.indexOf("100")||y||(y={sufix:"%"}),p.formatFunction||y&&y.decimalPlaces||((y=y||{}).decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3));var v=c.gridLines,b=(u||this._getInterval(v,d),a?t.width:t.height),M=1==n.flip;n.flip=!M;var N={min:h.min,max:h.max,logAxis:{enabled:1==u,base:f,minPow:h.minPow,maxPow:h.maxPow}};(v.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(v.offsets=this._getOffsets("gridLines",n,b,N,c,{left:0,right:0},l,d));var w=c.tickMarks;w.visible&&(w.offsets=this._getOffsets("tickMarks",n,b,N,c,{left:0,right:0},l,d));var A=this._getOffsets("labels",n,b,N,c,{left:0,right:0},l,d,!l);n.flip=M;var S,C=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(S=this._elementRenderInfo[e].valueAxis);for(var j=0;j<A.length;j++){var q,T=A[j].value;isNaN(A[j].offset)?C.push(void 0):(q={key:T,text:p.formatFunction?p.formatFunction(T):isNaN(T)?T:this._formatNumber(T,y)},S&&S.itemOffsets[T]&&(q.x=S.itemOffsets[T].x,q.y=S.itemOffsets[T].y),q.targetX=A[j].offset,isNaN(q.targetX)||C.push(q))}var k=a&&"top"==n.position||!a&&"right"==n.position||!a&&this.rtl&&"left"!=n.position,D={items:C,renderData:_},P=this._getAnimProps(e),F=P.enabled&&C.length<500?P.duration:0;return 0==this.enableAxisTextAnimation&&(F=0),_.settings=c,_.isMirror=k,_.rect=t,this._renderAxis(!a,k,c,t,r,d,u,!0,D,i,F)},_objectsArraysToArray:function(e,t){var i=[];if(!ge.isArray(e))return i;for(var r=0;r<e.length;r++)i.push(e[r][t]);return i},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++)i.length<=s&&i.push({}),i[s][t[r]]=e[r][s];return i},_valuesToOffsets:function(e,t,i,r,s,a,n){var o=[];if(!t||!ge.isArray(e))return o;var l,h=i.logAxis.base,d=i.logAxis.enabled?"logarithmic":"linear",u=t.flip,f=0,c=0;s&&!isNaN(s.left)&&(f=s.left),s&&!isNaN(s.right)&&(c=s.right),r=l=r-f-c;for(var g=0;g<e.length;g++){var p=this._jqxPlot.scale(e[g],{min:i.min.valueOf(),max:i.max.valueOf(),type:d,base:h},{min:0,max:a?r:l,flip:u},{});isNaN(p)?o.push(NaN):(isNaN(n)||(p+=n),p<=r+f+c+1?o.push(ge.jqx._ptrnd(p)):o.push(NaN))}return o},_generateIntervalValues:function(e,t,i,r,s){var a=[],n=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,o=e.logAxis.maxPow),null==n||null==o)return a;if(n==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;i<1&&(n*=l=1e6,o*=l,i*=l);for(var h=n;h<=o;h+=i)a.push(h/l+(s?i/2:0));if(i<t){for(var d=[],u=Math.round(t/i),h=0;h<a.length;h++)h%u==0&&d.push(a[h]);a=d}if(e.logAxis&&e.logAxis.enabled)for(h=0;h<a.length;h++)a[h]=Math.pow(e.logAxis.base,a[h]);return a},_generateDTOffsets:function(e,t,i,r,s,a,n,o,l,h,d){n=n||"day";var u=[];if(t<e)return u;if(e==t)return h?u.push({offset:o?i/2:r.left,value:e}):o&&u.push({offset:i/2,value:e}),u;var f=i-r.left-r.right,c=e,g=r.left,p=g,x=a=Math.max(a,1),m=Math.min(1,a);for(1<a&&"millisecond"!=n&&(a=1);ge.jqx._ptrnd(p)<=ge.jqx._ptrnd(r.left+f+(o?0:r.right));){u.push({offset:p,value:c});var _,y=new Date(c.valueOf());"millisecond"==n?y.setMilliseconds(c.getMilliseconds()+a):"second"==n?y.setSeconds(c.getSeconds()+a):"minute"==n?y.setMinutes(c.getMinutes()+a):"hour"==n?(_=y.valueOf(),y.setHours(c.getHours()+a),_==y.valueOf()&&y.setHours(c.getHours()+a+1)):"day"==n?y.setDate(c.getDate()+a):"month"==n?y.setMonth(c.getMonth()+a):"year"==n&&y.setFullYear(c.getFullYear()+a),p=g+((c=y).valueOf()-e.valueOf())*m/(t.valueOf()-e.valueOf())*f}if(d)for(var v=0;v<u.length;v++)u[v].offset=i-u[v].offset;if(1<x&&"millisecond"!=n){for(var b=[],v=0;v<u.length;v+=x)b.push({offset:u[v].offset,value:u[v].value});u=b}if(!o&&!h&&1<u.length){(b=[]).push({offset:0,value:void 0});for(v=1;v<u.length;v++)b.push({offset:u[v-1].offset+(u[v].offset-u[v-1].offset)/2,value:void 0});var M=b.length;1<M?b.push({offset:b[M-1].offset+(b[M-1].offset-b[M-2].offset)}):b.push({offset:i,value:void 0}),u=b}if(a<s){for(var b=[],N=Math.round(s/x),v=0;v<u.length;v++)v%N==0&&b.push({offset:u[v].offset,value:u[v].value});u=b}return u},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var r=-1!=i.type.indexOf("waterfall"),s=this._getDataLen(e),a=!1,n=[],o=0;o<i.series.length;o++)n[o]=this._isSerieVisible(e,o);for(var l=0;l<s;l++){var h=void 0;r||(a=!1);for(var d=0;d<i.series.length;d++)if(n[d]){var u=this._getDataValueAsNumber(l,i.series[d].dataField,e);if(!isNaN(u)){if(i.series[d].summary)if(void 0!==this._getDataValue(l,i.series[d].summary,e))continue;var f=a?u<0:u<t,a=!0;if(null==h&&(h=f),f!=h)return!0;h=f,0}}}return!1},_getValueAxis:function(e){return null!=e&&this.seriesGroups[e].valueAxis||this.valueAxis||(this.valueAxis={})},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var r=this.seriesGroups[i];t.seriesGroups[i]={};var s=this._getXAxis(i),a=this._getValueAxis(i),n=this._getXAxisStats(i,s,"horizontal"!=r.orientation?e.width:e.height);(B=t.seriesGroups[i]).isValid=!0;var o="horizontal"==r.orientation?e.width:e.height,l=1==a.logarithmicScale,h=a.logarithmicScaleBase;isNaN(h)&&(h=10);var d=-1!=r.type.indexOf("stacked"),u=d&&-1!=r.type.indexOf("100"),f=-1!=r.type.indexOf("range"),c=-1!=r.type.indexOf("waterfall");if(c&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";u&&(B.psums=[],B.nsums=[]);var g=NaN,p=NaN,x=NaN,m=NaN,_=a?a.baselineValue:NaN;isNaN(_)&&(_=l&&!u?1:0);var y=!1;0!=_&&d&&(y=this._hasStackValueReversal(i,_))&&(_=0),d&&c&&(y=this._hasStackValueReversal(i,_));var v=this._getDataLen(i),b=0,M=NaN,N=[];if(c)for(var w=0;w<r.series.length;w++)N.push(NaN);for(var A=NaN,S=0;S<v&&B.isValid;S++){if(s.rangeSelector){var C=s.dataField?this._getDataValue(S,s.dataField,i):S;if(C&&n.isDateTime&&(C=this._castAsDate(C,s.dateFormat)),n.useIndeces&&(C=S),C&&(C.valueOf()<n.min.valueOf()||C.valueOf()>n.max.valueOf()))continue}var j=a.minValue,q=a.maxValue;a.baselineValue&&(j=isNaN(j)?_:Math.min(_,j),q=isNaN(q)?_:Math.max(_,q));for(var T=0,k=0,w=0;r.series&&w<r.series.length;w++)if(this._isSerieVisible(i,w)){var D=NaN,P=NaN,F=NaN;if(-1!=r.type.indexOf("candle")||-1!=r.type.indexOf("ohlc")){var I=["Open","Low","Close","High"];for(var O in I){var R=this._getDataValueAsNumber(S,r.series[w]["dataField"+I[O]],i);isNaN(R)||(F=isNaN(P)?R:Math.min(F,R),P=isNaN(P)?R:Math.max(P,R))}}else if(f)var L=this._getDataValueAsNumber(S,r.series[w].dataFieldFrom,i),G=this._getDataValueAsNumber(S,r.series[w].dataFieldTo,i),P=Math.max(L,G),F=Math.min(L,G);else{if(D=this._getDataValueAsNumber(S,r.series[w].dataField,i),c){if(this._isSummary(i,S))if(void 0!==this._getDataValue(S,r.series[w].summary,i))continue;d?(isNaN(A)||(D+=A),A=D):(isNaN(N[w])?N[w]=D:D+=N[w],N[w]=D)}if(isNaN(D)||l&&D<=0)continue;F=P=D}(isNaN(q)||q<P)&&(isNaN(a.maxValue)||P<=a.maxValue)&&(q=P),(isNaN(j)||F<j)&&(isNaN(a.minValue)||F>=a.minValue)&&(j=F),isNaN(D)||!d||c||(_<D?T+=D:D<_&&(k+=D))}if(u||(isNaN(a.maxValue)||(T=Math.min(a.maxValue,T)),isNaN(a.minValue)||(k=Math.max(a.minValue,k))),l&&u)for(var E,w=0;w<r.series.length;w++){this._isSerieVisible(i,w)?(D=this._getDataValueAsNumber(S,r.series[w].dataField,i),isNaN(D)||D<=0?M=.01:(E=0==T?0:D/T,(isNaN(M)||E<M)&&(M=E))):M=.01}var V=T-k;b<V&&(b=V),u&&(B.psums[S]=T,B.nsums[S]=k),(p<q||isNaN(p))&&(p=q),(j<g||isNaN(g))&&(g=j),(x<T||isNaN(x))&&(x=T),(k<m||isNaN(m))&&(m=k)}u&&(x=0==x?0:Math.max(x,-m),m=0==m?0:Math.min(m,-x)),g==p&&(!isNaN(a.minValue)&&isNaN(a.maxValue)?(g=a.minValue,p=l?g*h:g+1):isNaN(a.minValue)&&!isNaN(a.maxValue)&&(p=a.maxValue,g=l?p/h:p-1)),g==p&&(0==g?(g=-1,p=1):g<0?p=0:l?1==g&&(g/=h,p*=h):g=0);var H={gmin:g,gmax:p,gsumP:x,gsumN:m,gbase:_,isLogAxis:l,logBase:h,minPercent:M,gMaxRange:b,isStacked:d,isStacked100:u,isWaterfall:c,hasStackValueReversal:y,valueAxis:a,valueAxisSize:o};H.isStacked&&(H.gsumN<0&&(H.gmin=Math.min(H.gmin,H.gbase+H.gsumN)),0<H.gsumP&&(H.gmax=Math.max(H.gmax,H.gbase+H.gsumP))),B.context=H}this._mergeCommonValueAxisStats();for(var B,S=0;S<t.seriesGroups.length;S++){if((B=t.seriesGroups[S]).isValid){var z=this._calcOutputGroupStats(B.context);for(var O in z)B[O]=z[O];delete B.context}}},_mergeCommonValueAxisStats:function(){for(var e,t={},i=0;i<this.seriesGroups.length;i++){this._isGroupVisible(i)&&(this.seriesGroups[i].valueAxis||(e=this._stats.seriesGroups[i].context,t.gbase=e.gbase,(isNaN(t.gmin)||e.gmin<t.gmin)&&(t.gmin=e.gmin),(isNaN(t.gmax)||e.gmax>t.gmax)&&(t.gmax=e.gmax),(isNaN(t.gsumP)||e.gsumP>t.gsumP)&&(t.gsumP=e.gsumP),(isNaN(t.gsumN)||e.gsumN<t.gsumN)&&(t.gsumN=e.gsumN),(isNaN(t.logBase)||e.logBase<t.logBase)&&(t.logBase=e.logBase),(isNaN(t.minPercent)||e.minPercent<t.minPercent)&&(t.minPercent=e.minPercent),0<t.gsumN&&(t.gmin=Math.min(t.gmin,t.gbase+t.gsumN)),0<t.gsumP&&(t.gmax=Math.max(t.gmax,t.gbase+t.gsumP))))}for(i=0;i<this.seriesGroups.length;i++)if(!this.seriesGroups[i].valueAxis){var r=this._stats.seriesGroups[i].context;for(var s in t)r[s]=t[s]}},_calcOutputGroupStats:function(e){var t=e.gmin,i=e.gmax,r=e.gsumP,s=e.gsumN,a=e.gbase,n=e.isLogAxis,o=e.logBase,l=e.minPercent,h=e.gMaxRange,d=e.isStacked,u=e.isStacked100,f=e.isWaterfall,c=e.hasStackValueReversal,g=e.valueAxis,p=e.valueAxisSize,x=(x=e.valueAxis.unitInterval)||this._calcInterval(t,i,Math.max(p/80,2));t==i&&(t=a,i*=2);var m=NaN,_=0,y=0;if(n){if(u){m=0;for(var v=1,_=y=ge.jqx.log(100,o);l<v;)v/=o,_--,m++;t=Math.pow(o,_)}else d&&!f&&(i=Math.max(i,r)),y=ge.jqx._rnd(ge.jqx.log(i,o),1,!0),i=Math.pow(o,y),_=ge.jqx._rnd(ge.jqx.log(t,o),1,!1),t=Math.pow(o,_);x=o}t<s&&(s=t),r<i&&(r=i);var b=t,M=i;if(n||0!=Math.abs(M-b)%x&&(b=ge.jqx._rnd(t,x,!1),M=ge.jqx._rnd(i,x,!0)),u&&100<M&&(M=100),u&&!n&&(M=0<M?100:0,b=b<0?-100:0,x=g.unitInterval,(isNaN(x)||x<=0||100<=x)&&(x=10),100%x!=0))for(;1<=x&&100%x!=0;x--);return isNaN(M)||isNaN(b)||isNaN(x)?{}:(isNaN(m)&&(m=parseInt(((M-b)/(0==x?1:x)).toFixed())),n&&!u&&(m=y-_,h=Math.pow(o,m)),m<1?{}:{min:b,max:M,logarithmic:n,logBase:o,base:n?b:a,minPow:_,maxPow:y,sumP:r,sumN:s,mu:x,maxRange:h,intervals:m,hasStackValueReversal:c})},_getDataLen:function(e){var t=this.source;return null!=e&&-1!=e&&this.seriesGroups[e].source&&(t=this.seriesGroups[e].source),t instanceof ge.jqx.dataAdapter&&(t=t.records),t?t.length:0},_getDataValue:function(e,t,i){var r=this.source;if(null!=i&&-1!=i&&(r=this.seriesGroups[i].source||r),r instanceof ge.jqx.dataAdapter&&(r=r.records),!(!r||e<0||e>r.length-1))return ge.isFunction(t)?t(e,r):t&&""!=t?r[e][t]:r[e]},_getDataValueAsNumber:function(e,t,i){var r=this._getDataValue(e,t,i);return this._isDate(r)?r.valueOf():("number"!=typeof r&&(r=parseFloat(r)),"number"!=typeof r&&(r=void 0),r)},_isPieGroup:function(e){var t=this.seriesGroups[e];return!(!t||!t.type)&&(-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"))},_renderPieSeries:function(e,t){for(var i=this._getDataLen(e),r=this.seriesGroups[e],s=this._calcGroupOffsets(e,t).offsets,a=0;a<r.series.length;a++){var n=r.series[a];if(!n.customDraw){var o=this._getSerieSettings(e,a),l=(n.colorScheme||r.colorScheme||this.colorScheme,this._getAnimProps(e,a)),h=l.enabled&&i<5e3&&!this._isToggleRefresh&&1!=this._isVML?l.duration:0;ge.jqx.mobile.isMobileBrowser()&&this.renderer instanceof ge.jqx.HTML5Renderer&&(h=0);var d=this._get([n.minAngle,n.startAngle]);(isNaN(d)||d<0||360<d)&&(d=0);var u=this._get([n.maxAngle,n.endAngle]);(isNaN(u)||u<0||360<u)&&(u=360);for(var f={rect:t,minAngle:d,maxAngle:u,groupIndex:e,serieIndex:a,settings:o,items:[]},c=0;c<i;c++){var g,p,x,m,_=s[a][c];_.visible&&(g=_.fromAngle,p=_.toAngle,x=this.renderer.pieslice(_.x,_.y,_.innerRadius,_.outerRadius,g,0==h?p:g,_.centerOffset),this._setRenderInfo(e,a,c,{element:x}),m={displayValue:_.displayValue,itemIndex:c,visible:_.visible,x:_.x,y:_.y,innerRadius:_.innerRadius,outerRadius:_.outerRadius,fromAngle:g,toAngle:p,centerOffset:_.centerOffset},f.items.push(m))}this._animatePieSlices(f,0);var y=this;this._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){y._animatePieSlices(t,i)},f)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var r,s,a=this.seriesGroups[e.groupIndex],n=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),o=n.visible,l=[],h=0;h<e.items.length;h++){(u=e.items[h]).visible&&(c=u.fromAngle,g=u.fromAngle+t*(u.toAngle-u.fromAngle),i&&i[u.displayValue]&&(c=(r=i[u.displayValue].fromAngle)+(c-r)*t,g=(s=i[u.displayValue].toAngle)+(g-s)*t),l.push({index:h,from:c,to:g}))}i&&l.sort(this._sliceSortFunction);for(var d=NaN,h=0;h<l.length;h++){var u=e.items[l[h].index],f=this._getRenderInfo(e.groupIndex,e.serieIndex,u.itemIndex),c=l[h].from,g=l[h].to;i&&(!isNaN(d)&&d<c&&(c=d),d=g,h==l.length-1&&g!=l[0].from&&(g=e.maxAngle+l[0].from));var p=this.renderer.pieSlicePath(u.x,u.y,u.innerRadius,u.outerRadius,c,g,u.centerOffset);this.renderer.attr(f.element,{d:p});var x=this._getColors(e.groupIndex,e.serieIndex,u.itemIndex,"radialGradient",u.outerRadius),m=e.settings;f.colors=x,f.settings=m,this.renderer.attr(f.element,{fill:x.fillColor,stroke:x.lineColor,"stroke-width":m.stroke,"fill-opacity":m.opacity,"stroke-opacity":m.opacity,"stroke-dasharray":"none"});a.series[e.serieIndex];o&&this._showPieLabel(e.groupIndex,e.serieIndex,u.itemIndex,n),1==t&&this._installHandlers(f.element,"pieslice",e.groupIndex,e.serieIndex,u.itemIndex)}},_showPieLabel:function(e,t,i,r,s){var a,n,o,l,h,d,u,f,c,g,p,x,m,_,y,v,b,M,N=this._renderData[e].offsets[t][i];N.elementInfo.labelElement&&this.renderer.removeElement(N.elementInfo.labelElement),(r=r||this._getLabelsSettings(e,t,NaN)).visible&&(a=N.fromAngle,n=N.toAngle,o=Math.abs(a-n),360<o&&(a=0,n=360),Math.PI,Math.PI,l=o/2+a,h=(l%=360)*Math.PI*2/360,1==r.autoRotate&&(d=l<90||270<l?360-l:180-l),u=r.linesEnabled,f=this._showLabel(e,t,i,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,d),c=r.radius||N.outerRadius+Math.max(f.width,f.height),this._isPercent(c)&&(c=parseFloat(c)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),c+=N.centerOffset,isNaN(s)&&(s=0),c+=s,p=(g=this.seriesGroups[e]).series[t],x=ge.jqx.getNum([p.offsetX,g.offsetX,this._plotRect.width/2]),m=ge.jqx.getNum([p.offsetY,g.offsetY,this._plotRect.height/2]),_=this._plotRect.x+x,y=this._plotRect.y+m,v=this._adjustTextBoxPosition(_,y,f,c,l,N.outerRadius>c,0!=r.linesAngles,1==r.autoRotate),b={},N.elementInfo.labelElement=this._showLabel(e,t,i,{x:v.x,y:v.y,width:f.width,height:f.height},"left","top",!1,!1,!1,d,b),c>N.outerRadius+5&&0!=u&&(M={lineColor:N.elementInfo.colors.lineColor,stroke:N.elementInfo.settings.stroke,opacity:N.elementInfo.settings.opacity,dashStyle:N.elementInfo.settings.dashStyle},N.elementInfo.labelArrowPath=this._updateLebelArrowPath(N.elementInfo.labelArrowPath,_,y,c,N.outerRadius+s,h,0!=r.linesAngles,M,b)))},_updateLebelArrowPath:function(e,i,r,t,s,a,n,o,l){var h=ge.jqx._ptrnd(i+t*Math.cos(a)),d=ge.jqx._ptrnd(r-t*Math.sin(a)),u=ge.jqx._ptrnd(i+(s+2)*Math.cos(a)),f=ge.jqx._ptrnd(r-(s+2)*Math.sin(a)),c=[];c.push({x:l.x+l.width/2,y:l.y}),c.push({x:l.x+l.width/2,y:l.y+l.height}),c.push({x:l.x,y:l.y+l.height/2}),c.push({x:l.x+l.width,y:l.y+l.height/2}),n||(c.push({x:l.x,y:l.y}),c.push({x:l.x+l.width,y:l.y}),c.push({x:l.x+l.width,y:l.y+l.height}),c.push({x:l.x,y:l.y+l.height})),c=(c=c.sort(function(e,t){return ge.jqx._ptdist(e.x,e.y,i,r)-ge.jqx._ptdist(t.x,t.y,i,r)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-r)-(Math.abs(t.x-i)+Math.abs(t.y-r))});for(var g=0;g<c.length;g++)c[g].x=ge.jqx._ptrnd(c[g].x),c[g].y=ge.jqx._ptrnd(c[g].y);h=c[0].x,d=c[0].y;var p=n?"M "+h+","+d+" L"+u+","+d+" L"+u+","+f:"M "+h+","+d+" L"+u+","+f;return e?this.renderer.attr(e,{d:p}):e=this.renderer.path(p,{}),this.renderer.attr(e,{fill:"none",stroke:o.lineColor,"stroke-width":o.stroke,"stroke-opacity":o.opacity,"stroke-dasharray":"none"}),e},_adjustTextBoxPosition:function(e,t,i,r,s,a,n,o){var l=s*Math.PI*2/360,h=ge.jqx._ptrnd(e+r*Math.cos(l)),d=ge.jqx._ptrnd(t-r*Math.sin(l));if(o){var u=i.width,f=i.height,c=Math.atan(f/u)%(2*Math.PI),g=l%(2*Math.PI),p=0;g<=c?p=u/2*Math.cos(l):c<=g&&g<Math.PI-c?p=f/2*Math.sin(l):g>=Math.PI-c&&g<Math.PI+c?p=u/2*Math.cos(l):g>=Math.PI+c&&g<2*Math.PI-c?p=f/2*Math.sin(l):g>=2*Math.PI-c&&g<2*Math.PI&&(p=u/2*Math.cos(l)),r+=Math.abs(p)+3;h=ge.jqx._ptrnd(e+r*Math.cos(l)),d=ge.jqx._ptrnd(t-r*Math.sin(l));return{x:h-=i.width/2,y:d-=i.height/2}}return a?(h-=i.width/2,d-=i.height/2):n?90<=s&&s<270?(d-=i.height/2,h-=i.width):d-=i.height/2:0<=s&&s<45||315<=s&&s<360?d-=i.height/2:45<=s&&s<135?(d-=i.height,h-=i.width/2):135<=s&&s<225?(d-=i.height/2,h-=i.width):225<=s&&s<315&&(h-=i.width/2),{x:h,y:d}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,r=0;r<i.length;r++){var s=i[r].orientation||"vertical";this._isColumnType(i[r].type)&&s==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",r=0;r<e;r++){var s=this.seriesGroups[r],a=s.orientation||"vertical";this._isColumnType(s.type)&&a==i&&t++}return t},_renderAxisBands:function(e,t,i){var r=i?this._getXAxis(e):this._getValueAxis(e),s=this.seriesGroups[e],a=i?void 0:s.bands;if(!a){for(var n=0;n<e;n++){if((i?this._getXAxis(n):this._getValueAxis(n))==r)return}a=r.bands}if(ge.isArray(a)){var o=t,l="horizontal"==s.orientation;l&&(o={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,o);for(n=0;n<a.length;n++){var h=a[n],d=this._get([h.minValue,h.from]),u=this._get([h.maxValue,h.to]),f=i?this.getXAxisDataPointOffset(d,e):this.getValueAxisDataPointOffset(d,e),c=i?this.getXAxisDataPointOffset(u,e):this.getValueAxisDataPointOffset(u,e);if(!isNaN(f)&&!isNaN(c)){var g=Math.abs(f-c);if(s.polar||s.spider){var p=this._renderData[e],x=p.polarCoords;if(i)var m,_,y,v,b=s.spider?(m=this.getPolarDataPointOffset(d,this._stats.seriesGroups[e].max,e),_=this.getPolarDataPointOffset(u,this._stats.seriesGroups[e].max,e),T="M "+x.x+","+x.y,T+=" L "+m.x+","+m.y,T+=" L "+_.x+","+_.y,this.renderer.path(T)):(y={},v={x:Math.min(f,c),y:t.y,width:g,height:t.height},this._columnAsPieSlice(y,t,x,v),y.element);else{var M=this._toPolarCoord(x,t,t.x,p.baseOffset),N=this._toPolarCoord(x,t,t.x,f),w=this._toPolarCoord(x,t,t.x,c),A=ge.jqx._ptdist(M.x,M.y,N.x,N.y),S=ge.jqx._ptdist(M.x,M.y,w.x,w.y),C=Math.round(360*-x.startAngle/(2*Math.PI)),j=Math.round(360*-x.endAngle/(2*Math.PI));if(j<C&&(L=C,C=j,j=L),s.spider){var q=p.xAxis.offsetAngles,T="",k=[S,A],D=q;for(var P in x.isClosedCircle&&(D=ge.extend([],q)).push(D[0]),k){for(var F=0;F<D.length;F++){var I=0==P?F:q.length-F-1,O=x.x+k[P]*Math.cos(D[I]),R=x.y+k[P]*Math.sin(D[I]);T+=""==T?"M ":" L",T+=ge.jqx._ptrnd(O)+","+ge.jqx._ptrnd(R)}0==P&&(O=x.x+k[1]*Math.cos(D[I]),R=x.y+k[1]*Math.sin(D[I]),T+=" L"+ge.jqx._ptrnd(O)+","+ge.jqx._ptrnd(R))}T+=" Z",b=this.renderer.path(T)}else b=this.renderer.pieslice(x.x,x.y,A,S,C,j)}}else{var L,G={x:Math.min(f,c),y:o.y,width:g,height:o.height};i||(G={x:o.x,y:Math.min(f,c),width:o.width,height:g}),l&&(L=G.x,G.x=G.y,G.y=L,L=G.width,G.width=G.height,G.height=L),b=0==g||1==g?this.renderer.line(ge.jqx._ptrnd(G.x),ge.jqx._ptrnd(G.y),ge.jqx._ptrnd(G.x+(l?0:G.width)),ge.jqx._ptrnd(G.y+(l?G.height:0))):this.renderer.rect(G.x,G.y,G.width,G.height)}var E=h.fillColor||h.color||"#AAAAAA",V=h.lineColor||E,H=h.lineWidth;isNaN(H)&&(H=1);var B=h.opacity;(isNaN(B)||B<0||1<B)&&(B=1),this.renderer.attr(b,{fill:E,"fill-opacity":B,stroke:V,"stroke-opacity":B,"stroke-width":H,"stroke-dasharray":h.dashStyle})}}}},_getColumnGroupWidth:function(e,t,i){var r=this.seriesGroups[e],s=-1!=r.type.indexOf("stacked"),a=(s||r.series.length,this._getColumnGroupsCount(r.orientation));!isNaN(a)&&0!=a||(a=1);var n=1<=t.rangeLength?t.itemWidth:.9*i,o=r.columnsMinWidth;isNaN(o)&&(o=1),isNaN(r.columnsMaxWidth)||(o=Math.min(r.columnsMaxWidth,o)),n<o&&0<t.length&&(n=Math.max(n,.9*i/t.length));var l,h,d=o;return s||(l=r.seriesGapPercent,(isNaN(l)||l<0)&&(l=10),h=o,h*=1+(l/=100),d+=r.series.length*h),{requiredWidth:d,availableWidth:n,targetWidth:Math.max(n/a,d)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],r=(i.series[t],"horizontal"==i.orientation),s=this._plotRect;r&&(s={x:s.y,y:s.x,width:s.height,height:s.width});var a=this._calcGroupOffsets(e,s);if(a&&0!=a.xoffsets.length){var n=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(n=1);var o=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,a.xoffsets,r?s.height:s.width),h=0,d=l.targetWidth;(1==this.columnSeriesOverlap||Math.round(d)>Math.round(l.availableWidth/n))&&(n=1,o=0),h-=d*n/2,h+=d*o;var u=i.columnsGapPercent;u<=0&&(u=0),(isNaN(u)||100<=u)&&(u=25);var f=d*(u/=100);f+l.requiredWidth>l.targetWidth&&(f=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(d)>Math.round(l.availableWidth)&&(f=0),d-=f,h+=f/2;var c=i.seriesGapPercent;(isNaN(c)||c<0)&&(c=10);var g=-1!=i.type.indexOf("stacked"),p=d;g||(p/=i.series.length);var x=this._get([i.seriesGap,d*c/100/(i.series.length-1)]);(1==i.polar||1==i.spider||g||i.series.length<=1)&&(x=0);var m=x*(i.series.length-1);1<i.series.length&&m>d-i.series.length&&(x=(m=d-i.series.length)/Math.max(1,i.series.length-1));var _=p-m/i.series.length,y=0,v=i.columnsMaxWidth;isNaN(v)||v<_&&(y=_-v,_=v);return{width:_,offset:h+(g?y/2:(d-_*i.series.length-m)/2+_*t+Math.max(0,t)*x)}}},_renderColumnSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){this._getDataLen(e);var r="horizontal"==i.orientation,s=t;r&&(s={x:t.y,y:t.x,width:t.height,height:t.width});var a,n=this._calcGroupOffsets(e,s);if(n&&0!=n.xoffsets.length){1!=i.polar&&1!=i.spider||(a=this._getPolarAxisCoords(e,s));var o={groupIndex:e,rect:t,vertical:!r,seriesCtx:[],renderData:n,polarAxisCoords:a};o.columnGroupWidth=this._getColumnGroupWidth(e,n.xoffsets,r?s.height:s.width);for(var l=this._getGroupGradientType(e),h=0;h<i.series.length;h++){var d=i.series[h];if(!d.customDraw){d.dataField;var u=this._getAnimProps(e,h),f=u.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?u.duration:0,c=this._getColumnSerieWidthAndOffset(e,h),g=this._isSerieVisible(e,h),p=this._getSerieSettings(e,h),x=this._getColors(e,h,NaN,this._getGroupGradientType(e),4),m=[];if(ge.isFunction(d.colorFunction)&&!a)for(var _=n.xoffsets.first;_<=n.xoffsets.last;_++)m.push(this._getColors(e,h,_,l,4));var y={seriesIndex:h,serieColors:x,itemsColors:m,settings:p,columnWidth:c.width,xAdjust:c.offset,isVisible:g};o.seriesCtx.push(y)}}this._animColumns(o,0==f?1:0);var v=this;this._enqueueAnimation("series",void 0,void 0,f,function(e,t,i){v._animColumns(t,i)},o)}}},_getPercent:function(e,t,i,r){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(r)&&!isNaN(e)&&r<e&&(e=r),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,r,s,a){var n=this.seriesGroups[t],o=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100);0==o&&0==l&&(l=100);for(var h=this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100,d=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,u=[],f=NaN,c=0;c<i.length;c++){var g=(N=i[c]).seriesIndex,p=(n.series[g],e.offsets[g][r].from),x=e.offsets[g][r].to,m=e.xoffsets.data[r],_=N.isVisible;_||(x=p);var y,v,b=this._elementRenderInfo;_&&b&&b.length>t&&b[t].series.length>g&&(y=e.xoffsets.xvalues[r],!(v=b[t].series[g][y])||isNaN(v.from)||isNaN(v.to)||(p=v.from+(p-v.from)*a,x=v.to+(x-v.to)*a,m=v.xoffset+(m-v.xoffset)*a)),v||(x=p+(x-p)*(s?1:a)),isNaN(p)&&(p=isNaN(f)?e.baseOffset:f),f=!isNaN(x)&&s?x:p,isNaN(x)&&(x=p);var M={from:p,to:x,xOffset:m};100==o&&100==l||(M.funnel=!0,M.toWidthPercent=o,M.fromWidthPercent=l),u.push(M)}if(s&&1<u.length&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var N,w=0,A=0,S=-1/0,C=1/0,j=1/0,q=-1/0,T=0;T<u.length;T++){(N=i[T]).isVisible&&(u[T].to>=u[T].from?(A+=u[T].to-u[T].from,j=Math.min(j,u[T].from),q=Math.max(q,u[T].to)):(w+=u[T].from-u[T].to,S=Math.max(S,u[T].from),C=Math.min(C,u[T].to)))}var k=w,D=A;w*=a,A*=a;for(var P,F=0,I=0,T=0;T<u.length;T++){u[T].to>=u[T].from?(A<(P=u[T].to-u[T].from)+I&&(P=Math.max(0,A-I),u[T].to=u[T].from+P),100==o&&100==l||(u[T].funnel=!0,!isNaN(h)&&I<=D*h?u[T].fromWidthPercent=100*d:u[T].fromWidthPercent=Math.abs(u[T].from-j)/D*(o-l)+l,!isNaN(h)&&0+(I+P)<=D*h?u[T].toWidthPercent=100*d:u[T].toWidthPercent=Math.abs(u[T].to-j)/D*(o-l)+l),I+=P):(w<(P=u[T].from-u[T].to)+F&&(P=Math.max(0,w-F),u[T].to=u[T].from-P),100==o&&100==l||(u[T].funnel=!0,!isNaN(h)&&F<=k*h?u[T].fromWidthPercent=100*d:u[T].fromWidthPercent=Math.abs(u[T].from-S)/k*(o-l)+l,!isNaN(h)&&0+(F+P)<=k*h?u[T].toWidthPercent=100*d:u[T].toWidthPercent=Math.abs(u[T].to-S)/k*(o-l)+l),F+=P)}}return u},_columnAsPieSlice:function(e,t,i,r){var s,a=this._toPolarCoord(i,t,r.x,r.y),n=this._toPolarCoord(i,t,r.x,r.y+r.height),o=ge.jqx._ptdist(i.x,i.y,n.x,n.y),l=ge.jqx._ptdist(i.x,i.y,a.x,a.y),h=t.width,d=180*Math.abs(i.startAngle-i.endAngle)/Math.PI,u=-(r.x-t.x)*d/h,f=-(r.x+r.width-t.x)*d/h,c=i.startAngle;return u-=c=360*c/(2*Math.PI),f-=c,e&&(null!=e.element?(s=this.renderer.pieSlicePath(i.x,i.y,o,l,f,u,0),s+=" Z",this.renderer.attr(e.element,{d:s})):e.element=this.renderer.pieslice(i.x,i.y,o,l,f,u,0)),{fromAngle:f,toAngle:u,innerRadius:o,outerRadius:l}},_setRenderInfo:function(e,t,i,r){this._renderData[e].offsets[t][i].elementInfo=r},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(e,t){for(var i=e.groupIndex,r=this.seriesGroups[i],s=e.renderData,a=-1!=r.type.indexOf("waterfall"),n=this._getXAxis(i),o=-1!=r.type.indexOf("stacked"),l=e.polarAxisCoords,h=(this._getGroupGradientType(i),e.columnGroupWidth.targetWidth,-1),d=0;d<r.series.length;d++)if(this._isSerieVisible(i,d)){h=d;break}for(var u=NaN,f=NaN,d=0;d<e.seriesCtx.length;d++){var c=e.seriesCtx[d];(isNaN(u)||u>c.xAdjust)&&(u=c.xAdjust),(isNaN(f)||f<c.xAdjust+c.columnWidth)&&(f=c.xAdjust+c.columnWidth)}var g=Math.abs(f-u),p=this._get([r.columnsGapPercent,25])/100;(isNaN(p)<0||1<=p)&&(p=.25);for(var x=p*g,m=e.renderData.xoffsets,_=-1,y={},v=1==r.skipOverlappingPoints,b=m.first;b<=m.last;b++){var M=m.data[b];if(!isNaN(M)&&!(-1!=_&&Math.abs(M-_)<g-1+x&&v)){_=M;var N=this._getColumnVOffsets(s,i,e.seriesCtx,b,o,t),w=!1;if(a)for(var A=0;A<r.series.length;A++)r.series[A].summary&&m.xvalues[b][r.series[A].summary]&&(w=!0);for(A=0;A<e.seriesCtx.length;A++){var S,C,j,q,T,k,D,P,F,I,O,R,L,G,E,V,H,B,z,W,X=(c=e.seriesCtx[A]).seriesIndex,U=r.series[X],Y=N[A].from,Z=N[A].to,J=N[A].xOffset,Q=(e.vertical?e.rect.x:e.rect.y)+c.xAdjust,$=c.settings,K=0!=c.itemsColors.length?c.itemsColors[b-s.xoffsets.first]:c.serieColors,ee=this._isSerieVisible(i,X);ee&&(S={x:M=ge.jqx._ptrnd(Q+J),width:c.columnWidth},N[A].funnel&&(S.fromWidthPercent=N[A].fromWidthPercent,S.toWidthPercent=N[A].toWidthPercent),C=!0,e.vertical?(S.y=Y,S.height=Z-Y,S.height<0&&(S.y+=S.height,S.height=-S.height,C=!1)):(S.x=Y<Z?Y:Z,S.width=Math.abs(Y-Z),C=Y-Z<0,S.y=M,S.height=c.columnWidth),j=Y-Z,isNaN(j)||(j=Math.abs(j),D=void 0,T=null==(P=(q=this._getRenderInfo(i,X,b)).element),(W=q.labelElement)&&(this.renderer.removeElement(W),W=void 0),l?(k={element:P},D=this._columnAsPieSlice(k,e.rect,l,S),P=k.element,K=this._getColors(i,X,void 0,"radialGradient",D.outerRadius)):N[A].funnel?(F=this._getTrapezoidPath(ge.extend({},S),e.vertical,C),T?P=this.renderer.path(F,{}):this.renderer.attr(P,{d:F})):T?P=this.renderer.rect(S.x,S.y,e.vertical?S.width:0,e.vertical?0:S.height):1==e.vertical?this.renderer.attr(P,{x:S.x,y:S.y,height:j}):this.renderer.attr(P,{x:S.x,y:S.y,width:j}),j<1&&(1!=t||l)?this.renderer.attr(P,{display:"none"}):this.renderer.attr(P,{display:"block"}),T&&this.renderer.attr(P,{fill:K.fillColor,"fill-opacity":$.opacity,"stroke-opacity":$.opacity,stroke:K.lineColor,"stroke-width":$.stroke,"stroke-dasharray":$.dashStyle}),W&&this.renderer.removeElement(W),!ee||0==j&&t<1?(q={element:P,labelElement:W},this._setRenderInfo(i,X,b,q)):(a&&0!=this._get([U.showWaterfallLines,r.showWaterfallLines])&&((!o||o&&A==h)&&(I=o?-1:A,1!=t||isNaN(s.offsets[A][b].from)||isNaN(s.offsets[A][b].to)||null!=(O=y[I])&&(L={x:M,y:(R={x:O.x,y:ge.jqx._ptrnd(O.y)}).y},G=r.columnsTopWidthPercent/100,(isNaN(G)||1<G||G<0)&&(G=1),E=r.columnsBottomWidthPercent/100,(isNaN(E)||1<E||E<0)&&(E=1),H=e.vertical?S.width:S.height,R.x=R.x-H/2+H/2*G,V=w?H*G/2:H*E/2,L.x=L.x+H/2-(n.flip?-V:V),e.vertical||(this._swapXY([R]),this._swapXY([L])),this.renderer.line(R.x,R.y,L.x,L.y,{stroke:O.color,"stroke-width":$.stroke,"stroke-opacity":$.opacity,"fill-opacity":$.opacity,"stroke-dasharray":$.dashStyle}))),1==t&&0!=j&&(y[o?-1:A]={y:Z,x:e.vertical?S.x+S.width:S.y+S.height,color:K.lineColor})),q={element:P,labelElement:W=l?(this._toPolarCoord(l,e.rect,S.x+S.width/2,S.y),H=this._showLabel(i,X,b,S,void 0,void 0,!0),B=D.outerRadius+10,z=this._adjustTextBoxPosition(l.x,l.y,H,B,(D.fromAngle+D.toAngle)/2,!0,!1,!1),this._showLabel(i,X,b,{x:z.x,y:z.y},void 0,void 0,!1,!1,!1)):this._showLabel(i,X,b,S,void 0,void 0,!1,!1,C)},this._setRenderInfo(i,X,b,q),1==t&&this._installHandlers(P,"column",i,X,b))))}}}},_getTrapezoidPath:function(e,t,i){var r,s="",a=e.fromWidthPercent/100,n=e.toWidthPercent/100;t||(r=e.width,e.width=e.height,e.height=r,r=e.x,e.x=e.y,e.y=r);var o=e.x+e.width/2,l=[{x:o-e.width*(i?n:a)/2,y:e.y+e.height},{x:o-e.width*(i?a:n)/2,y:e.y},{x:o+e.width*(i?a:n)/2,y:e.y},{x:o+e.width*(i?n:a)/2,y:e.y+e.height}];t||this._swapXY(l),s+="M "+ge.jqx._ptrnd(l[0].x)+","+ge.jqx._ptrnd(l[0].y);for(var h=1;h<l.length;h++)s+=" L "+ge.jqx._ptrnd(l[h].x)+","+ge.jqx._ptrnd(l[h].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(e,t,i){var r=this,s=r.seriesGroups[e];if(s.series&&0!=s.series.length){var a="horizontal"==s.orientation,n=t;a&&(n={x:t.y,y:t.x,width:t.height,height:t.width});var o=r._calcGroupOffsets(e,n);if(o&&0!=o.xoffsets.length){var l;n.width;(s.polar||s.spider)&&(l=r._getPolarAxisCoords(e,n)).r;r._alignValuesWithTicks(e);for(var h=r._getGroupGradientType(e),d=[],u=0;u<s.series.length;u++)d[u]=r._getColumnSerieWidthAndOffset(e,u);for(var f,c,g,p,x,m,u=0;u<s.series.length;u++){this._isSerieVisible(e,u)&&(f=r._getSerieSettings(e,u),(c=s.series[u]).customDraw||(g=ge.isFunction(c.colorFunction)?void 0:r._getColors(e,u,NaN,h),p={rect:t,inverse:a,groupIndex:e,seriesIndex:u,symbolType:c.symbolType,symbolSize:c.symbolSize,"fill-opacity":f.opacity,"stroke-opacity":f.opacity,"stroke-width":f.stroke,"stroke-dasharray":f.dashStyle,gradientType:h,colors:g,renderData:o,polarAxisCoords:l,columnsInfo:d,isOHLC:i,items:[],self:r},m=(x=r._getAnimProps(e,u)).enabled&&!r._isToggleRefresh&&o.xoffsets.length<5e3?x.duration:0,r._animCandleStick(p,0),r._enqueueAnimation("series",void 0,void 0,m,function(e,t,i){r._animCandleStick(t,i)},p)))}}}},_animCandleStick:function(e,t){var i=["Open","Low","Close","High"],r=e.columnsInfo[e.seriesIndex].width,s=e.self.seriesGroups[e.groupIndex],a=e.renderData.xoffsets,n=-1,o=Math.abs(a.data[a.last]-a.data[a.first]);o*=t;for(var l=NaN,h=NaN,d=0;d<e.columnsInfo.length;d++){var u=e.columnsInfo[d];(isNaN(l)||l>u.offset)&&(l=u.offset),(isNaN(h)||h<u.offset+u.width)&&(h=u.offset+u.width)}for(var f=Math.abs(h-l),c=0!=s.skipOverlappingPoints,g=a.first;g<=a.last;g++){var p=a.data[g];if(!isNaN(p)&&!(-1!=n&&Math.abs(p-n)<f&&c)){if(o<Math.abs(a.data[g]-a.data[a.first]))break;n=p;var x,m=e.items[g]=e.items[g]||{};for(var d in i){var _=e.self._getDataValueAsNumber(g,s.series[e.seriesIndex]["dataField"+i[d]],e.groupIndex);if(isNaN(_))break;var y=e.renderData.offsets[e.seriesIndex][g][i[d]];if(isNaN(y))break;m[i[d]]=y}for(var v in p+=e.inverse?e.rect.y:e.rect.x,e.polarAxisCoords&&(p=(x=this._toPolarCoord(e.polarAxisCoords,this._plotRect,p,y)).x,y=x.y),p=ge.jqx._ptrnd(p),i)m[v]=ge.jqx._ptrnd(m[v]);var b,M,N,w,A=(A=e.colors)||e.self._getColors(e.groupIndex,e.seriesIndex,g,e.gradientType);e.isOHLC?(b="M"+p+","+m.Low+" L"+p+","+m.High+" M"+(p-r/2)+","+m.Open+" L"+p+","+m.Open+" M"+(p+r/2)+","+m.Close+" L"+p+","+m.Close,e.inverse&&(b="M"+m.Low+","+p+" L"+m.High+","+p+" M"+m.Open+","+(p-r/2)+" L"+m.Open+","+p+" M"+m.Close+","+p+" L"+m.Close+","+(p+r/2)),(M=m.lineElement)||(M=this.renderer.path(b,{}),this.renderer.attr(M,{fill:A.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:A.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),m.lineElement=M),1==t&&this._installHandlers(M,"column",e.groupIndex,e.seriesIndex,g)):((M=m.lineElement)||(M=e.inverse?this.renderer.line(m.Low,p,m.High,p):this.renderer.line(p,m.Low,p,m.High),this.renderer.attr(M,{fill:A.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:A.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),m.lineElement=M),p-=r/2,(N=m.stickElement)||(w=A.fillColor,m.Close<=m.Open&&A.fillColorAlt&&(w=A.fillColorAlt),N=e.inverse?this.renderer.rect(Math.min(m.Open,m.Close),p,Math.abs(m.Close-m.Open),r):this.renderer.rect(p,Math.min(m.Open,m.Close),r,Math.abs(m.Close-m.Open)),this.renderer.attr(N,{fill:w,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:A.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),m.stickElement=N),1==t&&this._installHandlers(N,"column",e.groupIndex,e.seriesIndex,g))}}},_renderScatterSeries:function(e,t,i){var r=this.seriesGroups[e];if(r.series&&0!=r.series.length){var s=-1!=r.type.indexOf("bubble"),a="horizontal"==r.orientation,n=t;a&&(n={x:t.y,y:t.x,width:t.height,height:t.width});var o=this._calcGroupOffsets(e,n);if(o&&0!=o.xoffsets.length){var l,h=n.width;(r.polar||r.spider)&&(h=2*(l=this._getPolarAxisCoords(e,n)).r);this._alignValuesWithTicks(e);var d=this._getGroupGradientType(e);i=i||"to";for(var u=0;u<r.series.length;u++){var f=this._getSerieSettings(e,u),c=r.series[u];if(!c.customDraw){var g=c.dataField,p=ge.isFunction(c.colorFunction),x=this._getColors(e,u,NaN,d),m=NaN,_=NaN;if(s)for(var y=o.xoffsets.first;y<=o.xoffsets.last;y++){if("number"!=typeof(M=this._getDataValueAsNumber(y,c.radiusDataField||c.sizeDataField,e)))throw"Invalid radiusDataField value at ["+y+"]";isNaN(M)||((isNaN(m)||M<m)&&(m=M),(isNaN(_)||_<M)&&(_=M))}var v=c.minRadius||c.minSymbolSize;isNaN(v)&&(v=h/50);var b=c.maxRadius||c.maxSymbolSize;isNaN(b)&&(b=h/25),b<v&&(b=v);for(var M,N=c.radius,N=isNaN(N)&&!isNaN(c.symbolSize)?"circle"==c.symbolType?c.symbolSize/2:c.symbolSize:5,w=this._getAnimProps(e,u),A=w.enabled&&!this._isToggleRefresh&&o.xoffsets.length<5e3?w.duration:0,S={groupIndex:e,seriesIndex:u,symbolType:c.symbolType,symbolSize:c.symbolSize,"fill-opacity":f.opacity,"stroke-opacity":f.opacity,"stroke-width":f.stroke,"stroke-width-symbol":f.strokeSymbol,"stroke-dasharray":f.dashStyle,items:[],polarAxisCoords:l},C=void 0,y=o.xoffsets.first;y<=o.xoffsets.last;y++){if("number"==typeof(M=this._getDataValueAsNumber(y,g,e))){var j=o.xoffsets.data[y],q=o.xoffsets.xvalues[y],T=o.offsets[u][y][i];if(!(T<n.y||T>n.y+n.height))if(!isNaN(j)&&!isNaN(T))if(a?(F=j,j=T,T=F+t.y):j+=t.x,!(!p&&C&&this.enableSampling&&ge.jqx._ptdist(C.x,C.y,j,T)<1)){C={x:j,y:T};var k=N;if(s){var D=this._getDataValueAsNumber(y,c.radiusDataField||c.sizeDataField,e);if("number"!=typeof D)continue;k=v+(b-v)*(D-m)/Math.max(1,_-m),isNaN(k)&&(k=v)}o.offsets[u][y].radius=k;var P,F,I=NaN,O=NaN,R=0,L=this._elementRenderInfo;null!=q&&L&&L.length>e&&L[e].series.length>u&&((P=L[e].series[u][q])&&!isNaN(P.to)&&(I=P.to,O=P.xoffset,R=N,a?(F=O,O=I,I=F+t.y):O+=t.x,s&&(R=v+(b-v)*(P.valueRadius-m)/Math.max(1,_-m),isNaN(R)&&(R=v)))),p&&(x=this._getColors(e,u,y,d)),S.items.push({from:R,to:k,itemIndex:y,fill:x.fillColor,stroke:x.lineColor,x:j,y:T,xFrom:O,yFrom:I})}}}this._animR(S,0);var G=this;this._enqueueAnimation("series",void 0,void 0,A,function(e,t,i){G._animR(t,i)},S)}}}}},_animR:function(e,t){for(var i=e.items,r=e.symbolType||"circle",s=e.symbolSize,a=0;a<i.length;a++){var n,o=i[a],l=o.x,h=o.y,d=Math.round((o.to-o.from)*t+o.from);isNaN(o.yFrom)||(h=o.yFrom+(h-o.yFrom)*t),isNaN(o.xFrom)||(l=o.xFrom+(l-o.xFrom)*t),e.polarAxisCoords&&(l=(n=this._toPolarCoord(e.polarAxisCoords,this._plotRect,l,h)).x,h=n.y),l=ge.jqx._ptrnd(l),h=ge.jqx._ptrnd(h),d=ge.jqx._ptrnd(d);var u=this._getRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex),f=u.element,c=u.labelElement;"circle"==r?(f||(f=this.renderer.circle(l,h,d),this.renderer.attr(f,{fill:o.fill,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:o.stroke,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(f,void 0,void 0,d):this.renderer.attr(f,{r:d,cy:h,cx:l})):(f&&this.renderer.removeElement(f),f=this._drawSymbol(r,l,h,o.fill,e["fill-opacity"],o.stroke,e["stroke-opacity"]||e["fill-opacity"],e["stroke-width-symbol"],e["stroke-dasharray"],s||d)),c&&this.renderer.removeElement(c),c=this._showLabel(e.groupIndex,e.seriesIndex,o.itemIndex,{x:l-d,y:h-d,width:2*d,height:2*d}),1<=t&&this._installHandlers(f,"circle",e.groupIndex,e.seriesIndex,o.itemIndex),this._setRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex,{element:f,labelElement:c})}},_showMultiSeriesToolTip:function(e,t,i){for(var r=this,s='<div style="text-align:left">',a="",n=0;n<r.seriesGroups.length;n++)if(!r._isPieGroup(n)){var o=r._getXAxis(n),l=r._getValueAxis(n),h=r.seriesGroups[n],d=this._getAxisSettings(o),u=d.toolTipFormatSettings,f=d.toolTipFormatFunction,c=r._getDataValue(i,o.dataField,n);null!=o.dataField&&""!=o.dataField||(c=i),"date"==o.type&&(c=r._castAsDate(c,(u?u.dateFormat:void 0)||o.dateFormat)),f||u||"date"!=o.type||(f=this._getDefaultDTFormatFn(o.baseUnit||"day"));var g=o.displayText||o.dataField||"";""!=g&&(g+=": ");var p=g+r._formatValue(c,u,f,n,x,i);a!=p&&(""!=a&&(s+="<br />"),s+=p+"<br /><br />",a=p);for(var x=0;x<h.series.length;x++){var m,_,y,v=h.series[x];0!=h.showToolTips&&0!=v.showToolTips&&r._isSerieVisible(n,x)&&(m=r._get([v.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,r.toolTipFormatSettings]),_=r._get([v.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,r.toolTipFormatFunction]),y=r._getFormattedValue(n,x,i,m,_),s+="<span style='color:"+r._getColors(n,x,i).lineColor+";'>"+y+"</span><br />\n")}}var b=this._get([r.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),M=this._get([r.toolTipBackground,"#FFFFFF"]),N=this._get([r.toolTipLineColor,r._defaultLineColor]),w=this._get([r.toolTipOpacity,1]);s+="</div>";var A=this.getItemCoord(r._ttEl.gidx,r._ttEl.sidx,r._ttEl.iidx);r._createTooltip(A,r.seriesGroups[r._ttEl.gidx],s,{css:b,fill:M,stroke:N,fillOpacity:w,symbolSize:3})},_showToolTip:function(e,t,i,r,s){var a=this,n=a._getXAxis(i),o=a._getValueAxis(i);if(!a._ttEl||i!=a._ttEl.gidx||r!=a._ttEl.sidx||s!=a._ttEl.iidx){var l=a.seriesGroups[i],h=l.series[r],d=a.enableCrosshairs;a._pointMarker?(e=parseInt(a._pointMarker.x+5),t=parseInt(a._pointMarker.y-5)):d=!1;var u=d&&0==a.showToolTips;e=ge.jqx._ptrnd(e),t=ge.jqx._ptrnd(t);a._ttEl;if(0!=l.showToolTips&&0!=h.showToolTips){a._ttEl||(a._ttEl={}),a._ttEl.sidx=r,a._ttEl.gidx=i,a._ttEl.iidx=s;for(var f=0,c=0;c<a.seriesGroups.length;c++)for(var g=0;g<a.seriesGroups[c].series.length;g++)f++;if(a.showToolTipsOnAllSeries&&!a._isPieGroup(i)&&1<f)a._showMultiSeriesToolTip(e,t,s);else{var p=a._get([h.toolTipFormatSettings,l.toolTipFormatSettings,o.toolTipFormatSettings,a.toolTipFormatSettings]),x=a._get([h.toolTipFormatFunction,l.toolTipFormatFunction,o.toolTipFormatFunction,a.toolTipFormatFunction]),m=a._getColors(i,r,s),_=a._getDataValue(s,n.dataField,i);null!=n.dataField&&""!=n.dataField||(_=s),"date"==n.type&&(_=a._castAsDate(_,(p?p.dateFormat:void 0)||n.dateFormat));var y="";if(ge.isFunction(x)){var v={},b=0;for(var M in h)0==M.indexOf("dataField")&&(v[M.substring(9,M.length).toLowerCase()]=a._getDataValue(s,h[M],i),b++);0==b?v=a._getDataValue(s,void 0,i):1==b&&(v=v[""]),y=x(v,s,h,l,_,n)}else{y=a._getFormattedValue(i,r,s,p,x);var N=this._getAxisSettings(n),w=N.toolTipFormatSettings,A=N.toolTipFormatFunction;A||w||"date"!=n.type||(A=this._getDefaultDTFormatFn(n.baseUnit||"day"));var S,C=a._formatValue(_,w,A,i,r,s);y=a._isPieGroup(i)?(_=a._getDataValue(s,h.displayText||h.dataField,i),(C=a._formatValue(_,w,A,i,r,s))+": "+y):0<(S=n.displayText||n.dataField||"").length?S+": "+C+"<br>"+y:C+"<br>"+y}var j,q,T,k,D,P;a.renderer.getRect();if(d){var F=ge.jqx._ptrnd(a._pointMarker.x),I=ge.jqx._ptrnd(a._pointMarker.y),O=a.crosshairsColor||a._defaultLineColor;if(l.polar||l.spider){var R=this._getPolarAxisCoords(i,this._plotRect);if(ge.jqx._ptdist(F,I,R.x,R.y)>R.r)return;var L=Math.atan2(I-R.y,F-R.x),G=Math.cos(L)*R.r+R.x,E=Math.sin(L)*R.r+R.y;a._ttEl.vLine?a.renderer.attr(a._ttEl.vLine,{x1:R.x,y1:R.y,x2:G,y2:E}):a._ttEl.vLine=a.renderer.line(R.x,R.y,G,E,{stroke:O,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""})}else a._ttEl.vLine&&a._ttEl.hLine?(a.renderer.attr(a._ttEl.vLine,{x1:F,x2:F}),a.renderer.attr(a._ttEl.hLine,{y1:I,y2:I})):(a._ttEl.vLine=a.renderer.line(F,a._plotRect.y,F,a._plotRect.y+a._plotRect.height,{stroke:O,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}),a._ttEl.hLine=a.renderer.line(a._plotRect.x,I,a._plotRect.x+a._plotRect.width,I,{stroke:O,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}))}u||0==a.showToolTips||(j=this._get([h.toolTipClass,l.toolTipClass,a.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),q=this._get([h.toolTipBackground,l.toolTipBackground,a.toolTipBackground,"#FFFFFF"]),T=this._get([h.toolTipLineColor,l.toolTipLineColor,a.toolTipLineColor,m.lineColor]),k=this._get([h.toolTipOpacity,l.toolTipOpacity,a.toolTipOpacity,1]),D=this.getItemCoord(i,r,s),P=0,a._pointMarker&&a._pointMarker.element&&(P=h.symbolSizeSelected,isNaN(P)&&(P=h.symbolSize),(isNaN(P)||50<P||P<0)&&(P=l.symbolSize),(isNaN(P)||50<P||P<0)&&(P=8)),a._createTooltip(D,l,y,{css:j,fill:q,stroke:T,fillOpacity:k,symbolSize:P}))}}}},_fitTooltip:function(e,t,i,r,s){var a={},n=2+s/2;if(t.x-i.width-7-n>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.left={arrowLocation:"right",x:t.x-i.width-7-n,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+n<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.right={arrowLocation:"left",x:t.x+t.width+n,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-n-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-n-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+n<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+n,width:i.width,height:i.height+7}),t.width>t.height||(-1!=r.type.indexOf("stackedcolumn")||-1!=r.type.indexOf("stackedwaterfall"))&&"horizontal"!=r.orientation){if(a.left)return a.left;if(a.right)return a.right}else{if(a.top)return a.top;if(a.bottom)return a.bottom}for(var o in a)if(a[o])return a[o];return{arrowLocation:""}},_createTooltip:function(e,t,i,r){var s,a,n,o=this,l=t.type,h=!1,d=o._ttEl.box;if(d||(h=!0,(d=o._ttEl.box=document.createElement("div")).style.position="absolute",d.style.cursor="default",ge(s).css({"z-index":1e7,"box-sizing":"content-box"}),ge(d).css({"z-index":1e7}),ge(document.body).append(d),(s=document.createElement("div")).id="arrowOuterDiv",s.style.width="0px",s.style.height="0px",s.style.position="absolute",ge(s).css({"z-index":1e7+1,"box-sizing":"content-box"}),(a=document.createElement("div")).id="arrowInnerDiv",a.style.width="0px",a.style.height="0px",a.style.position="absolute",(n=document.createElement("div")).id="contentDiv",n.style.position="absolute",ge(n).css({"box-sizing":"content-box",outline:"none",border:"1px solid transparent",padding:"3px","text-align":"center","vertical-align":"middle",margin:"0 0 0 0",cursor:"default"}),ge(n).addClass("jqx-rc-all"),ge(n).appendTo(ge(d)),ge(s).appendTo(ge(d)),ge(a).appendTo(ge(d)),ge(a).css({"z-index":1e7+2,"box-sizing":"content-box"})),i&&0!=i.length){n=ge(d).find("#contentDiv")[0],s=ge(d).find("#arrowOuterDiv")[0],(a=ge(d).find("#arrowInnerDiv")[0]).style.opacity=s.style.opacity=r.fillOpacity,n.style.backgroundColor=r.fill,n.style.borderColor=r.stroke,n.style.opacity=r.fillOpacity;var u="<span class='"+r.css+"'>"+i+"</span>";ge(n).html(u);var f=this._measureHtml(u,"jqx-rc-all jqx-button"),c=o._plotRect;if(!(f.width>c.width||f.height>c.height)){var g,p,x,m={width:f.width,height:f.height},_="",y=o._isColumnType(l),v=Math.max(e.x,c.x),b=Math.max(e.y,c.y);"dataPoint"==o.toolTipAlignment?(-1!=l.indexOf("pie")||-1!=l.indexOf("donut")?(g=(e.fromAngle+e.toAngle)/2,g*=Math.PI/180,p=!isNaN(e.innerRadius)&&0<e.innerRadius?(e.innerRadius+e.outerRadius)/2:.75*e.outerRadius,v=e.x=e.center.x+Math.cos(g)*p,b=e.y=e.center.y-Math.sin(g)*p,e.width=e.height=1):y&&(t.polar||t.spider)&&(e.width=e.height=1),""!=(x=this._fitTooltip(this._plotRect,e,m,t,r.symbolSize)).arrowLocation&&(_=x.arrowLocation,v=x.x,b=x.y,m.width=x.width,m.height=x.height)):_="","top"==_||"bottom"==_?(m.height+=7,v-=3.5,"bottom"==_&&(b-=7)):"left"!=_&&"right"!=_||(m.width+=7,b-=3.5,"right"==_&&(v-=7)),v+m.width>c.x+c.width&&(_="",v=c.x+c.width-m.width),b+m.height>c.y+c.height&&(_="",b=c.y+c.height-m.height);var M={x:0,y:0},N={x:0,y:0};ge(n).css({width:f.width,height:f.height,left:0,top:0}),s.style["margin-top"]=s.style["margin-left"]=0,a.style["margin-top"]=a.style["margin-left"]=0,n.style["margin-top"]=n.style["margin-left"]=0;var w="7px solid",A="7px solid transparent";switch(_){case"left":M={x:0,y:(f.height-7)/2},N={x:7,y:0},n.style["margin-left"]="7px",s.style["margin-left"]="0px",s.style["margin-top"]=M.y+"px",s.style["border-left"]="",s.style["border-right"]=w+" "+r.stroke,s.style["border-top"]=A,s.style["border-bottom"]=A,a.style["margin-left"]="1px",a.style["margin-top"]=M.y+"px",a.style["border-left"]="",a.style["border-right"]=w+" "+r.fill,a.style["border-top"]=A,a.style["border-bottom"]=A;break;case"right":M={x:m.width-7,y:(f.height-7)/2},N={x:0,y:0},s.style["margin-left"]=M.x+"px",s.style["margin-top"]=M.y+"px",s.style["border-left"]=w+" "+r.stroke,s.style["border-right"]="",s.style["border-top"]=A,s.style["border-bottom"]=A,a.style["margin-left"]=M.x-1+"px",a.style["margin-top"]=M.y+"px",a.style["border-left"]=w+" "+r.fill,a.style["border-right"]="",a.style["border-top"]=A,a.style["border-bottom"]=A;break;case"top":M={x:m.width/2-3.5,y:0},N={x:0,y:7},n.style["margin-top"]=N.y+"px",s.style["margin-left"]=M.x+"px",s.style["border-top"]="",s.style["border-bottom"]=w+" "+r.stroke,s.style["border-left"]=A,s.style["border-right"]=A,a.style["margin-left"]=M.x+"px",a.style["margin-top"]="1px",a.style["border-top"]="",a.style["border-bottom"]=w+" "+r.fill,a.style["border-left"]=A,a.style["border-right"]=A;break;case"bottom":M={x:m.width/2-3.5,y:m.height-7},N={x:0,y:0},s.style["margin-left"]=M.x+"px",s.style["margin-top"]=M.y+"px",s.style["border-top"]=w+" "+r.stroke,s.style["border-bottom"]="",s.style["border-left"]=A,s.style["border-right"]=A,a.style["margin-left"]=M.x+"px",a.style["margin-top"]=M.y-1+"px",a.style["border-top"]=w+" "+r.fill,a.style["border-bottom"]="",a.style["border-left"]=A,a.style["border-right"]=A}""==_?(ge(s).hide(),ge(a).hide()):(ge(s).show(),ge(a).show()),ge(d).css({width:m.width+"px",height:m.height+"px"});var S=o.host.coord();h&&(ge(d).fadeOut(0,0),d.style.left=v+S.left+"px",d.style.top=b+S.top+"px"),ge(d).clearQueue(),ge(d).animate({left:v+S.left,top:b+S.top,opacity:1},o.toolTipMoveDuration,"easeInOutCirc"),ge(d).fadeTo(400,1)}}else ge(d).fadeTo(0,0)},_measureHtml:function(e,t){var i=this._measureDiv;i||(this._measureDiv=i=document.createElement("div"),i.style.position="absolute",i.style.cursor="default",i.style.overflow="hidden",i.style.display="none",ge(i).addClass(t),this.host.append(i)),ge(i).html(e);var r={width:ge(i).width()+2,height:ge(i).height()+2};return ge.jqx.browser&&ge.jqx.browser.mozilla&&(r.height+=3),r},_hideToolTip:function(e){this._ttEl&&(this._ttEl.box&&(0==e?ge(this._ttEl.box).hide():ge(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(e){return ge.jqx.getByPriority(e)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},r={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},a={visible:this._get([s.visible,e.showTickMarks,!0]),color:t._get([s.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:t._get([s.step,e.tickMarksStep]),dashStyle:t._get([s.dashStyle,e.tickMarksDashStyle]),width:t._get([s.lineWidth,1]),size:t._get([s.size,4]),offsets:[]},n=e.title||{},o={visible:t._get([n.visible,!0]),text:t._get([e.description,n.text]),style:t._get([e.descriptionClass,n.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,n.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,n.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([n.rotationPoint,"centercenter"]),offset:t._get([n.offset,{x:0,y:0}])},l=e.line||{},h={visible:t._get([l.visible,!0]),color:t._get([l.color,r.color,t._defaultLineColor]),dashStyle:t._get([l.dashStyle,r.dashStyle,""]),width:t._get([l.lineWidth,1]),angle:t._get([l.angle,NaN])},d={left:(d=e.padding||{}).left||0,right:d.right||0,top:d.top||0,bottom:d.bottom||0},u=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:r,tickMarks:a,line:h,title:o,labels:u,padding:d,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,u.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,u.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(e,t,i,r){for(var s=this.seriesGroups[e],a=s.series[t],n=isNaN(i)?void 0:this._getDataValue(i,a.dataField,e),o=r||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],l={},h=0;h<o.length;h++){var d=o[h],u="labels"+d,f="label"+d,c=d.substring(0,1).toLowerCase()+d.substring(1),g=void 0;s.labels&&"object"==typeof s.labels&&(g=s.labels[c]),a.labels&&"object"==typeof a.labels&&null!=a.labels[c]&&(g=a.labels[c]),g=this._get([a[u],a[f],g,s[u],s[f]]),ge.isFunction(g)?l[c]=g(n,i,a,s):l[c]=g}l.class=l.class||this.toThemeProperty("jqx-chart-label-text",null),l.visible=this._get([l.visible,a.showLabels,s.showLabels,null!=a.labels||void 0,null!=s.labels||void 0]);var p=l.padding||1;return l.padding={left:this._get([p.left,isNaN(p)?1:p]),right:this._get([p.right,isNaN(p)?1:p]),top:this._get([p.top,isNaN(p)?1:p]),bottom:this._get([p.bottom,isNaN(p)?1:p])},l},_showLabel:function(e,t,i,r,s,a,n,o,l,h,d){this.seriesGroups[e].series[t];var u={width:0,height:0};if(!isNaN(i)){var f=this._getLabelsSettings(e,t,i);if(!f.visible)return n?u:void 0;if(r.width<0||r.height<0)return n?u:void 0;var c=f.angle;isNaN(h)||(c=h);var g=f.offset||{},p={x:g.x,y:g.y};isNaN(p.x)&&(p.x=0),isNaN(p.y)&&(p.y=0),s=s||f.horizontalAlignment||"center",a=a||f.verticalAlignment||"center";var x=this._getFormattedValue(e,t,i,void 0,void 0,!0),m=r.width,_=r.height;if(1==o&&"center"!=s&&(s="right"==s?"left":"right"),1==l&&"center"!=a&&"middle"!=a&&(a="top"==a?"bottom":"top",p.y*=-1),u=this.renderer.measureText(x,c,{class:f.class}),n)return u;var y=0,v=0;0<m&&(""==s||"center"==s?y+=(m-u.width)/2:"right"==s&&(y+=m-u.width)),0<_&&(""==a||"center"==a?v+=(_-u.height)/2:"bottom"==a&&(v+=_-u.height)),y+=r.x+p.x,v+=r.y+p.y;var b=this._plotRect;y<=b.x&&(y=b.x+2),v<=b.y&&(v=b.y+2);var M,N=Math.max(u.width,1),w=Math.max(u.height,1);v+w>=b.y+b.height&&(v=b.y+b.height-w-2),y+N>=b.x+b.width&&(y=b.x+b.width-N-2);var A=f.backgroundColor,S=f.borderColor,C=f.padding;(A||S)&&(M=this.renderer.beginGroup(),r=this.renderer.rect(y-C.left,v-C.top,u.width+C.left+C.right,u.height+C.bottom+C.bottom,{fill:A||"transparent","fill-opacity":f.backgroundOpacity||1,stroke:S||"transparent","stroke-opacity":f.borderOpacity,"stroke-width":1}));var j=this.renderer.text(x,y,v,u.width,u.height,c,{class:f.class,opacity:f.opacity||1},!1,"center","center");return d&&(d.x=y-C.left,d.y=v-C.top,d.width=u.width+C.left+C.right,d.height=u.height+C.bottom+C.bottom),this._isVML&&(this.renderer.removeElement(j),this.renderer.getContainer()[0].appendChild(j)),M&&this.renderer.endGroup(),M||j}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],r=isNaN(t)?void 0:i.series[t],s=1==this.enableAnimations;i.enableAnimations&&(s=1==i.enableAnimations),r&&r.enableAnimations&&(s=1==r.enableAnimations);var a=this.animationDuration;isNaN(a)&&(a=1e3);var n,o=i.animationDuration;return isNaN(o)||(a=o),r&&(n=r.animationDuration,isNaN(n)||(a=n)),5e3<a&&(a=1e3),{enabled:s,duration:a}},_isColorTransition:function(e,t,i,r){if(r-1<i.xoffsets.first)return!1;var s=this._getColors(e,t,r,this._getGroupGradientType(e)),a=this._getColors(e,t,r-1,this._getGroupGradientType(e));return s.fillColor!=a.fillColor},_renderLineSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){var r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("stacked"),a=s&&-1!=i.type.indexOf("100"),n=-1!=i.type.indexOf("spline"),o=-1!=i.type.indexOf("step"),l=-1!=i.type.indexOf("range"),h=1==i.polar||1==i.spider;if(h&&(o=!1),!o||!n){var d=this._getDataLen(e),u=(t.width,"horizontal"==i.orientation),f=1==this._getXAxis(e).flip,c=t;u&&(c={x:t.y,y:t.x,width:t.height,height:t.width});var g=this._calcGroupOffsets(e,c);if(g&&0!=g.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[e]={};for(var p=i.series.length-1;0<=p;p--){var x=this._getSerieSettings(e,p),m={groupIndex:e,rect:c,serieIndex:p,swapXY:u,isArea:r,isSpline:n,isRange:l,isPolar:h,settings:x,segments:[],pointsLength:0};if(this._isSerieVisible(e,p)){var _=i.series[p];if(!_.customDraw){var y=ge.isFunction(_.colorFunction),v=g.xoffsets.first,b=v,M=this._getColors(e,p,NaN,this._getGroupGradientType(e));do{var N=[],w=[],A=[],S=0,C=0,j=NaN,q=NaN,T=NaN;if(!(g.xoffsets.length<1)){for(var k,D,P,F,I,O,R,L=this._getAnimProps(e,p),G=L.enabled&&!this._isToggleRefresh&&g.xoffsets.length<1e4&&1!=this._isVML?L.duration:0,E=v,V=!1,H=(this._getColors(e,p,v,this._getGroupGradientType(e)),void 0),B=v;B<=g.xoffsets.last;B++){v=B;var z=g.xoffsets.data[B],W=g.xoffsets.xvalues[B];if(!isNaN(z)&&(S=z=Math.max(z,1),C=g.offsets[p][B].to,!(!y&&H&&this.enableSampling&&ge.jqx._ptdist(H.x,H.y,S,C)<1))){H={x:S,y:C};var X=g.offsets[p][B].from;if(isNaN(C)||isNaN(X)){if("connect"==_.emptyPointsDisplay)continue;if("zero"!=_.emptyPointsDisplay){V=!0;break}isNaN(C)&&(C=g.baseOffset),isNaN(X)&&(X=g.baseOffset)}if(y&&this._isColorTransition(e,p,g,v)&&1<N.length){v--;break}var U,Y,Z=this._elementRenderInfo;Z&&Z.length>e&&Z[e].series.length>p&&(U=Z[e].series[p][W],T=ge.jqx._ptrnd(U?U.to:void 0),Y=ge.jqx._ptrnd(c.x+(U?U.xoffset:void 0)),A.push(u?{y:Y,x:T,index:B}:{x:Y,y:T,index:B})),b=B,x.stroke<2&&(C-c.y<=1&&(C=c.y+1),X-c.y<=1&&(X=c.y+1),c.y+c.height-C<=1&&(C=c.y+c.height-1),c.y+c.height-X<=1&&(X=c.y+c.height-1)),!r&&a&&(C<=c.y&&(C=c.y+1),C>=c.y+c.height&&(C=c.y+c.height-1),X<=c.y&&(X=c.y+1),X>=c.y+c.height&&(X=c.y+c.height-1)),S=(z=Math.max(z,1))+c.x,1==i.skipOverlappingPoints&&!isNaN(j)&&Math.abs(j-S)<=1||(!o||isNaN(j)||isNaN(q)||q!=C&&N.push(u?{y:S,x:ge.jqx._ptrnd(q)}:{x:S,y:ge.jqx._ptrnd(q)}),N.push(u?{y:S,x:ge.jqx._ptrnd(C),index:B}:{x:S,y:ge.jqx._ptrnd(C),index:B}),w.push(u?{y:S,x:ge.jqx._ptrnd(X),index:B}:{x:S,y:ge.jqx._ptrnd(X),index:B}),j=S,q=C,isNaN(T)&&(T=C))}}0!=N.length?(k=N[N.length-1].index,y&&(M=this._getColors(e,p,k,this._getGroupGradientType(e))),P=c.x+g.xoffsets.data[E],F=c.x+g.xoffsets.data[b],r&&1==i.alignEndPointsWithIntervals&&(P>c.x&&(P=c.x),F<c.x+c.width&&(F=c.x+c.width),f&&(D=P,P=F,F=D)),F=ge.jqx._ptrnd(F),P=ge.jqx._ptrnd(P),I=g.baseOffset,T=ge.jqx._ptrnd(T),O=ge.jqx._ptrnd(C)||I,l&&(N=N.concat(w.reverse())),m.pointsLength+=N.length,R={lastItemIndex:k,colorSettings:M,pointsArray:N,pointsStart:A,left:P,right:F,pyStart:T,pyEnd:O,yBase:I,labelElements:[],symbolElements:[]},m.segments.push(R)):v++}}while(v<g.xoffsets.first+g.xoffsets.length-1||V);this._linesRenderInfo[e][p]=m}}else this._linesRenderInfo[e][p]=m}var J=this._linesRenderInfo[e],Q=[];for(var B in J)Q.push(J[B]);Q=Q.sort(function(e,t){return e.serieIndex-t.serieIndex}),r&&s&&Q.reverse();for(B=0;B<Q.length;B++){m=Q[B];this._animateLine(m,0==G?1:0);var $=this;this._enqueueAnimation("series",void 0,void 0,G,function(e,t,i){$._animateLine(t,i)},m)}}}}},_animateLine:function(e,t){var i=e.settings,r=e.groupIndex,s=e.serieIndex,a=this.seriesGroups[r],n=a.series[s],o=this._getSymbol(r,s),l=this._getLabelsSettings(r,s,NaN,["Visible"]).visible,h=!0;e.isPolar&&(isNaN(a.endAngle)||360==Math.round(Math.abs((isNaN(a.startAngle)?0:a.startAngle)-a.endAngle))||(h=!1)),0==n.endPointsConnect&&(h=!1);for(var d=0,u=0;u<e.segments.length;u++){var f=e.segments[u],c=this._calculateLine(r,e.pointsLength,d,f.pointsArray,f.pointsStart,f.yBase,t,e.isArea,e.swapXY);if(d+=f.pointsArray.length,""!=c){var g=c.split(" "),p=(g.length,""!=(p=c)?this._buildLineCmd(c,e.isRange,f.left,f.right,f.pyStart,f.pyEnd,f.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0"),x=f.colorSettings;if(f.pathElement?this.renderer.attr(f.pathElement,{d:p}):(f.pathElement=this.renderer.path(p,{"stroke-width":i.stroke,stroke:x.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?x.fillColor:"none"}),this._installHandlers(f.pathElement,"path",r,s,f.lastItemIndex)),f.labelElements){for(var m=0;m<f.labelElements.length;m++)this.renderer.removeElement(f.labelElements[m]);f.labelElements=[]}if(f.symbolElements){for(m=0;m<f.symbolElements.length;m++)this.renderer.removeElement(f.symbolElements[m]);f.symbolElements=[]}if(f.pointsArray.length==g.length&&("none"!=o||l))for(var _=n.symbolSize,y=this._plotRect,m=0;m<g.length;m++){var v,b,M,N,w,A=g[m].split(",");(A={x:parseFloat(A[0]),y:parseFloat(A[1])}).x<y.x||A.x>y.x+y.width||A.y<y.y||A.y>y.y+y.height||("none"!=o&&(v=this._getColors(r,s,f.pointsArray[m].index,this._getGroupGradientType(r)),b=this._drawSymbol(o,A.x,A.y,v.fillColorSymbol,i.opacity,v.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,_),f.symbolElements.push(b)),l&&(M=(0<m?g[m-1]:g[m]).split(","),M={x:parseFloat(M[0]),y:parseFloat(M[1])},w=(m<g.length-1?g[m+1]:g[m]).split(","),w={x:parseFloat(w[0]),y:parseFloat(w[1])},(A=this._adjustLineLabelPosition(r,s,f.pointsArray[m].index,A,M,w))&&(N=this._showLabel(r,s,f.pointsArray[m].index,{x:A.x,y:A.y,width:0,height:0}),f.labelElements.push(N))))}if(1==t&&"none"!=o)for(m=0;m<f.symbolElements.length;m++)isNaN(f.pointsArray[m].index)||this._installHandlers(f.symbolElements[m],"symbol",r,s,f.pointsArray[m].index)}}},_adjustLineLabelPosition:function(e,t,i,r,s,a){var n=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(n){var o={x:r.x-n.width/2,y:0};return o.y=r.y-1.5*n.height,o}},_calculateLine:function(e,t,i,r,s,a,n,o,l){var h,d=this.seriesGroups[e];1!=d.polar&&1!=d.spider||(h=this._getPolarAxisCoords(e,this._plotRect));var u="",f=r.length;o||0!=s.length||(f=t*n-i);for(var c=0;c<f+1&&c<r.length;c++){0<c&&(u+=" ");var g,p=r[c].y,x=r[c].x,m=o?a:p,_=x;s&&s.length>c&&(m=s[c].y,_=s[c].x,(isNaN(m)||isNaN(_))&&(m=p,_=x)),f<=r.length&&0<c&&c==f&&(_=r[c-1].x,m=r[c-1].y),p=l?(x=ge.jqx._ptrnd((x-m)*(o?n:1)+m),ge.jqx._ptrnd(p)):(x=ge.jqx._ptrnd((x-_)*n+_),ge.jqx._ptrnd((p-m)*n+m)),h&&(x=(g=this._toPolarCoord(h,this._plotRect,x,p)).x,p=g.y),u+=x+","+p}return u},_buildLineCmd:function(e,t,i,r,s,a,n,o,l,h,d,u){var f=e,c=u?n+","+i:i+","+n;!o||l||t||(f=c+" "+e+" "+(u?n+","+r:r+","+n)),d&&(f=this._getBezierPoints(f));var g=f.split(" ");if(0==g.length)return"";if(1==g.length){var p=g[0].split(",");return"M "+g[0]+" L"+(parseFloat(p[0])+1)+","+(parseFloat(p[1])+1)}var x=g[0].replace("M","");return o&&!l?f=t?"M "+x+" L "+x+(d?"":" L "+x+" ")+f:"M "+c+" L "+x+" "+f:d||(f="M "+x+" L "+x+" "+f),(l&&h||t)&&(f+=" Z"),f},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("line"),a=i.series[t],n=a.dashStyle||i.dashStyle||"",o=a.opacity||i.opacity;(isNaN(o)||o<0||1<o)&&(o=1);var l=a.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||l<0||15<l)&&(l=r?2:s?3:1);var h=a.lineWidthSymbol;return isNaN(h)&&(h=1),{stroke:l,strokeSymbol:h,opacity:o,dashStyle:n}},_getColors:function(e,t,i,r,s){var a=this.seriesGroups[e],n=a.series[t],o=this._get([n.useGradientColors,a.useGradientColors,a.useGradient,!0]),l=this._getSeriesColors(e,t,i);l.fillColor||(l.fillColor=_,l.fillColorSelected=ge.jqx.adjustColor(_,1.1),l.fillColorAlt=ge.jqx.adjustColor(_,4),l.fillColorAltSelected=ge.jqx.adjustColor(_,3),l.lineColor=l.symbolColor=ge.jqx.adjustColor(_,.9),l.lineColorSelected=l.symbolColorSelected=ge.jqx.adjustColor(_,.9));var h=[[0,1.4],[100,1]],d=[[0,1],[25,1.1],[50,1.4],[100,1]],u=NaN;if(isNaN(s)||(u=2==s?h:d),o){var f,c={};for(var g in l)c[g]=l[g];if(l=c,"verticalLinearGradient"==r||"horizontalLinearGradient"==r){var p="verticalLinearGradient"==r?u||h:u||d,x=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var m in x){var _=l[x[m]];_&&(l[x[m]]=this.renderer._toLinearGradient(_,"verticalLinearGradient"==r,p))}}else{"radialGradient"==r&&(u=h,("pie"==a.type||"donut"==a.type||a.polar)&&null!=i&&this._renderData[e]&&this._renderData[e].offsets[t]&&(f=this._renderData[e].offsets[t][i],u=[[0,1.3],[90,1.2],[100,1]]),l.fillColor=this.renderer._toRadialGradient(l.fillColor,u,f),l.fillColorSelected=this.renderer._toRadialGradient(l.fillColorSelected,u,f))}}return l},_installHandlers:function(i,r,a,n,o){if(!this.enableEvents)return!1;var l=this,t=this.seriesGroups[a],s=this.seriesGroups[a].series[n],h=-1!=t.type.indexOf("line")||-1!=t.type.indexOf("area");h||0==t.enableSelection||0==s.enableSelection||this.renderer.addHandler(i,"mousemove",function(e){var t,i,r,s=l._selected;s&&s.isLineType&&"click"==s.linesUnselectMode&&(s.group!=a||s.series!=n)||(t=e.pageX||e.clientX||e.screenX,i=e.pageY||e.clientY||e.screenY,t-=(r=l.host.offset()).left,i-=r.top,l._mouseX==t&&l._mouseY==i||l._ttEl&&l._ttEl.gidx==a&&l._ttEl.sidx==n&&l._ttEl.iidx==o||l._startTooltipTimer(a,n,o))}),0!=t.enableSelection&&0!=s.enableSelection&&this.renderer.addHandler(i,"mouseover",function(e){var t=l._selected;t&&t.isLineType&&"click"==t.linesUnselectMode&&(t.group!=a||t.series!=n)||l._select(i,r,a,n,o,o)}),this.renderer.addHandler(i,"click",function(e){clearTimeout(l._hostClickTimer),l._lastClickTs=(new Date).valueOf(),h&&"symbol"!=r&&"pointMarker"!=r||(l._isColumnType(t.type)&&l._unselect(),isNaN(o)||(e.stopImmediatePropagation(),l._raiseItemEvent("click",t,s,o)))})},_getHorizontalOffset:function(e,t,i,r){var s=this._plotRect;if(0==this._getDataLen(e))return{index:void 0,value:i};var a=this._calcGroupOffsets(e,this._plotRect);if(0==a.xoffsets.length)return{index:void 0,value:void 0};var n,o=i,l=r,h=this.seriesGroups[e];(h.polar||h.spider)&&(n=this._getPolarAxisCoords(e,s));this._getXAxis(e).flip;for(var d,u,f,c,g=a.xoffsets.first;g<=a.xoffsets.last;g++){var p,x,m=a.xoffsets.data[g],_=a.offsets[t][g].to,y=0;y=n?(m=(p=this._toPolarCoord(n,s,m+s.x,_)).x,_=p.y,ge.jqx._ptdist(o,l,m,_)):"horizontal"==h.orientation?(x=_,_=m+=s.y,m=x,ge.jqx._ptdist(o,l,m,_)):(m+=s.x,Math.abs(o-m)),(isNaN(d)||y<d)&&(d=y,u=g,f=m,c=_)}return{index:u,value:a.xoffsets.data[u],polarAxisCoords:n,x:f,y:c}},onmousemove:function(e,t){if((this._mouseX!=e||this._mouseY!=t)&&(this._mouseX=e,this._mouseY=t,this._selected)){var i=this._selected.group,r=this._selected.series,s=this.seriesGroups[i],a=s.series[r],n=this._plotRect;if(this.renderer&&((n=this.renderer.getRect()).x+=5,n.y+=5,n.width-=10,n.height-=10),e<n.x||e>n.x+n.width||t<n.y||t>n.y+n.height)return this._hideToolTip(),void this._unselect();var o="horizontal"==s.orientation,n=this._plotRect;if(-1!=s.type.indexOf("line")||-1!=s.type.indexOf("area")){var l=this._getHorizontalOffset(i,this._selected.series,e,t),h=l.index;if(null==h)return;if(this._selected.item!=h){for(var d=this._linesRenderInfo[i][r].segments,u=0;h>d[u].lastItemIndex;)if(++u>=d.length)return;var f=d[u].pathElement,c=d[u].lastItemIndex;this._unselect(!1),this._select(f,"path",i,r,h,c)}var g=this._getSymbol(this._selected.group,this._selected.series);"none"==g&&(g="circle");var p=this._calcGroupOffsets(i,n),x=p.offsets[this._selected.series][h].to,m=x;-1!=s.type.indexOf("range")&&(m=p.offsets[this._selected.series][h].from);var _,y=o?e:t;if(t=!isNaN(m)&&Math.abs(y-m)<Math.abs(y-x)?m:x,isNaN(t))return;if(e=l.value,o?(_=e,e=t,t=_+n.y):e+=n.x,l.polarAxisCoords&&(e=l.x,t=l.y),t=ge.jqx._ptrnd(t),e=ge.jqx._ptrnd(e),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(e)||isNaN(t))return;var v=this._getSeriesColors(i,r,h),b=this._getSerieSettings(i,r),M=a.symbolSizeSelected;isNaN(M)&&(M=a.symbolSize),(isNaN(M)||50<M||M<0)&&(M=s.symbolSize),(isNaN(M)||50<M||M<0)&&(M=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:g,x:e,y:t,gidx:i,sidx:r,iidx:h},this._pointMarker.element=this._drawSymbol(g,e,t,v.fillColorSymbolSelected,b.opacity,v.lineColorSymbolSelected,b.opacity,b.strokeSymbol,b.dashStyle,M),this._installHandlers(this._pointMarker.element,"pointMarker",i,r,h)),this._startTooltipTimer(i,this._selected.series,h)}}},_drawSymbol:function(e,t,i,r,s,a,n,o,l,h){var d=h||6,u=d/2;switch(e){case"none":return;case"circle":c=this.renderer.circle(t,i,d/2);break;case"square":u=--d/2,c=this.renderer.rect(t-u,i-u,d,d);break;case"diamond":var f="M "+(t-u)+","+i+" L"+t+","+(i-u)+" L"+(t+u)+","+i+" L"+t+","+(i+u)+" Z",c=this.renderer.path(f);break;case"triangle_up":case"triangle":f="M "+(t-u)+","+(i+u)+" L "+(t+u)+","+(i+u)+" L "+t+","+(i-u)+" Z";c=this.renderer.path(f);break;case"triangle_down":f="M "+(t-u)+","+(i-u)+" L "+t+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";c=this.renderer.path(f);break;case"triangle_left":f="M "+(t-u)+","+i+" L "+(t+u)+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";c=this.renderer.path(f);break;case"triangle_right":f="M "+(t-u)+","+(i-u)+" L "+(t-u)+","+(i+u)+" L "+(t+u)+","+i+" Z";c=this.renderer.path(f);break;default:c=this.renderer.circle(t,i,d)}return this.renderer.attr(c,{fill:r,"fill-opacity":s,stroke:a,"stroke-width":o,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(c,{r:d/2}),"square"!=e&&this.renderer.attr(c,{x:t,y:i})),c},_getSymbol:function(e,t){var i,r=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],s=this.seriesGroups[e],a=s.series[t];return null!=a.symbolType&&(i=a.symbolType),null==i&&(i=s.symbolType),"default"==i?r[t%r.length]:null!=i?i:"none"},_startTooltipTimer:function(t,i,r,s,a,e,n){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[t],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||1e4<l||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(e)||(l=e),clearTimeout(this._tttimerHide),isNaN(s)&&(s=o._mouseX),isNaN(a)&&(a=o._mouseY-3),0==l&&o._showToolTip(s,a,t,i,r),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(s,a,t,i,r);var e=o.toolTipHideDelay;isNaN(n)||(e=n),isNaN(e)&&(e=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},e)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,r,s,a){if(this._selected){if(this._selected.item==s&&this._selected.series==r&&this._selected.group==i)return;this._unselect()}var n,o,l,h,d,u,f=this.seriesGroups[i],c=f.series[r];0!=f.enableSelection&&0!=c.enableSelection&&(n=-1!=f.type.indexOf("line")&&-1==f.type.indexOf("area"),this._selected={element:e,type:t,group:i,series:r,item:s,iidxBase:a,isLineType:n,linesUnselectMode:c.linesUnselectMode||f.linesUnselectMode},d=(o=this._getColors(i,r,a||s,this._getGroupGradientType(i))).fillColorSelected,n&&(d="none"),l=this._getSerieSettings(i,r),h="symbol"==t?o.lineColorSymbolSelected:o.lineColorSelected,d="symbol"==t?o.fillColorSymbolSelected:d,u="symbol"==t?1:l.stroke,this.renderer.getAttr(e,"fill")==o.fillColorAlt&&(d=o.fillColorAltSelected),this.renderer.attr(e,{stroke:h,fill:d,"stroke-width":u}),-1==f.type.indexOf("pie")&&-1==f.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",f,c,s))},_applyPieSelect:function(){var n=this;n._createAnimationGroup("animPieSlice");var e,t,o=this._selected;!o||(e=this.getItemCoord(o.group,o.series,o.item))&&(t={element:this._getRenderInfo(o.group,o.series,o.item),coord:e},this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(e,t,i){var r=t.coord,s=r.selectedRadiusChange*i,a=n.renderer.pieSlicePath(r.center.x,r.center.y,0==r.innerRadius?0:r.innerRadius+s,r.outerRadius+s,r.fromAngle,r.toAngle,r.centerOffset);n.renderer.attr(t.element.element,{d:a}),n._showPieLabel(o.group,o.series,o.item,void 0,s)},t),n._startAnimation("animPieSlice"))},_applyPieUnselect:function(){this._stopAnimations();var e,t,i=this._selected;!i||(e=this.getItemCoord(i.group,i.series,i.item))&&e.center&&(t=this.renderer.pieSlicePath(e.center.x,e.center.y,e.innerRadius,e.outerRadius,e.fromAngle,e.toAngle,e.centerOffset),this.renderer.attr(i.element,{d:t}),this._showPieLabel(i.group,i.series,i.item,void 0,0))},_unselect:function(){var e,t,i,r,s,a,n,o,l,h,d,u,f,c=this;c._selected&&(e=c._selected.group,t=c._selected.series,i=c._selected.item,r=c._selected.iidxBase,s=c._selected.type,n=(a=c.seriesGroups[e]).series[t],o=-1!=a.type.indexOf("line")&&-1==a.type.indexOf("area"),u=(l=c._getColors(e,t,r||i,c._getGroupGradientType(e))).fillColor,o&&(u="none"),h=c._getSerieSettings(e,t),d="symbol"==s?l.lineColorSymbol:l.lineColor,u="symbol"==s?l.fillColorSymbol:u,this.renderer.getAttr(c._selected.element,"fill")==l.fillColorAltSelected&&(u=l.fillColorAlt),f="symbol"==s?1:h.stroke,c.renderer.attr(c._selected.element,{stroke:d,fill:u,"stroke-width":f}),-1==a.type.indexOf("pie")&&-1==a.type.indexOf("donut")||this._applyPieUnselect(),c._selected=void 0,isNaN(i)||c._raiseItemEvent("mouseout",a,n,i)),c._pointMarker&&(c._pointMarker.element&&(c.renderer.removeElement(c._pointMarker.element),c._pointMarker.element=void 0),c._pointMarker=void 0,c._hideCrosshairs())},_raiseItemEvent:function(e,t,i,r){for(var s,a=i[e]||t[e],n=0;n<this.seriesGroups.length&&this.seriesGroups[n]!=t;n++);n!=this.seriesGroups.length&&(s={event:e,seriesGroup:t,serie:i,elementIndex:r,elementValue:this._getDataValue(r,i.dataField,n)},a&&ge.isFunction(a)&&a(s),this._raiseEvent(e,s))},_raiseEvent:function(e,t){var i=new ge.Event(e);return i.owner=this,t.event=e,i.args=t,this.host.trigger(i)},_calcInterval:function(e,t,i){var r=Math.abs(t-e)/i,s=.1,a=[1,2,3,4,5,10,15,20,25,50,100];r<1&&(a=[.5,.25,.125,.1],s=10);var n=0;do{n=0,1<=r?s*=10:s/=10;for(var o=1;o<a.length&&Math.abs(a[n]*s-r)>Math.abs(a[o]*s-r);o++)n=o}while(n==a.length-1);return a[n]*s},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],r=this._renderData[t];if(r.offsets){if(r.valueAxis)for(var s in i.valueAxis={itemOffsets:{}},r.valueAxis.itemOffsets)i.valueAxis.itemOffsets[s]=r.valueAxis.itemOffsets[s];if(r.xAxis)for(var s in i.xAxis={itemOffsets:{}},r.xAxis.itemOffsets)i.xAxis.itemOffsets[s]=r.xAxis.itemOffsets[s];i.series=[];for(var a=i.series,n=this._isPieGroup(t),o=0;o<r.offsets.length;o++){a.push({});for(var l,h=0;h<r.offsets[o].length;h++){n?(l=r.offsets[o][h],a[o][l.displayValue]={value:l.value,x:l.x,y:l.y,fromAngle:l.fromAngle,toAngle:l.toAngle}):a[o][r.xoffsets.xvalues[h]]={value:r.offsets[o][h].value,valueRadius:r.offsets[o][h].valueRadius,xoffset:r.xoffsets.data[h],from:r.offsets[o][h].from,to:r.offsets[o][h].to}}}}}}},getPolarDataPointOffset:function(e,t,i){var r=this._renderData[i];if(!r)return{x:NaN,y:NaN};var s=this.getValueAxisDataPointOffset(t,i),a=this.getXAxisDataPointOffset(e,i),n=this._toPolarCoord(r.polarCoords,r.xAxis.rect,a,s);return{x:n.x,y:n.y}},_getDataPointOffsetDiff:function(e,t,i,r,s,a,n){var o=this._getDataPointOffset(e,i,r,s,a,n),l=this._getDataPointOffset(t,i,r,s,a,n);return Math.abs(o-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var r=0;r<=e&&null!=this.seriesGroups[r].xAxis;r++);i=this._renderData[r].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;var r=this._getXAxisRenderData(t);if(!r)return NaN;var s=r.data.axisStats,a=s.min.valueOf(),n=s.max.valueOf(),o=n-a;if(0==o&&(o=1),e.valueOf()>n||e.valueOf()<a)return NaN;var l=this._getXAxis(t),h="horizontal"==i.orientation?"height":"width",d="horizontal"==i.orientation?"y":"x",u=(e.valueOf()-a)/o,f=r.rect[h]-r.data.padding.left-r.data.padding.right;return(i.polar||i.spider)&&this._renderData[t].polarCoords.isClosedCircle&&(f=r.data.axisSize),this._plotRect[d]+r.data.padding.left+f*(l.flip?1-u:u)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var r=this._renderData[t];if(!r)return NaN;var s=1==i.flip,a=r.logBase,n=r.scale,o=r.gbase,l=r.baseOffset;return this._getDataPointOffset(e,o,a,n,l,s)},_getDataPointOffset:function(e,t,i,r,s,a){var n;return isNaN(e)&&(e=t),n=isNaN(i)?(e-t)*r:(ge.jqx.log(e,i)-ge.jqx.log(t,i))*r,this._isVML&&(n=Math.round(n)),n=a?s+n:s-n},_calcGroupOffsets:function(e,t){for(var i=this.seriesGroups[e];this._renderData.length<e+1;)this._renderData.push({});if(null!=this._renderData[e]&&null!=this._renderData[e].offsets)return this._renderData[e];if(this._isPieGroup(e))return this._calcPieSeriesGroupOffsets(e,t);var r=this._getValueAxis(e);if(!r||!i.series||0==i.series.length)return this._renderData[e];var s=1==r.flip,a=1==r.logarithmicScale,n=r.logarithmicScaleBase||10,o=[],l=-1!=i.type.indexOf("stacked"),h=l&&-1!=i.type.indexOf("100"),d=-1!=i.type.indexOf("range"),u=this._isColumnType(i.type),f=-1!=i.type.indexOf("waterfall"),c=this._getDataLen(e),g=i.baselineValue||r.baselineValue||0;h&&(g=0);var p=this._stats.seriesGroups[e];if(p&&p.isValid){var x=p.hasStackValueReversal;if(x&&(g=0),f&&l){if(x)return;g=p.base}g>p.max&&(g=p.max),g<p.min&&(g=p.min);var m=h||a?p.maxRange:p.max-p.min,_=p.min,y=p.max,v=t.height/(a?p.intervals:m),b=0,b=h?_*y<0?-((m/=2)+g)*v:-g*v:-(g-_)*v;s?b=t.y-b:b+=t.y+t.height;var M,N=[],w=[],A=[];a&&(M=ge.jqx.log(y,n)-ge.jqx.log(g,n),l&&(M=p.intervals,g=h?0:_),p.intervals,s||(b=t.y+M/p.intervals*t.height)),b=ge.jqx._ptrnd(b);for(var S=_*y<0?t.height/2:t.height,C=[],j=[],q=l&&(u||a),T=[],o=new Array(i.series.length),k=0;k<i.series.length;k++)o[k]=new Array(c);for(var D=0;D<c;D++){!f&&l&&(j=[]);for(k=0;k<i.series.length;k++){!l&&a&&(C=[]);var P=i.series[k],F=P.dataField,I=P.dataFieldFrom,O=P.dataFieldTo,R=P.radiusDataField||P.sizeDataField;o[k][D]={};var L=this._isSerieVisible(e,k);if(-1==i.type.indexOf("candle")&&-1==i.type.indexOf("ohlc")){if(l)for(;j.length<=D;)j.push(0);var G=NaN;d&&(G=this._getDataValueAsNumber(D,I,e),isNaN(G)&&(G=g));var E,V=NaN,V=d?this._getDataValueAsNumber(D,O,e):this._getDataValueAsNumber(D,F,e),H=this._getDataValueAsNumber(D,R,e);if(l&&(j[D]+=L?V:0),L||(V=NaN),isNaN(V)||a&&V<=0)o[k][D]={from:void 0,to:void 0};else{l&&(q?E=g<=V?N:w:V=j[D]);var B=d?v*(V-G):v*(V-g);if(l&&q&&(B=T[D]?v*V:(T[D]=!0,v*(V-g))),a){for(;C.length<=D;)C.push({p:{value:0,height:0},n:{value:0,height:0}});var z=d||d?G:g,W=z<V?C[D].p:C[D].n;W.value+=V,h?(V=W.value/(p.psums[D]+p.nsums[D])*100,B=(ge.jqx.log(V,n)-p.minPow)*v):(B=ge.jqx.log(W.value,n)-ge.jqx.log(z,n),B*=v),B-=W.height,W.height+=B}var X,U,Y=b;d&&(X=0,X=a?(ge.jqx.log(G,n)-ge.jqx.log(g,n))*v:(G-g)*v,Y+=s?X:-X),l&&(h&&!a&&(U=p.psums[D]-p.nsums[D],g<V?(B=p.psums[D]/U*S,0!=p.psums[D]&&(B*=V/p.psums[D])):(B=p.nsums[D]/U*S,0!=p.nsums[D]&&(B*=V/p.nsums[D]))),q&&(isNaN(E[D])&&(E[D]=Y),Y=E[D])),isNaN(A[D])&&(A[D]=0);var Z,J=A[D],Q=B=Math.abs(B);if(1<=B&&(Z=this._isVML?Math.round(B):ge.jqx._ptrnd(B)-1,B=.5<Math.abs(B-Z)?Math.round(B):Z),J+=B-Q,l||(J=0),.5<Math.abs(J)&&(0<J?(--B,--J):(B+=1,J+=1)),A[D]=J,k==i.series.length-1&&h){for(var $=0,K=0;K<k;K++)$+=Math.abs(o[K][D].to-o[K][D].from);if(($+=B)<S)if(.5<B)B=ge.jqx._ptrnd(B+S-$);else for(K=k-1;0<=K;){if(1<Math.abs(o[K][D].to-o[K][D].from)){o[K][D].from>o[K][D].to&&(o[K][D].from+=S-$);break}K--}}s&&(B*=-1);var ee=V<g;d&&(ee=V<G);var te=isNaN(G)?V:{from:G,to:V};ee?(q&&(E[D]+=B),o[k][D]={from:Y,to:Y+B,value:te,valueRadius:H}):(q&&(E[D]-=B),o[k][D]={from:Y,to:Y-B,value:te,valueRadius:H})}}else{var ie=["Open","Close","High","Low"];for(var re in ie){var se="dataField"+ie[re];P[se]&&(o[k][D][ie[re]]=this._getDataPointOffset(this._getDataValueAsNumber(D,P[se],e),g,a?n:NaN,v,b,s))}}}}var ae=this._renderData[e];return ae.baseOffset=b,ae.gbase=g,ae.logBase=a?n:NaN,ae.scale=v,ae.offsets=f?this._applyWaterfall(o,c,e,b,g,a?n:NaN,v,s,l):o,ae.xoffsets=this._calculateXOffsets(e,t.width),this._renderData[e]}},_isPercent:function(e){return"string"==typeof e&&0<e.length&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(e,t){for(var i=this._getDataLen(e),r=this.seriesGroups[e],s=this._renderData[e]={},a=s.offsets=[],n=0;n<r.series.length;n++){var o=r.series[n],l=this._get([o.minAngle,o.startAngle]);(isNaN(l)||l<0||360<l)&&(l=0);var h=this._get([o.maxAngle,o.endAngle]);(isNaN(h)||h<0||360<h)&&(h=360);var d=h-l,u=o.initialAngle||0;u<l&&(u=l),h<u&&(u=h);var f=o.centerOffset||0,c=ge.jqx.getNum([o.offsetX,r.offsetX,t.width/2]),g=ge.jqx.getNum([o.offsetY,r.offsetY,t.height/2]),p=Math.min(t.width,t.height)/2,x=u,m=o.radius;this._isPercent(m)&&(m=parseFloat(m)/100*p),isNaN(m)&&(m=.4*p);var _=o.innerRadius;this._isPercent(_)&&(_=parseFloat(_)/100*p),(isNaN(_)||m<=_)&&(_=0);var y=o.selectedRadiusChange;this._isPercent(y)&&(y=parseFloat(y)/100*(m-_)),isNaN(y)&&(y=.1*(m-_)),a.push([]);for(var v=0,b=0,M=0;M<i;M++){var N=this._getDataValueAsNumber(M,o.dataField,e);isNaN(N)||!this._isSerieVisible(e,n,M)&&1!=o.hiddenPointsDisplay||(0<N?v+=N:b+=N)}var w=v-b;0==w&&(w=1);for(M=0;M<i;M++){var A,S,C,j,q,T,k,D,N=this._getDataValueAsNumber(M,o.dataField,e);isNaN(N)?a[n].push({}):(A=o.displayText||o.displayField,null==(S=this._getDataValue(M,A,e))&&(S=M),C=0,!(j=this._isSerieVisible(e,n,M))&&1!=o.hiddenPointsDisplay||(C=Math.abs(N)/w*d),q=t.x+c,T=t.y+g,k=f,ge.isFunction(f)&&(k=f({seriesIndex:n,seriesGroupIndex:e,itemIndex:M})),isNaN(k)&&(k=0),D={key:e+"_"+n+"_"+M,value:N,displayValue:S,x:q,y:T,fromAngle:x,toAngle:x+C,centerOffset:k,innerRadius:_,outerRadius:m,selectedRadiusChange:y,visible:j},a[n].push(D),x+=C)}}return s},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var r in e)if(-1!=i.type.indexOf(e[r]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],r=this._getXAxis(e),s=null==r.valuesOnTicks?t:0!=r.valuesOnTicks;return r.logarithmicScale&&(s=!0),null==e||null==i.valuesOnTicks?s:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(e,t,i,r){var s=0;switch("year"!=i&&"month"!=i&&(s=t.valueOf()-e.valueOf()),i){case"year":s=this._getYearsDiff(e,t);break;case"month":s=this._getMonthsDiff(e,t);break;case"day":s/=864e5;break;case"hour":s/=36e5;break;case"minute":s/=6e4;break;case"second":s/=1e3}return"year"!=i&&"month"!=i&&0!=r&&(s=ge.jqx._rnd(s,1,!0)),s},_getBestDTUnit:function(e,t,i,r,s){for(var a="day",n=t.valueOf()-e.valueOf(),a=n<1e3?"second":n<36e5?"minute":n<864e5?"hour":n<2592e6?"day":n<31104e6?"month":"year",o=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,h=0;h<o.length;h++)if(o[h].key==a){l=h;break}for(var d=-1,u=-1;l<o.length&&!(o[l].cnt/100>r);l++){var f=this._estAxisInterval(e,t,i,r,o[l].key,s),c=this._getDTIntCnt(e,t,f,o[l].key);(-1==d||d<c)&&(d=c,u=l)}return a=o[u].key},_getXAxisStats:function(e,t,i){var r,s=this._getDataLen(e),a="date"==t.type||"time"==t.type;a&&!this._autoDateFormats&&(this._autoDateFormats||(this._autoDateFormats=[]),(r=this._testXAxisDateFormat())&&this._autoDateFormats.push(r));var n,o,l=a?this._castAsDate(t.minValue,t.dateFormat):this._castAsNumber(t.minValue),h=a?this._castAsDate(t.maxValue,t.dateFormat):this._castAsNumber(t.maxValue);this._selectorRange&&this._selectorRange[e]&&(n=this._selectorRange[e].min,isNaN(n)||(l=a?this._castAsDate(n,t.dateFormat):this._castAsNumber(n)),o=this._selectorRange[e].max,isNaN(o)||(h=a?this._castAsDate(o,t.dateFormat):this._castAsNumber(o)));for(var d,u,f=l,c=h,g=null==t.type||"auto"==t.type,p=g||"basic"==t.type,x=0,m=0,_=0;_<s&&t.dataField;_++){var y=this._getDataValue(_,t.dataField,e),y=a?this._castAsDate(y,t.dateFormat):this._castAsNumber(y);isNaN(y)||(a?x++:m++,(isNaN(d)||y<d)&&(d=y),(isNaN(u)||u<=y)&&(u=y))}g&&(!a&&m==s||a&&x==s)&&(p=!1),p&&(d=0,u=Math.max(0,s-1)),isNaN(f)&&(f=d),isNaN(c)&&(c=u),a?(this._isDate(f)||(f=this._isDate(c)?c:new Date),this._isDate(c)||(c=this._isDate(f)?f:new Date)):(isNaN(f)&&(f=0),isNaN(c)&&(c=p?Math.max(0,s-1):f)),null==d&&(d=f),null==u&&(u=c);var v,b,M=t.rangeSelector;M&&((v=M.minValue||f)&&a&&(v=this._castAsDate(v,M.dateFormat||t.dateFormat)),(b=M.maxValue||c)&&a&&(b=this._castAsDate(b,M.dateFormat||t.rangeSelector)),f<v&&(f=v),c<v&&(c=b),b<f&&(f=v),b<c&&(c=b));var N,w,A=t.unitInterval;a&&(w="hour"==(N=(N=t.baseUnit)||this._getBestDTUnit(f,c,e,i))||"minute"==N||"second"==N||"millisecond"==N);var S=1==t.logarithmicScale,C=t.logarithmicScaleBase;(isNaN(C)||C<=1)&&(C=10);A=t.unitInterval;S?A=1:(isNaN(A)||A<=0)&&(A=this._estAxisInterval(f,c,e,i,N));var j,q,T={min:f,max:c},k=this.seriesGroups[e];return S?(f||(f=1,c&&c<f&&(f=c)),T={min:f,max:c=c||f},j=ge.jqx._rnd(ge.jqx.log(f,C),1,!1),q=ge.jqx._rnd(ge.jqx.log(c,C),1,!0),c=Math.pow(C,q),f=Math.pow(C,j)):a||!k.polar&&!k.spider||(f=ge.jqx._rnd(f,A,!1),c=ge.jqx._rnd(c,A,!0)),{min:f,max:c,logAxis:{enabled:S,base:C,minPow:j,maxPow:q},dsRange:{min:d,max:u},filterRange:T,useIndeces:p,isDateTime:a,isTimeUnit:w,dateTimeUnit:N,interval:A}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i="year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()};return i},_getDTIntCnt:function(e,t,i,r){var s=0,a=new Date(e),n=(n=new Date(t)).valueOf();if(i<=0)return 1;for(;a.valueOf()<n;)"millisecond"==r?a=new Date(a.valueOf()+i):"second"==r?a=new Date(a.valueOf()+1e3*i):"minute"==r?a=new Date(a.valueOf()+6e4*i):"hour"==r?a=new Date(a.valueOf()+6e4*i*24):"day"==r?a.setDate(a.getDate()+i):"month"==r?a.setMonth(a.getMonth()+i):"year"==r&&a.setFullYear(a.getFullYear()+i),s++;return s},_estAxisInterval:function(e,t,i,r,s,a){if(isNaN(e)||isNaN(t))return NaN;var n,o=[1,2,5,10,15,20,50,100,200,500],l=0,h=r/(!isNaN(a)&&0<a?a:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)&&(0!=(n=Math.max(1,this._renderData[i].xAxis.avgWidth))&&isNaN(a)&&(h=.9*r/n)),h<=1)return Math.abs(t-e);for(;;){var d=o.length<=l?Math.pow(10,3+l-o.length):o[l];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,s):(t-e)/d)<=h)break;l++}var u=this.seriesGroups[i];return(u.spider||u.polar)&&t-e<2*d&&(d=t-e),d},_getPaddingSize:function(e,t,i,r,s,a,n){var o=e.min,l=e.max;e.logAxis.enabled&&(o=e.logAxis.minPow,l=e.logAxis.maxPow);var h=e.interval,d=e.dateTimeUnit;if(s){var u=r/Math.max(1,l-o+h)*h;return a?{left:0,right:u}:i?{left:0,right:0}:{left:u/2,right:u/2}}if(i&&!n)return{left:0,right:0};if(this._isDate(o)&&this._isDate(l)){var f,c=this._getDTIntCnt(o,l,Math.min(h,l-o),d);return{left:(f=r/Math.max(2,c))/2,right:f/2}}if(1!=(c=Math.max(1,l-o)))return{left:(f=r/(c+1))/2,right:f/2};var g=r/4;return{left:g,right:g}},_calculateXOffsets:function(e,t){var i=this.seriesGroups[e],r=this._getXAxis(e),s=[],a=[],n=this._getDataLen(e),o=this._getXAxisStats(e,r,t),l=o.min,h=o.max,d=o.isDateTime,u=o.isTimeUnit,f=this._hasColumnSeries(),c=i.polar||i.spider,g=this._get([i.startAngle,i.minAngle,0]),p=this._get([i.endAngle,i.maxAngle,360]),x=c&&!(1e-4<Math.abs(Math.abs(p-g)-360)),m=this._alignValuesWithTicks(e),_=this._getPaddingSize(o,r,m,t,c,x,f),y=h-l,v=o.filterRange;0==y&&(y=1);var b=t-_.left-_.right;c&&m&&!x&&(_.left=_.right=0);for(var M=-1,N=-1,w=0;w<n;w++){var A=void 0===r.dataField?w:this._getDataValue(w,r.dataField,e);if(o.useIndeces){if(w<v.min||w>v.max){s.push(NaN),a.push(void 0);continue}S=_.left+(w-l)/y*b,1==o.logAxis.enabled&&(C=o.logAxis.base,S=this._jqxPlot.scale(A,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:C},{min:0,max:b,flip:!1})),s.push(ge.jqx._ptrnd(S)),a.push(A),-1==M&&(M=w),(-1==N||N<w)&&(N=w)}else{var S,C,A=d?this._castAsDate(A,r.dateFormat):this._castAsNumber(A);isNaN(A)||A<v.min||A>v.max?(s.push(NaN),a.push(void 0)):(S=0,S=1==o.logAxis.enabled?(C=o.logAxis.base,this._jqxPlot.scale(A,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:C},{min:0,max:b,flip:!1})):!d||d&&u?(A-l)*b/y:(A.valueOf()-l.valueOf())/(h.valueOf()-l.valueOf())*b,S=ge.jqx._ptrnd(_.left+S),s.push(S),a.push(A),-1==M&&(M=w),(-1==N||N<w)&&(N=w))}}if(1==r.flip)for(w=0;w<s.length;w++)isNaN(s[w])||(s[w]=t-s[w]);(u||d)&&(y=this._getDateDiff(l,h,r.baseUnit),y=ge.jqx._rnd(y,1,!1));var j=Math.max(1,y),q=b/j;return M==N&&1==j&&(s[M]=_.left+b/2),{axisStats:o,data:s,xvalues:a,first:M,last:N,length:-1==N?0:N-M+1,itemWidth:q,intervalWidth:q*o.interval,rangeLength:y,useIndeces:o.useIndeces,padding:_,axisSize:b}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],r=i.series[t];return 1==r.greyScale||0!=r.greyScale&&(1==i.greyScale||0!=i.greyScale&&1==this.greyScale)},_getSeriesColors:function(e,t,i){var r=this._getSeriesColorsInternal(e,t,i);if(this._isGreyScale(e,t))for(var s in r)r[s]=ge.jqx.toGreyScale(r[s]);return r},_getColorFromScheme:function(e,t,i){var r="#000000",s=this.seriesGroups[e],a=s.series[t];if(this._isPieGroup(e))var n=this._getDataLen(e),r=this._getItemColorFromScheme(a.colorScheme||s.colorScheme||this.colorScheme,t*n+i,e,t);else{for(var o=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(s.colorScheme&&(d=s.colorScheme,0),null!=d&&""!=d||(d=this.colorSchemes[0].name),!d)return r;for(l=0;l<this.colorSchemes.length;l++){var u=this.colorSchemes[l];if(u.name==d){for(;o>u.colors.length;)o-=u.colors.length,++l>=this.colorSchemes.length&&(l=0),u=this.colorSchemes[l];r=u.colors[o%u.colors.length]}}}return r},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(e,t,i){var r=this.seriesGroups[e],s=r.series[t];ge.isFunction(s.colorFunction)||"pie"==r.type||"donut"==r.type||(i=NaN);var a=e+"_"+t+"_"+(isNaN(i)?"NaN":i);if(this._colorsCache.get(a))return this._colorsCache.get(a);var n,o={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(ge.isFunction(s.colorFunction)){var l=isNaN(i)?NaN:this._getDataValue(i,s.dataField,e);if(-1==r.type.indexOf("range")||isNaN(i)||(l={from:this._getDataValue(i,s.dataFieldFrom,e),to:this._getDataValue(i,s.dataFieldTo,e)}),"object"==typeof(n=s.colorFunction(l,i,s,r)))for(var h in n)o[h]=n[h];else o.fillColor=n}else{for(var h in o)s[h]&&(o[h]=s[h]);s.fillColor||s.color?s.fillColor=s.fillColor||s.color:o.fillColor=this._getColorFromScheme(e,t,i)}var d={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var h in o)"object"==typeof n&&n[h]||s[h]&&(o[h]=s[h]);for(var h in o)"object"==typeof n&&n[h]||s[h]||(o[h]=ge.jqx.adjustColor(o[d[h].baseColor],d[h].adjust));return this._colorsCache.set(a,o),o},_getItemColorFromScheme:function(e,t,i,r){null!=e&&""!=e||(e=this.colorSchemes[0].name);for(var s=0;s<this.colorSchemes.length&&e!=this.colorSchemes[s].name;s++);for(var a=0;a<=t;){s==this.colorSchemes.length&&(s=0);var n=this.colorSchemes[s].colors.length;if(!(a+n<=t)){var o=this.colorSchemes[s].colors[t-a];return this._isGreyScale(i,r)&&0==o.indexOf("#")&&(o=ge.jqx.toGreyScale(o)),o}a+=n,s++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(e,t,i,r,s,a){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!ge.isFunction(i))return e.toString();try{return i(e,a,s,r)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_getFormattedValue:function(e,t,i,r,s,a){var n=this.seriesGroups[e],o=n.series[t],l="",h=r,d=(d=s)||(o.formatFunction||n.formatFunction),h=h||(o.formatSettings||n.formatSettings);!o.formatFunction&&o.formatSettings&&(d=void 0);var u={},f=0;for(var c in o)0==c.indexOf("dataField")&&(u[c.substring(9).toLowerCase()]=this._getDataValue(i,o[c],e),f++);if(0==f&&(u=this._getDataValue(i,void 0,e)),-1!=n.type.indexOf("waterfall")&&this._isSummary(e,i)&&(u=this._renderData[e].offsets[t][i].value,f=0),d&&ge.isFunction(d))try{return d(1==f?u[""]:u,i,o,n)}catch(e){return e.message}if(1==f&&this._isPieGroup(e))return this._formatValue(u[""],h,d,e,t,i);if(0<f){var g=0;for(var c in u){0<g&&""!=l&&(l+="<br>");var p="dataField"+(0<c.length?c.substring(0,1).toUpperCase()+c.substring(1):""),x=o["displayText"+(0<c.length?c.substring(0,1).toUpperCase()+c.substring(1):"")]||o[p],m=u[c];null!=m&&(m=this._formatValue(m,h,d,e,t,i),l+=!0===a?m:x+": "+m,g++)}}else null!=u&&(l=this._formatValue(u,h,d,e,t,i));return l||""},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=ge.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=ge.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats)for(var r=0;r<this._autoDateFormats.length;r++)if(i=ge.jqx.dataFormat.parsedate(e,this._autoDateFormats[r]),this._isDate(i))return i;var s=this._detectDateFormat(e);return s&&(i=ge.jqx.dataFormat.parsedate(e,s),this._isDate(i))?(this._autoDateFormats.push(s),i):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0),i)}},_castAsNumber:function(e){return e instanceof Date&&!isNaN(e)?e.valueOf():("string"==typeof e&&(this._isNumber(e)?e=parseFloat(e):/[a-zA-Z]/.test(e)||null!=(t=new Date(e))&&(e=t.valueOf())),e);var t},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||ge.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=ge.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",r="",s=this;s.localization&&(i=s.localization.decimalSeparator||s.localization.decimalseparator||i,r=s.localization.thousandsSeparator||s.localization.thousandsseparator||r),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(r=t.thousandsSeparator);var a=t.prefix||"",n=t.sufix||"",o=t.decimalPlaces;isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3));var l=t.negativeWithBrackets||!1,h=e<0;h&&l&&(e*=-1);var d,u=e.toString(),f=Math.pow(10,o),u=(Math.round(e*f)/f).toString();if(isNaN(u)&&(u=""),d=u.lastIndexOf("."),0<o)for(d<0?d=(u+=i).length-1:"."!==i&&(u=u.replace(".",i));u.length-1-d<o;)u+="0";d=-1<(d=u.lastIndexOf(i))?d:u.length;for(var c=u.substring(d),g=0,p=d;0<p;p--,g++)g%3==0&&p!==d&&(!h||1<p||h&&l)&&(c=r+c),c=u.charAt(p-1)+c;return u=c,h&&l&&(u="("+u+")"),a+u+n},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],r=e[t+1],s=e[t+2],a=e[t+3],n=e[t+4],o=e[t+5],l=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-r,2)),h=l+Math.sqrt(Math.pow(n-s,2)+Math.pow(o-a,2));0==h&&(h=1);var d=.4*l/h,u=.4-d;return[s+d*(i-n),a+d*(r-o),s-u*(i-n),a-u*(r-o)]},_getBezierPoints:function(e){for(var t="",i=[],r=[],s=e.split(" "),a=0;a<s.length;a++){var n=s[a].split(",");i.push(parseFloat(n[0])),i.push(parseFloat(n[1])),isNaN(i[i.length-1])||isNaN(i[i.length-2])}var o=i.length;if(o<=1)return"";if(2==o)return t="M"+ge.jqx._ptrnd(i[0])+","+ge.jqx._ptrnd(i[1])+" L"+ge.jqx._ptrnd(i[0]+1)+","+ge.jqx._ptrnd(i[1]+1)+" ";for(a=0;a<o-4;a+=2)r=r.concat(this._calculateControlPoints(i,a));for(a=2;a<o-5;a+=2)t+=" C"+ge.jqx._ptrnd(r[2*a-2])+","+ge.jqx._ptrnd(r[2*a-1])+" "+ge.jqx._ptrnd(r[2*a])+","+ge.jqx._ptrnd(r[2*a+1])+" "+ge.jqx._ptrnd(i[a+2])+","+ge.jqx._ptrnd(i[a+3])+" ";return t=o<=4||Math.abs(i[0]-i[2])<3||Math.abs(i[1]-i[3])<3||this._isVML?"M"+ge.jqx._ptrnd(i[0])+","+ge.jqx._ptrnd(i[1])+" L"+ge.jqx._ptrnd(i[2])+","+ge.jqx._ptrnd(i[3])+" "+t:"M"+ge.jqx._ptrnd(i[0])+","+ge.jqx._ptrnd(i[1])+" Q"+ge.jqx._ptrnd(r[0])+","+ge.jqx._ptrnd(r[1])+" "+ge.jqx._ptrnd(i[2])+","+ge.jqx._ptrnd(i[3])+" "+t,4<=o&&(Math.abs(i[o-2]-i[o-4])<3||Math.abs(i[o-1]-i[o-3])<3||this._isVML)?t+=" L"+ge.jqx._ptrnd(i[o-2])+","+ge.jqx._ptrnd(i[o-1])+" ":5<=o&&(t+=" Q"+ge.jqx._ptrnd(r[2*o-10])+","+ge.jqx._ptrnd(r[2*o-9])+" "+ge.jqx._ptrnd(i[o-2])+","+ge.jqx._ptrnd(i[o-1])+" "),t},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,r,s,a,n){r<0&&(r=0),null==n&&(n="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:r,fn:s,context:a,easing:n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){var e;this._animtimer||((e=this)._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt))},_runAnimation:function(e){if(this._animGroups){var t=(new Date).getTime(),i={};for(var r in this._animGroups){for(var s=this._animGroups[r].animations,a=this._animGroups[r].startTick,n=0,o=0;o<s.length;o++){var l=s[o],h=t-a;l.duration>n&&(n=l.duration);var d=0<l.duration?h/l.duration:1,u=d;if(l.easing&&0!=l.duration&&(u=ge.easing[l.easing](d,h,0,1,l.duration)),1<d&&(u=d=1),l.fn)l.fn(l.key,l.context,u);else{for(var f={},r=0;r<l.properties.length;r++){var c=l.properties[r],g=0,g=1==d?c.to:u*(c.to-c.from)+c.from;f[c.key]=g}this.renderer.attr(l.key,f)}}t<a+n&&(i[r]={startTick:a,animations:s})}this._animGroups=i,this.renderer instanceof ge.jqx.HTML5Renderer&&this.renderer.refresh()}for(var r in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;var i=e.x;e.x=e.y,e.y=i+this._plotRect.y-this._plotRect.x;i=e.width;return e.width=e.height,e.height=i,e},getItemCoord:function(e,t,i){var r=this;if(r._isPieGroup(e)&&(!r._isSerieVisible(e,t,i)||!r._renderData||r._renderData.length<=e))return{x:NaN,y:NaN};if(!r._isSerieVisible(e,t)||!r._renderData||r._renderData.length<=e)return{x:NaN,y:NaN};var s,a,n,o,l,h=r.seriesGroups[e],d=h.series[t],u=r._getItemCoord(e,t,i);if(r._isPieGroup(e)){if(isNaN(u.x)||isNaN(u.y)||isNaN(u.fromAngle)||isNaN(u.toAngle))return{x:NaN,y:NaN};var f,c=this._plotRect,g=u.fromAngle*(Math.PI/180),p=u.toAngle*(Math.PI/180),x=c.x+u.center.x+Math.cos(g)*u.outerRadius,m=c.x+u.center.x+Math.cos(p)*u.outerRadius,_=c.y+u.center.y-Math.sin(g)*u.outerRadius,y=c.y+u.center.y-Math.sin(p)*u.outerRadius,v=Math.min(x,m),b=Math.abs(m-x);return u={x:v,y:f=Math.min(_,y),width:b,height:Math.abs(y-_),center:u.center,centerOffset:u.centerOffset,innerRadius:u.innerRadius,outerRadius:u.outerRadius,selectedRadiusChange:u.selectedRadiusChange,fromAngle:u.fromAngle,toAngle:u.toAngle}}return-1!=h.type.indexOf("column")||-1!=h.type.indexOf("waterfall")?(s=this._getColumnSerieWidthAndOffset(e,t),u.height=Math.abs(u.y.to-u.y.from),u.y=Math.min(u.y.to,u.y.from),u.x+=s.offset,u.width=s.width):-1!=h.type.indexOf("ohlc")||-1!=h.type.indexOf("candlestick")?(s=this._getColumnSerieWidthAndOffset(e,t),f=u.y,a=Math.min(f.Open,f.Close,f.Low,f.High),n=Math.max(f.Open,f.Close,f.Low,f.High),u.height=Math.abs(n-a),u.y=a,u.x+=s.offset,u.width=s.width):-1!=h.type.indexOf("line")||-1!=h.type.indexOf("area")?(u.width=u.height=0,u.y=u.y.to):-1==h.type.indexOf("bubble")&&-1==h.type.indexOf("scatter")||(u.center={x:u.x,y:u.y.to},o=u.y.radius,"circle"!=d.symbolType&&null!=d.symbolType&&(o/=2),u.y=u.y.to,u.radius=o,u.width=2*o,u.height=2*o),u=this._fixCoords(u,e),(h.polar||h.spider)&&(l=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,u.x,u.y),u.x=l.x,u.y=l.y,u.center&&(u.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,u.center.x,u.center.y))),-1==h.type.indexOf("bubble")&&-1==h.type.indexOf("scatter")||(u.x-=o,u.y-=o),u},_getItemCoord:function(e,t,i){var r=this.seriesGroups[e];if(!r||!this._renderData)return{x:NaN,y:NaN};if(!r.series[t])return{x:NaN,y:NaN};var s=this._plotRect;if(this._isPieGroup(e)){var a=this._renderData[e].offsets[t][i];if(!a)return{x:NaN,y:NaN};var n,o,l=(a.fromAngle+a.toAngle)/2*(Math.PI/180);return{x:n=s.x+a.x+Math.cos(l)*a.outerRadius,y:o=s.y+a.y-Math.sin(l)*a.outerRadius,center:{x:a.x,y:a.y},centerOffset:a.centerOffset,innerRadius:a.innerRadius,outerRadius:a.outerRadius,selectedRadiusChange:a.selectedRadiusChange,fromAngle:a.fromAngle,toAngle:a.toAngle}}if(n=s.x+this._renderData[e].xoffsets.data[i],o=this._renderData[e].offsets[t][i],isNaN(n)||!o)return{x:NaN,y:NaN};var h={};for(var d in o)h[d]=o[d];return{x:n,y:h}},getXAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var r=this._getXAxis(t),s=this._plotRect,a=0,n=NaN,o=this._renderData[0].xoffsets.axisStats,l=0,h=0;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var d=this._getPolarAxisCoords(t,s);if(ge.jqx._ptdist(e.x,e.y,d.x,d.y)>d.r)return NaN;var u=Math.atan2(d.y-e.y,e.x-d.x);(u=Math.PI/2-u)<0&&(u=2*Math.PI+u),n=u*d.r;var f=d.startAngle+Math.PI/2,c=d.endAngle+Math.PI/2,l=f*d.r,h=c*d.r,a=(c-f)*d.r,g=this._getPaddingSize(o,r,r.valuesOnTicks,a,!0,d.isClosedCircle,this._hasColumnSeries());d.isClosedCircle?(a-=g.left+g.right,h-=g.left+g.right):r.valuesOnTicks||(l+=g.left,h-=g.right)}else{if("horizontal"!=i.orientation){if(e<s.x||e>s.x+s.width)return NaN;n=e-s.x,a=s.width}else{if(e<s.y||e>s.y+s.height)return NaN;n=e-s.y,a=s.height}this._renderData[t]&&this._renderData[t].xoffsets&&(a-=(g=this._renderData[t].xoffsets.padding).left+g.right,n-=g.left),h=a}return this._jqxPlot.scale(n,{min:l,max:h},{min:o.min.valueOf(),max:o.max.valueOf(),type:o.logAxis.enabled?"logarithmic":"linear",base:o.logAxis.base,flip:r.flip})}},getValueAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var r=this._getValueAxis(t),s=this._plotRect,a=0,n=NaN;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var o=this._getPolarAxisCoords(t,s),n=ge.jqx._ptdist(e.x,e.y,o.x,o.y);n=(a=o.r)-n}else if("horizontal"==i.orientation){if(e<s.x||e>s.x+s.width)return NaN;n=e-s.x,a=s.width}else{if(e<s.y||e>s.y+s.height)return NaN;n=e-s.y,a=s.height}var l=this._stats.seriesGroups[t];return this._jqxPlot.scale(n,{min:0,max:a},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logarithmic?"logarithmic":"linear",base:l.logBase,flip:!r.flip})}},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};t&&(i=ge.extend({},i,t));var r=[];for(var s in ge.isArray(e)?r=e:r.push(e),i)i[s]={format:i[s],count:0};for(var a=0;a<r.length;a++){var n=r[a];if(null!=n&&null!=n)for(var s in i){null!=ge.jqx.dataFormat.parsedate(n,i[s].format)&&i[s].count++}}var o={key:void 0,count:0};for(var s in i)i[s].count>o.count&&(o.key=s,o.count=i[s].count);return o.key?i[o.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),r=t._getDataLen(e),s={};if(t.localization&&t.localization.patterns)for(var a in t.localization.patterns)s["local_"+a]=t.localization.patterns[a];for(var n=[],o=0;o<r&&o<10;o++){var l=t._getDataValue(o,i.dataField,e);null!=l&&null!=l&&n.push(l)}return t._detectDateFormat(n,s)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var r=this._renderData;return i&&r&&!(r.length<=e)&&i.series[t]?r[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].xAxis))return t;var r=this.seriesGroups[e];if(r.polar||r.spider){for(var s=0;s<i.polarLabels.length;s++){var a=i.polarLabels[s];t.push({offset:{x:a.x,y:a.y},value:a.value})}return t}for(var n=this._getXAxis(e),o=this.getXAxisRect(e),l="top"==n.position||"right"==n.position,h="horizontal"==r.orientation,s=0;s<i.data.length;s++)h?t.push({offset:{x:o.x+(l?0:o.width),y:o.y+i.data.data[s]},value:i.data.xvalues[s]}):t.push({offset:{x:o.x+i.data.data[s],y:o.y+(l?o.height:0)},value:i.data.xvalues[s]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].valueAxis))return t;var r=this._getValueAxis(e),s="top"==r.position||"right"==r.position,a=this.seriesGroups[e],n="horizontal"==a.orientation;if(a.polar||a.spider){for(var o=0;o<i.polarLabels.length;o++){var l=i.polarLabels[o];t.push({offset:{x:l.x,y:l.y},value:l.value})}return t}for(o=0;o<i.items.length;o++)n?t.push({offset:{x:i.itemOffsets[i.items[o]].x+i.itemWidth/2,y:i.rect.y+(s?i.rect.height:0)},value:i.items[o]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[o]].y+i.itemWidth/2},value:i.items[o]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,r,s){var a=this.getItemCoord(e,t,i);isNaN(a.x)||isNaN(a.y)||this._startTooltipTimer(e,t,i,a.x,a.y,r,s)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),function(w){w.extend(w.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(e,t){var i=this;i._isTouchDevice=w.jqx.mobile.isTouchDevice();var r=i.seriesGroups[e],s=i._getXAxis(e),a=s?s.rangeSelector:void 0;if(i._isSelectorRefresh||(a&&a.renderTo?a.renderTo:i.host).find(".rangeSelector").remove(),!s||0==s.visible||"spider"==r.type)return!1;if(!i._isGroupVisible(e))return!1;if(!a)return!1;var n="horizontal"==r.orientation;a.renderTo&&(n=!1),i.rtl&&(s.flip=!0);var o=n?this.host.height():this.host.width();o-=4;var l,h,d,u,f=this._getXAxisStats(e,s,o),c=s.position;return a.renderTo&&a.position&&(c=a.position),this._isSelectorRefresh||(l=a.renderTo,h=w("<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>").appendTo(l||this.renderer.getContainer()),l?(h.css({width:l.width(),height:l.height()}),t.width=l.width(),t.height=l.height()):((d=this.host.coord()).top=0,d.left=0,u=this._selectorGetSize(s),n?(h.css("left",d.left+1+t.x+("right"!=c?-u:t.width)),h.css("top",d.top),h.css("height",o),h.css("width",u),t.height=u):(h.css("left",d.left+1),h.css("top",d.top+t.y+("top"!=c?t.height:-u)),h.css("height",u),h.css("width",o))),this._refreshSelector(e,s,f,h,t,n)),!(this._isSelectorRefresh=!1)},_refreshSelector:function(e,t,i,r,s,a){var n={},o=t.rangeSelector;this.seriesGroups[e];for(var l in o)n[l]=o[l];delete n.padding;var h=n.minValue,d=n.maxValue;null==h&&(h=Math.min(i.min.valueOf(),i.dsRange.min.valueOf())),null==d&&(d=Math.max(i.max.valueOf(),i.dsRange.max.valueOf())),this._isDate(i.min)&&(h=new Date(h)),this._isDate(i.max)&&(d=new Date(d));var u=t.position;o.renderTo&&o.position&&(u=o.position),n.dataField=t.dataField,delete n.rangeSelector,n.type=t.type,n.baseUnit=o.baseUnit||t.baseUnit,n.minValue=h,n.maxValue=d,n.flip=t.flip,n.position=u;var f=2,c=2,g=2,p=2;o.renderTo||(f=a?0:s.x,c=a?0:this._rect.width-s.x-s.width,g=a?s.y:5,p=a?this._paddedRect.height-this._plotRect.height:5);for(var x=null!=(x=o.padding)||o.renderTo?{left:x&&x.left?x.left:f,top:x&&x.top?x.top:g,right:x&&x.right?x.right:c,bottom:x&&x.bottom?x.bottom:p}:{left:f,top:g,right:c,bottom:p},m=t.rangeSelector.dataField,l=0;null==m&&l<this.seriesGroups.length;l++)for(var _=0;null==m&&_<this.seriesGroups[l].series.length;_++)m=this.seriesGroups[l].series[_].dataField;var y={padding:x,_isRangeSelectorInstance:!0,title:o.title||"",description:o.description||"",titlePadding:o.titlePadding,colorScheme:o.colorScheme||this.colorScheme,backgroundColor:o.backgroundColor||this.backgroundColor||"transparent",backgroundImage:o.backgroundImage||"",showBorderLine:o.showBorderLine||!!o.renderTo,borderLineWidth:o.borderLineWidth||this.borderLineWidth,borderLineColor:o.borderLineColor||this.borderLineColor,rtl:o.rtl||this.rtl,greyScale:o.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:n,seriesGroups:[{orientation:a?"horizontal":"vertical",valueAxis:{visible:!1},type:t.rangeSelector.serieType||"area",skipOverlappingPoints:w.jqx.getByPriority([t.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:w.jqx.getByPriority([t.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:w.jqx.getByPriority([t.rangeSelector.columnsGapPercent,25]),seriesGapPercent:w.jqx.getByPriority([t.rangeSelector.seriesGapPercent,25]),series:[{dataField:m,opacity:.8,lineWidth:1}]}]};t.rangeSelector.seriesGroups&&(y.seriesGroups=t.rangeSelector.seriesGroups),t.rangeSelector.valueAxis&&(y.valueAxis=t.rangeSelector.valueAxis),y.showBorderLine||(y.borderLineWidth=1,y.borderLineColor=w.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),y.showBorderLine=!0);var v=this;v._supressBindingRefresh=!0,r.empty(),r.jqxChart(y),v._rangeSelectorInstances[e]=r,v._supressBindingRefresh=!1,r.on(v._getEvent("mousemove"),function(){v._unselect(),v._hideToolTip()});var b,M,N=r.jqxChart("getInstance");N._plotRect&&((b=N._paddedRect).height=N._plotRect.height,a||"top"!=u?a&&(M=N._renderData[0].xAxis.rect.width,b.width-=M,"right"!=u&&(b.x+=M)):b.y+=N._renderData[0].xAxis.rect.height,v._createSliderElements(e,r,b,o),v.removeHandler(w(document),v._getEvent("mousemove")+"."+this.element.id,v._onSliderMouseMove),v.removeHandler(w(document),v._getEvent("mousedown"),v._onSliderMouseDown),v.removeHandler(w(document),v._getEvent("mouseup")+"."+this.element.id,v._onSliderMouseUp),v.addHandler(w(document),v._getEvent("mousemove")+"."+this.element.id,v._onSliderMouseMove,{self:this,groupIndex:e,renderTo:r,swapXY:a}),v.addHandler(w(r),v._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:e,renderTo:r,swapXY:a}),v.addHandler(w(document),v._getEvent("mouseup")+"."+this.element.id,v._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:e,renderTo:r,swapXY:a}))},_createSliderElements:function(e,t,i,r){t.find(".slider").remove();var s=r.selectedRangeColor||"blue",a=w.jqx.getByPriority([r.selectedRangeOpacity,.1]),n=w.jqx.getByPriority([r.unselectedRangeOpacity,.5]),o=r.unselectedRangeColor||"white",l=r.rangeLineColor||"grey",h=w("<div class='slider' style='position: absolute;'></div>");for(h.css({background:s,opacity:a,left:i.x,top:i.y,width:i.width,height:i.height}),h.appendTo(t);this._sliders.length<e+1;)this._sliders.push({});var d="<div class='slider' style='position: absolute;  background: "+o+"; opacity: "+n+";'></div>",u="<div class='slider' style='position: absolute; background:"+l+"; opacity: "+n+";'></div>",f="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+l+";'></div>";this._sliders[e]={element:h,host:t,_sliderInitialAbsoluteRect:{x:h.coord().left,y:h.coord().top,width:i.width,height:i.height},_hostInitialAbsolutePos:{x:t.coord().left,y:t.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:i,left:w(d),right:w(d),leftTop:w(u),rightTop:w(u),leftBorder:w(u),leftBar:w(f),rightBorder:w(u),rightBar:w(f)},this._sliders[e].left.appendTo(t),this._sliders[e].right.appendTo(t),this._sliders[e].leftTop.appendTo(t),this._sliders[e].rightTop.appendTo(t),this._sliders[e].leftBorder.appendTo(t),this._sliders[e].rightBorder.appendTo(t),this._sliders[e].leftBar.appendTo(t),this._sliders[e].rightBar.appendTo(t);var c,g=this._renderData[e].xAxis.data.axisStats,p=g.min.valueOf(),x=g.max.valueOf(),m=this._valueToOffset(e,p),_=this._valueToOffset(e,x);_<m&&(c=_,_=m,m=c),"horizontal"!=this.seriesGroups[e].orientation?h.css({left:Math.round(i.x+m),top:i.y,width:Math.round(_-m),height:i.height}):h.css({top:Math.round(i.y+m),left:i.x,height:Math.round(_-m),width:i.width}),this._setSliderPositions(e,m,_)},_setSliderPositions:function(e,t,i){var r=this.seriesGroups[e],s=this._getXAxis(e),a=s.rangeSelector,n="horizontal"==r.orientation;s.rangeSelector.renderTo&&(n=!1);var o=s.position;a.renderTo&&a.position&&(o=a.position);var l=this._sliders[e],h=n?"top":"left",d=n?"left":"top",u=n?"height":"width",f=n?"width":"height",c=n?"y":"x",g=n?"x":"y",p=l.rect;l.startOffset=t,l.endOffset=i,l.left.css(h,p[c]),l.left.css(d,p[g]),l.left.css(u,t),l.left.css(f,p[f]),l.right.css(h,p[c]+i),l.right.css(d,p[g]),l.right.css(u,p[u]-i+1),l.right.css(f,p[f]),l.leftTop.css(h,p[c]),l.leftTop.css(d,p[g]+(n&&"right"==o||!n&&"top"!=o?0:p[f])),l.leftTop.css(u,t),l.leftTop.css(f,1),l.rightTop.css(h,p[c]+i),l.rightTop.css(d,p[g]+(n&&"right"==o||!n&&"top"!=o?0:p[f])),l.rightTop.css(u,p[u]-i+1),l.rightTop.css(f,1),l.leftBorder.css(h,p[c]+t),l.leftBorder.css(d,p[g]),l.leftBorder.css(u,1),l.leftBorder.css(f,p[f]);var x=p[f]/4;20<x&&(x=20),x<3&&(x=3),l.leftBar.css(h,p[c]+t-3),l.leftBar.css(d,p[g]+p[f]/2-x/2),l.leftBar.css(u,5),l.leftBar.css(f,x),l.rightBorder.css(h,p[c]+i),l.rightBorder.css(d,p[g]),l.rightBorder.css(u,1),l.rightBorder.css(f,p[f]),l.rightBar.css(h,p[c]+i-3),l.rightBar.css(d,p[g]+p[f]/2-x/2),l.rightBar.css(u,5),l.rightBar.css(f,x)},_resizeState:{},_onSliderMouseDown:function(e){e.stopImmediatePropagation(),e.stopPropagation();var t=e.data.self;t._sliders[e.data.groupIndex]&&(null==t._resizeState.state&&t._testAndSetReadyResize(e),"ready"==t._resizeState.state&&((w.jqx._rangeSelectorTarget=t)._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],r=this._sliders[e],s=r.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,a=s.min.valueOf(),n=s.max.valueOf()-a;0==n&&(n=1);var o=this._getXAxis(e),l="horizontal"==i.orientation?"height":"width",h=(t.valueOf()-a)/n;return r.getRect()[l]*(o.flip?1-h:h)},_offsetToValue:function(e,t){var i=this._sliders[e],r=this.seriesGroups[e],s=this._getXAxis(e),a="horizontal"==r.orientation?"height":"width",n=i.getRect()[a];0==n&&(n=1);var o=i.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,l=o.min.valueOf(),h=o.max.valueOf(),d=t/n*(h-l)+l;return 1==s.flip&&(d=h-t/n*(h-l)),this._isDate(o.min)||this._isDate(o.max)?d=new Date(d):(null!=s.dataField&&!o.useIndeces||(d=Math.round(d)),d<o.min&&(d=o.min),d>o.max&&(d=o.max)),d},_onSliderMouseUp:function(e){var t=w.jqx._rangeSelectorTarget;if(t){var i=e.data.groupIndex,r=e.data.swapXY,s=t._sliders[i];if(s&&"resizing"==t._resizeState.state){e.stopImmediatePropagation(),e.stopPropagation(),t._resizeState={},t.host.css("cursor","default");var a=r?"top":"left",n=r?"y":"x",o=s.element.coord()[a],l=o+(r?s.element.height():s.element.width()),h=s.getRect(),d=t._offsetToValue(i,o-h[n]),u=t._offsetToValue(i,l-h[n]);!s.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats.isTimeUnit&&864e5<u.valueOf()-d.valueOf()&&(d.setHours(0,0,0,0),u.setDate(u.getDate()+1),u.setHours(0,0,0,0));var f,c=t._getXAxis(i);c.flip&&(f=d,d=u,u=f);for(var g=0;g<t.seriesGroups.length;g++){t._getXAxis(g)==c&&(t._selectorRange[g]={min:d,max:u})}t._isSelectorRefresh=!0;var p=t.enableAnimations;t._raiseEvent("rangeSelectionChanging",{instance:t,minValue:d,maxValue:u}),t.enableAnimations=!1,t.update(),t.enableAnimations=p,t._raiseEvent("rangeSelectionChanged",{instance:t,minValue:d,maxValue:u})}}},_onSliderMouseMove:function(e){var t,i,r,s,a,n,o,l,h,d,u,f,c,g,p=e.data.self,x=(e.data.renderTo,e.data.groupIndex),m=p._sliders[x],_=e.data.swapXY;m&&(t=m.getRect(),i=m.element,r=w.jqx.position(e),s=i.coord(),a=_?"top":"left",n=_?"height":"width",o=_?"y":"x","resizing"==p._resizeState.state?(e.stopImmediatePropagation(),e.stopPropagation(),"left"==p._resizeState.side?(f=Math.round(r[a]-s[a]),l=t[o],s[a]+f>=l&&s[a]+f<=l+t[n]&&(u=parseInt(i.css(a)),h=Math.max(2,(_?i.height():i.width())-f),i.css(n,h),i.css(a,u+f))):"right"==p._resizeState.side?(d=_?i.height():i.width(),f=Math.round(r[a]-s[a]-d),l=t[o],s[a]+d+f>=l&&s[a]+f+d<=l+t[n]&&(h=Math.max(2,d+f),i.css(n,h))):"move"==p._resizeState.side&&(d=_?i.height():i.width(),u=parseInt(i.css(a)),f=Math.round(r[a]-p._resizeState.startPos),s[a]+f>=t[o]&&s[a]+f+d<=t[o]+t[n]&&(p._resizeState.startPos=r[a],i.css(a,u+f))),g=(c=parseInt(i.css(a))-m.rect[o])+(_?i.height():i.width()),p._setSliderPositions(x,c,g)):p._testAndSetReadyResize(e))},_testAndSetReadyResize:function(e){var t=e.data.self,i=e.data.renderTo,r=e.data.groupIndex,s=t._sliders[r],a=e.data.swapXY,n=s.getRect(),o=s.element,l=w.jqx.position(e),h=o.coord(),d=a?"left":"top",u=a?"top":"left",f=a?"width":"height",c=t._isTouchDevice?30:5;l[d]>=h[d]&&l[d]<=h[d]+n[f]?Math.abs(l[u]-h[u])<=c?(i.css("cursor",a?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"left"}):Math.abs(l[u]-h[u]-(a?o.height():o.width()))<=c?(i.css("cursor",a?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"right"}):l[u]+c>h[u]&&l[u]-c<h[u]+(a?o.height():o.width())?(i.css("cursor","pointer"),t._resizeState={state:"ready",side:"move",startPos:l[u]}):(i.css("cursor","default"),t._resizeState={}):(i.css("cursor","default"),t._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var r=this.seriesGroups[e],s=this.renderer;if(!isNaN(e)){var a,n,o=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),l=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),h=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),d=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if((r.polar||r.spider)&&(l=!(a=this.getPolarDataPointOffset(t.xValue,t.yValue,e))||isNaN(a.x)||isNaN(a.y)?(o=t.x,t.y):(o=a.x,a.y)),isNaN(l)||isNaN(o))return!1;"horizontal"==r.orientation&&(n=o,o=l,l=n,n=h,h=d,d=n),t.offset&&(isNaN(t.offset.x)||(o+=t.offset.x,h+=t.offset.x),isNaN(t.offset.y)||(l+=t.offset.y,d+=t.offset.y));var u,f,c,g,p,x=this._get([t.width,h-o]),m=this._get([t.height,d-l]);switch(t.type){case"rect":u=s.rect(o,l,x,m);break;case"circle":u=s.rect(o,l,t.radius);break;case"line":u=s.rect(o,l,h,d);break;case"path":u=s.path(t.path)}s.attr(u,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"}),t.text&&(p=g=0,(c=t.text).offset&&(isNaN(c.offset.x)||(g+=c.offset.x),isNaN(c.offset.y)||(p+=c.offset.y)),f=s.text(c.value,o+g,l+p,NaN,NaN,c.angle,{},!0===c.clip,c.horizontalAlignment||"center",c.verticalAlignment||"center",c.rotationPoint||"centermiddle"),s.attr(f,{fill:c.fillColor,stroke:c.lineColor,class:c.class}));for(var _=["click","mouseenter","mouseleave"],y=this,v=0;v<_.length;v++){var b=this._getEvent(_[v])||_[v];u&&this.renderer.addHandler(u,b,function(){y._raiseAnnotationEvent(t,b)}),f&&this.renderer.addHandler(f,b,function(){y._raiseAnnotationEvent(t,b)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],r=0;r<i.series.length;r++){if(void 0!==i.series[r].summary)if(void 0!==this._getDataValue(t,i.series[r].summary,e))return!0}return!1},_applyWaterfall:function(e,t,i,r,s,a,n,o,l){var h=this.seriesGroups[i];if(0==e.length)return e;for(var d=r,u={},f=[],c=void 0,g=[],p=0;p<h.series.length;p++)g.push(this._isSerieVisible(i,p));for(var x={},m=0;m<t;m++)for(var _,y,v,b,M=r,N=0,w=this._isSummary(i,m),p=0;p<e.length;p++){g[p]&&(_=0,w?(_=M==r?s:0,e[p][m].value=u[p],e[p][m].summary=!0,c=e[p][m].value<_,o&&(c=!c),b=0,b=isNaN(a)?this._getDataPointOffsetDiff(e[p][m].value,_,_,NaN,n,r,o):this._getDataPointOffsetDiff(e[p][m].value+N,0==N?s:N,_||s,a,n,r,o),e[p][m].to=M+(c?b:-b),e[p][m].from=M,l&&(N+=e[p][m].value,M=e[p][m].to)):(y=l?-1:p,isNaN(e[p][m].value)||(void 0===x[y]&&(_=s,x[y]=!0),c=e[p][m].value<_,o&&(c=!c),b=v=NaN,v=l?d:0==m?r:e[p][f[p]].to,b=0,b=isNaN(a)?this._getDataPointOffsetDiff(e[p][m].value,_,_,NaN,n,r,o):this._getDataPointOffsetDiff(e[p][m].value+(isNaN(u[y])?0:u[y]),isNaN(u[y])?s:u[y],_||s,a,n,v,o),e[p][m].to=d=v+(c?b:-b),e[p][m].from=v,isNaN(u[y])?u[y]=e[p][m].value:u[y]+=e[p][m].value,-1==y&&(isNaN(u[p])?u[p]=e[p][m].value:u[p]+=e[p][m].value),l||(f[p]=m))))}return e}})}(jqxBaseFramework);