!function(C){C.jqx.jqxWidget("jqxTree","",{}),C.extend(C.jqx._jqxTree.prototype,{defineInstance:function(){var e={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,itemsMember:"",displayMember:"",valueMember:"",enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:16,toggleIndicatorSize:18,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart","itemClick"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===C.jqx._jqxTree.prototype||C.extend(!0,this,e),e},createInstance:function(e){var t,i,n=this;this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(e,t,i,s){n.disabled?n.host.addClass(n.toThemeProperty("jqx-tree-disabled")):n.host.removeClass(n.toThemeProperty("jqx-tree-disabled")),C.jqx.aria(n,"aria-disabled",s)},(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),C.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&window.jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL")&&0<(i=this.host.find("ul:first")).length&&(this.createTree(i[0]),this.createdTree=!0),null!=this.source&&(t=this.loadItems(this.source),this.element.innerHTML=t,0<(i=this.host.find("ul:first")).length&&(this.createTree(i[0]),this.createdTree=!0)),this._itemslength=this.items.length,this.createdTree||0==this.host.find("ul").length&&(this.host.append(C("<ul></ul>")),0<(i=this.host.find("ul:first")).length&&(this.createTree(i[0]),this.createdTree=!0),this.createdTree=!0),1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(e,t){var i,s,n,l,r=this;null!=e?(i=0,s=(l=C(e.element).find("li")).length,C.each(l,function(e){var t=r.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&0,i++)}),e!=t?i==s?this.checkItem(e.element,!0,"tree"):0<i?this.checkItem(e.element,null,"tree"):this.checkItem(e.element,!1,"tree"):(n=t.checked,l=C(t.element).find("li"),C.each(l,function(){r.itemMapping["id"+this.id].item;r.checkItem(this,n,"tree")})),this.checkItems(this._parentItem(e),t)):(n=t.checked,l=C(t.element).find("li"),C.each(l,function(){r.itemMapping["id"+this.id].item;r.checkItem(this,n,"tree")}))},_getMatches:function(i,e){if(null==i||0==i.length)return-1;for(var t=this.items,s=new Array,n=0;n<t.length;n++)this._isVisible(t[n])&&!t[n].disabled&&s.push(t[n]);t=s,null!=e&&(t=t.slice(e));var l=new Array;return C.each(t,function(e){var t=(t=this.label)||"";C.jqx.string.startsWithIgnoreCase(t.toString(),i)&&l.push({id:this.id,element:this.element})}),l},_handleKeys:function(){var f=this;this.addHandler(this.host,"keydown",function(e){var t=e.keyCode;if((f.keyboardNavigation||f.enableKeyboardNavigation)&&null!=f.selectedItem){var i,s=f.selectedItem.element;if(f.incrementalSearch&&!(33<=t&&t<=40)){f._searchString||(f._searchString=""),(8==t||46==t)&&1<=f._searchString.length&&(f._searchString=f._searchString.substr(0,f._searchString.length-1));var n=String.fromCharCode(t),l=!isNaN(parseInt(n));if(65<=t&&t<=97||l||8==t||32==t||46==t){e.shiftKey||(n=n.toLocaleLowerCase()),8!=t&&32!=t&&46!=t&&(0<f._searchString.length&&f._searchString.substr(0,1)==n||(f._searchString+=n)),32==t&&(f._searchString+=" "),f._searchTime=new Date;var r=f.selectedItem;if(r){for(var a=r.id,h=-1,o=0;o<f.items.length;o++)if(f.items[o].id==a){h=o+1;break}(0==(d=f._getMatches(f._searchString,h)).length||0<d.length&&d[0].id==a)&&(d=f._getMatches(f._searchString))}else var d=f._getMatches(f._searchString);0<d.length&&(r=f.selectedItem,f.selectedItem&&f.selectedItem.id!=d[0].id&&(f.clearSelection(),f.selectItem(d[0].element,"keyboard")),f._lastSearchString=f._searchString)}null!=f._searchTimer&&clearTimeout(f._searchTimer),27!=t&&13!=t||(f._searchString="",f._lastSearchString=""),f._searchTimer=setTimeout(function(){f._searchString="",f._lastSearchString=""},500)}switch(t){case 32:if(f.checkboxes){f.fromKey=!0;var m=C(f.selectedItem.checkBoxElement).jqxCheckBox("checked");return f.checkItem(f.selectedItem.element,!m,"tree"),f.hasThreeStates&&f.checkItems(f.selectedItem,f.selectedItem),!1}return!0;case 33:for(var c=f._getItemsOnPage(),u=f.selectedItem,o=0;o<c;o++)u=f._prevVisibleItem(u);return null!=u?(f.selectItem(u.element,"keyboard"),f.ensureVisible(u.element)):(f.selectItem(f._firstItem().element,"keyboard"),f.ensureVisible(f._firstItem().element)),!1;case 34:for(var c=f._getItemsOnPage(),p=f.selectedItem,o=0;o<c;o++)p=f._nextVisibleItem(p);return null!=p?(f.selectItem(p.element,"keyboard"),f.ensureVisible(p.element)):(f.selectItem(f._lastItem().element,"keyboard"),f.ensureVisible(f._lastItem().element)),!1;case 37:case 39:return(37==t&&!f.rtl||39==t&&f.rtl)&&(f.selectedItem.hasItems&&f.selectedItem.isExpanded?f.collapseItem(s):null!=(i=f._parentItem(f.selectedItem))&&(f.selectItem(i.element,"keyboard"),f.ensureVisible(i.element))),(39==t&&!f.rtl||37==t&&f.rtl)&&f.selectedItem.hasItems&&(f.selectedItem.isExpanded?null!=(p=f._nextVisibleItem(f.selectedItem))&&(f.selectItem(p.element,"keyboard"),f.ensureVisible(p.element)):f.expandItem(s)),!1;case 13:return f.selectedItem.hasItems&&(f.selectedItem.isExpanded?f.collapseItem(s):f.expandItem(s)),!1;case 36:return f.selectItem(f._firstItem().element,"keyboard"),f.ensureVisible(f._firstItem().element),!1;case 35:return f.selectItem(f._lastItem().element,"keyboard"),f.ensureVisible(f._lastItem().element),!1;case 38:return null!=(u=f._prevVisibleItem(f.selectedItem))&&(f.selectItem(u.element,"keyboard"),f.ensureVisible(u.element)),!1;case 40:return null!=(p=f._nextVisibleItem(f.selectedItem))&&(f.selectItem(p.element,"keyboard"),f.ensureVisible(p.element)),!1}}})},_firstItem:function(){for(var e=null,t=this.host.find("ul:first"),i=C(t).find("li"),s=0;s<=i.length-1;s++){var n=i[s],e=this.itemMapping["id"+n.id].item;if(this._isVisible(e))return e}return null},_lastItem:function(){for(var e=null,t=this.host.find("ul:first"),i=C(t).find("li"),s=i.length-1;0<=s;s--){var n=i[s],e=this.itemMapping["id"+n.id].item;if(this._isVisible(e))return e}return null},_parentItem:function(e){if(null==e||null==e)return null;var t=e.parentElement;if(!t)return null;var i=null;return C.each(this.items,function(){if(this.element==t)return i=this,!1}),i},_nextVisibleItem:function(e){if(null==e||null==e)return null;for(var t=e;null!=t;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(e){if(null==e||null==e)return null;for(var t=e;null!=t;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isExpanded)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var e=0,t=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),i=0,s=this._firstItem();if(0<parseInt(C(s.element).height()))for(;i<=t;)i+=parseInt(C(s.element).outerHeight()),e++;return e},_isElementVisible:function(e){return null!=e&&("none"!=C(e).css("display")&&"hidden"!=C(e).css("visibility"))},refresh:function(e){var t;(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),this.panel&&(null!=this.width&&-1!=this.width.toString().indexOf("%")?((t=this).panel.jqxPanel("width","100%"),t.removeHandler(C(window),"resize.jqxtree"+t.element.id),t.addHandler(C(window),"resize.jqxtree"+t.element.id,function(){t._calculateWidth()})):this.panel.jqxPanel("width",this.host.width()),this.panel.jqxPanel("_arrange")),this._calculateWidth(),C.jqx.isHidden(this.host)&&((t=this)._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval(function(){C.jqx.isHidden(t.host)||(clearInterval(t._hiddenTimer),t._calculateWidth())},100)),1!=e&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},loadItems:function(e){if(null!=e){var t=this;this.items=new Array;var i="<ul>";return C.map(e,function(e){if(null==e)return null;i+=t._parseItem(e)}),i+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label,s=e.value;!e.label&&e.html&&(i=e.html),null!=this.displayMember&&""!=this.displayMember&&(i=e[this.displayMember]),null!=this.valueMember&&""!=this.valueMember&&(s=e[this.valueMember]),i="string"==typeof e?e:i||"Item";var n=!1;null!=e.expanded&&e.expanded&&(n=!0);var l=!1;null!=e.locked&&e.locked&&(l=!0);var r=!1;null!=e.selected&&e.selected&&(r=!0);var a=!1;null!=e.disabled&&e.disabled&&(a=!0);var h=!1;null!=e.checked&&e.checked&&(h=!0);var o=e.icon;t+="<li",n&&(t+=' item-expanded="true" '),l&&(t+=' item-locked="true" '),a&&(t+=' item-disabled="true" '),r&&(t+=' item-selected="true" '),e.iconsize&&(t+=' item-iconsize="'+e.iconsize+'" '),null!=o&&null!=o&&(t+=' item-icon="'+o+'" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=s&&(t+=' item-value="'+s+'" '),null!=e.checked&&(t+=' item-checked="'+h+'" ');var d="";return null!=e.id?t+=' id="'+(d=e.id)+'" ':t+=' id="'+(d=this.createID())+'" ',t+=">"+i,e.items?t+=this.loadItems(e.items):null!=this.itemsMember&&""!=this.itemsMember&&e[this.itemsMember]&&(t+=this.loadItems(e[this.itemsMember])),this._valueList||(this._valueList=new Array),this._valueList[d]=e.value,t+="</li>"},ensureVisible:function(e){if(null!=e&&null!=e&&this.panel){var t=this.panel.jqxPanel("getVScrollPosition"),i=this.panel.jqxPanel("getHScrollPosition"),s=parseInt(this.host.height()),n=C(e).find(".jqx-tree-item:first"),l=C(n).position().top;if(0===t&&0===l)return;var r=this.panel.jqxPanel("hScrollBar").outerHeight();(l<=t||s+t<=l)&&this.panel.jqxPanel("scrollTo",i,l-s+C(n).outerHeight()+r)}},_syncItems:function(e){this._visibleItems=new Array;var s=this;C.each(e,function(){var e,t,i=C(this);"none"!=i.css("display")&&(e=i.outerHeight(),0<i.height()&&(t=parseInt(i.offset().top),s._visibleItems[s._visibleItems.length]={element:this,top:t,height:e,bottom:t+e}))})},hitTest:function(i,s){var n,l,r=this,a=null,e=this.host.find(".jqx-item");return this._syncItems(e),r._visibleItems&&(n=parseInt(r.host.offset().left),l=r.host.outerWidth(),C.each(r._visibleItems,function(e){if(n<=i&&i<n+l&&this.top+5<s&&s<this.top+this.height){var t=C(this.element).parents("li:first");if(0<t.length&&null!=(a=r.getItem(t[0])))return a.height=this.height,a.top=this.top,!1}})),a},addBefore:function(e,t,i){return this.addBeforeAfter(e,t,!0,i)},addAfter:function(e,t,i){return this.addBeforeAfter(e,t,!1,i)},addBeforeAfter:function(e,t,i,s){var n=new Array;t&&null!=t.treeInstance&&(t=t.element),C.isArray(e)?n=e:n[0]=e;var l="",r=this;C.each(n,function(){l+=r._parseItem(this)});var a,h=C(l);this.element.innerHTML.indexOf("UL")&&(a=this.host.find("ul:first")),null==t&&null==t?a.append(h):i?C(t).before(h):C(t).after(h);for(var o=h,d=0;d<o.length;d++){this._createItem(o[d]);var m=C(o[d]).find("li");if(0<m.length)for(var c=0;c<m.length;c++)this._createItem(m[c])}function u(e){r._refreshMapping(!1),r._updateItemsNavigation(),e&&r.allowDrag&&r._enableDragDrop&&r._enableDragDrop(),null!=r.selectedItem&&(C(r.selectedItem.titleElement).addClass(r.toThemeProperty("jqx-fill-state-pressed")),C(r.selectedItem.titleElement).addClass(r.toThemeProperty("jqx-tree-item-selected")))}if(0==s)return u(!0),void this._raiseEvent("4",{items:this.getItems()});u(!1),r._render(),this._raiseEvent("4",{items:this.getItems()}),r.checkboxes&&r._updateCheckLayout(null)},addTo:function(e,t,i){var s=this,n=new Array;t&&null!=t.treeInstance&&(t=t.element),C.isArray(e)?n=e:n[0]=e;var l="",r=this;C.each(n,function(){l+=r._parseItem(this)});var a,h,o,d,m,c=C(l);s.element.innerHTML.indexOf("UL")&&(a=s.host.find("ul:first")),null==t&&null==t?a.append(c):0==(h=(t=C(t)).find("ul:first")).length?(o=C("<ul></ul>"),C(t).append(o),h=t.find("ul:first"),(d=s.itemMapping["id"+t[0].id].item).subtreeElement=h[0],d.hasItems=!0,h.addClass(s.toThemeProperty("jqx-tree-dropdown")),r.rtl&&h.addClass(s.toThemeProperty("jqx-tree-dropdown-rtl")),h.append(c),m=h.find("li:first"),d.parentElement=m):h.append(c);for(var u=c,p=0;p<u.length;p++){this._createItem(u[p]);var f=C(u[p]).find("li");if(0<f.length)for(var v=0;v<f.length;v++)this._createItem(f[v])}function g(e){r._refreshMapping(!1),r._updateItemsNavigation(),e&&r.allowDrag&&r._enableDragDrop&&r._enableDragDrop(),null!=r.selectedItem&&(C(r.selectedItem.titleElement).addClass(r.toThemeProperty("jqx-fill-state-pressed")),C(r.selectedItem.titleElement).addClass(r.toThemeProperty("jqx-tree-item-selected")))}if(0==i)return g(!0),void this._raiseEvent("4",{items:this.getItems()});g(!1),r._render(),r.checkboxes&&r._updateCheckLayout(null),this._raiseEvent("4",{items:this.getItems()})},updateItem:function(e,t){var i,s,n,l,r=null!=e.treeInstance?e:this.getItem(e);return r||(i=e,e=t,t=i,r=null!=e.treeInstance?e:this.getItem(e)),!!r&&("string"==typeof t&&(t={label:t}),t.value&&(r.value=t.value),t.label&&(r.label=t.label,C.jqx.utilities.html(C(r.titleElement),t.label),C.jqx.browser.msie&&C.jqx.browser.version<8&&(C(document.body).append(this._measureItem),this._measureItem.html(C(r.titleElement).text()),s=this._measureItem.width(),r.icon&&(s+=20),0<C(C(r.titleElement).find("img")).length&&(s+=20),C(r.titleElement).css("max-width",s+"px"),this._measureItem.remove())),t.icon&&(0<C(r.element).children(".itemicon").length?C(r.element).find(".itemicon")[0].src=t.icon:(n=t.iconsize,l=C('<img width="'+(n=n||16)+'" height="'+n+'" style="float: left;" class="itemicon" src="'+t.icon+'"/>'),C(r.titleElement).prepend(l),l.css("margin-right","6px"),this.rtl&&(l.css("margin-right","0px"),l.css("margin-left","6px"),l.css("float","right")))),t.expanded&&this.expandItem(r),t.disabled&&this.disableItem(r),t.selected&&this.selectItem(r),!0)},removeItem:function(e,t){var i,s;null!=e&&null!=e&&(null!=e.treeInstance&&(e=e.element),i=this,e.id,(s=this.getItem(e))&&-1!=this.items.indexOf(s)&&function e(t){var i;-1!=(i=this.items.indexOf(t))&&this.items.splice(i,1);var s=C(t.element).find("li"),n=s.length,l=this,r=new Array;if(0<n){C.each(s,function(e){var t=l.itemMapping["id"+this.id].item;r.push(t)});for(var a=0;a<r.length;a++)e.apply(this,[r[a]])}}.apply(this,[s]),0<this.host.find("#"+e.id).length&&C(e).remove(),0!=t?(i._updateItemsNavigation(),i.allowDrag&&i._enableDragDrop?i._render(!0,!1):i._render(),null!=i.selectedItem&&i.selectedItem.element==e&&(C(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),C(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=null),this._raiseEvent("5"),i.checkboxes&&i._updateCheckLayout(null)):this._raiseEvent("5"))},clear:function(){this.items=new Array,this.itemMapping=new Array;var e=this.host.find("ul:first");0<e.length&&(e[0].innerHTML=""),this.selectedItem=null},disableItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;C.each(i.items,function(){var e=this;if(e.element==t)return e.disabled=!0,C(e.titleElement).addClass(i.toThemeProperty("jqx-fill-state-disabled")),C(e.titleElement).addClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&e.checkBoxElement&&C(e.checkBoxElement).jqxCheckBox({disabled:!0}),!1})},_updateInputSelection:function(){var e;if(this.input&&(null==this.selectedItem?this.input.val(""):(null==(e=this.selectItem.value)&&(e=this.selectedItem.label),this.input.val(e)),this.checkboxes)){var t=this.getCheckedItems();if(this.submitCheckedItems){for(var i="",s=0;s<t.length;s++){var n=t[s].value;null==n&&(n=t[s].label),s==t.length-1?i+=n:i+=n+","}this.input.val(i)}}},getCheckedItems:function(){var e=new Array;return C.each(this.items,function(){this.checked&&e.push(this)}),e},getUncheckedItems:function(){var e=new Array;return C.each(this.items,function(){this.checked||e.push(this)}),e},checkAll:function(){C.each(this.items,function(){this.disabled||(this.checked=!0,C(this.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){C.each(this.items,function(){this.disabled||(this.checked=!1,C(this.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(t,i,e){if(null==t)return!1;void 0===i&&(i=!0),null!=t.treeInstance&&(t=t.element);var s=!1,n=null;C.each(this.items,function(){var e=this;if(e.element==t&&!e.disabled)return s=!0,e.checked=i,C((n=e).checkBoxElement).jqxCheckBox({checked:i}),!1}),s&&(this._raiseEvent("6",{element:t,checked:i}),this._updateInputSelection()),null==e&&n&&this.hasThreeStates&&this.checkItems(n,n)},uncheckItem:function(e){this.checkItem(e,!1)},enableItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;C.each(i.items,function(){var e=this;if(e.element==t)return e.disabled=!1,C(e.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-disabled")),C(e.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&e.checkBoxElement&&C(e.checkBoxElement).jqxCheckBox({disabled:!1}),!1})},enableAll:function(){var t=this;C.each(t.items,function(){var e=this;e.disabled=!1,C(e.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled")),C(e.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.checkboxes&&e.checkBoxElement&&C(e.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(e){if(null==e)return!1;C.each(this.items,function(){if(this.element==e)return!(this.locked=!0)})},unlockItem:function(e){if(null==e)return!1;C.each(this.items,function(){if(this.element==e)return this.locked=!1})},getItems:function(){return this.items},getItem:function(e){return null!=e&&null!=e&&this.itemMapping["id"+e.id]?this.itemMapping["id"+e.id].item:null},isExpanded:function(e){if(null==e||null==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t.isExpanded},isSelected:function(e){if(null==e||null==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t==this.selectedItem},getPrevItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._prevVisibleItem(t)},getNextItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._nextVisibleItem(t)},getSelectedItem:function(e){return this.selectedItem},val:function(e){if(0==arguments.length||"object"==typeof e)return this.selectedItem;var t,i;"string"==typeof e?0<(t=this.host.find("#"+e)).length&&(i=this.getItem(t[0]),this.selectItem(i)):(i=this.getItem(e),this.selectItem(i))},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(t,e){var i,s;this.disabled||(i=this,t&&null!=t.treeInstance&&(t=t.element),null!=t&&null!=t?null!=this.selectedItem&&this.selectedItem.element==t||((s=null!=this.selectedItem?this.selectedItem.element:null)&&C(s).removeAttr("aria-selected"),C.each(i.items,function(){var e=this;this.selected=!1,e.disabled||e.element==t&&(null==i.selectedItem||null!=i.selectedItem&&i.selectedItem.titleElement!=e.titleElement)&&(null!=i.selectedItem&&(C(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),C(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected"))),C(e.titleElement).addClass(i.toThemeProperty("jqx-fill-state-pressed")),C(e.titleElement).addClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=e,this.selected=!0,C(e.element).attr("aria-selected","true"),C.jqx.aria(i,"aria-activedescendant",e.element.id))}),this._updateInputSelection(),e=e||null,this._raiseEvent("2",{element:t,prevElement:s,type:e})):null!=i.selectedItem&&(C(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),C(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=null))},collapseAll:function(){this.isUpdating=!0;var e=this,t=e.items,i=this.animationHideDuration;this.animationHideDuration=0,C.each(t,function(){1==this.isExpanded&&e._collapseItem(e,this)}),setTimeout(function(){e.isUpdating=!1,e._calculateWidth()},this.animationHideDuration),this.animationHideDuration=i},expandAll:function(){var e=this;this.isUpdating=!0;var t=this.animationShowDuration;this.animationShowDuration=0,C.each(this.items,function(){this.hasItems&&e._expandItem(e,this)}),setTimeout(function(){e.isUpdating=!1,e._calculateWidth()},this.animationShowDuration),this.animationShowDuration=t},collapseItem:function(e){if(null==e)return!1;null!=e.treeInstance&&(e=e.element);var t=this;return C.each(this.items,function(){if(1==this.isExpanded&&this.element==e)return t._collapseItem(t,this),!1}),!0},expandItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;return C.each(i.items,function(){var e=this;0!=e.isExpanded||e.element!=t||e.disabled||e.locked||(i._expandItem(i,e),e.parentElement&&i.expandItem(e.parentElement))}),!0},_getClosedSubtreeOffset:function(e){var t=C(e.subtreeElement),i=-t.outerHeight();t.outerWidth();return{left:0,top:i}},_collapseItem:function(i,s,e,t){if(null==i||null==s)return!1;if(s.disabled)return!1;if(i.disabled)return!1;if(i.locked)return!1;var n=C(s.subtreeElement),l=this._getClosedSubtreeOffset(s);l.top,l.left,C(s.element),i.animationHideDelay;null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);function r(){var e;s.isExpanded=!1,i.checkboxes&&((e=n.find(".chkbox")).stop(),e.css("opacity",1),n.find(".chkbox").animate({opacity:0},50));var t=C(s.arrow);i._arrowStyle(t,"",s.isExpanded),n.slideUp(i.animationHideDuration,function(){s.isCollapsing=!1,i._calculateWidth();var e=C(s.arrow);i._arrowStyle(e,"",s.isExpanded),n.hide(),i._raiseEvent("1",{element:s.element})})}r()},_expandItem:function(t,i){if(null==t||null==i)return!1;if(i.isExpanded)return!1;if(i.locked)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var e=C(i.subtreeElement);null!=e.data("timer")&&null!=e.data("timer").hide&&clearTimeout(e.data("timer").hide);var s,n,l;C(i.element);0!=parseInt(e.css("top"))?(n=C(i.arrow),t._arrowStyle(n,"",i.isExpanded),t.checkboxes&&((s=e.find(".chkbox")).stop(),s.css("opacity",0),s.animate({opacity:1},t.animationShowDuration)),n=C(i.arrow),t._arrowStyle(n,"",!0),e.slideDown(t.animationShowDuration,t.easing,function(){var e=C(i.arrow);i.isExpanded=!0,t._arrowStyle(e,"",i.isExpanded),i.isExpanding=!1,t._raiseEvent("0",{element:i.element}),t._calculateWidth()}),t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement&&(l=C(i.subtreeElement).find("li"),C.each(l,function(){var e=t.getItem(this);null!=e&&t._updateCheckItemLayout(e)})))):i.isExpanded=!0},_calculateWidth:function(){var e,t,i=this,s=this.checkboxes?20:0,n=0;this.isUpdating||(C.each(this.items,function(){var e,t,i;0!=C(this.element).height()&&(e=C(this.titleElement).outerWidth()+10+s+20*(1+this.level),n=Math.max(n,e),this.hasItems&&(t=parseInt(C(this.titleElement).css("padding-top")),isNaN(t)&&(t=0),t*=2,i=((t+=2)+C(this.titleElement).height())/2-8.5,C.jqx.browser.msie&&C.jqx.browser.version<9?C(this.arrow).css("margin-top","3px"):0<=parseInt(i)&&C(this.arrow).css("margin-top",parseInt(i)+"px")))}),16<this.toggleIndicatorSize&&(n=n+this.toggleIndicatorSize-16),i.panel&&(n>this.host.width()?(e=n-this.host.width(),e+="hidden"!==i.panel.jqxPanel("vScrollBar").css("visibility")?10:0,i.panel.jqxPanel({horizontalScrollBarMax:e})):i.panel.jqxPanel({horizontalScrollBarMax:0})),this.host.find("ul:first").width(n),0<(t=this.host.width()-30)&&this.host.find("ul:first").css("min-width",t),i.panel&&i.panel.jqxPanel("_arrange"))},_arrowStyle:function(e,t,i){var s,n;0<e.length&&(e.removeClass(),s="jqx-tree-item-arrow"+(n=i?"-expand":"-collapse")+("hover"==t?"-"+t:""),e.addClass(this.toThemeProperty(s)),this.rtl||(n=i?"-down":"-right",e.addClass(this.toThemeProperty("jqx-icon-arrow"+n))),this.rtl&&(e.addClass(this.toThemeProperty(s+"-rtl")),n=i?"-down":"-left",e.addClass(this.toThemeProperty("jqx-icon-arrow"+n))))},_initialize:function(e,t){var h=this;this.host.addClass(h.toThemeProperty("jqx-widget")),this.host.addClass(h.toThemeProperty("jqx-widget-content")),this.host.addClass(h.toThemeProperty("jqx-tree")),this._updateDisabledState();var o=C.jqx.browser.msie&&C.jqx.browser.version<8;C.each(this.items,function(){var e,t=this,i=C(t.element),s=null;if(h.checkboxes&&!t.hasItems&&t.checkBoxElement&&C(t.checkBoxElement).css("margin-left","0px"),o)!t.hasItems&&0<C(t.element).find("ul").length&&C(t.element).find("ul").remove();else{if(!t.hasItems)return h.rtl?t.element.style.marginRight=parseInt(h.toggleIndicatorSize)+"px":t.element.style.marginLeft=parseInt(h.toggleIndicatorSize)+"px",0<(e=C(t.arrow)).length&&(e.remove(),t.arrow=null),!0;h.rtl?t.element.style.marginRight="0px":t.element.style.marginLeft="0px"}0<(e=C(t.arrow)).length&&e.remove(),(s=C('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>')).prependTo(i),h.rtl?s.css("float","right"):s.css("float","left"),s.css("clear","both"),s.width(h.toggleIndicatorSize),h._arrowStyle(s,"",t.isExpanded);var n=parseInt(C(this.titleElement).css("padding-top"));isNaN(n)&&(n=0),n*=2;var l=((n+=2)+C(this.titleElement).height())/2-8.5;C.jqx.browser.msie&&C.jqx.browser.version<9?s.css("margin-top","3px"):0<=parseInt(l)&&s.css("margin-top",parseInt(l)+"px"),i.addClass(h.toThemeProperty("jqx-disableselect")),s.addClass(h.toThemeProperty("jqx-disableselect"));var r="click",a=h.isTouchDevice();a&&(r=C.jqx.mobile.getTouchEventName("touchend")),h.addHandler(s,r,function(){return t.isExpanded?h._collapseItem(h,t):h._expandItem(h,t),!1}),h.addHandler(s,"selectstart",function(){return!1}),h.addHandler(s,"mouseup",function(){if(!a)return!1}),t.hasItems=0<C(t.element).find("li").length,t.arrow=s[0],t.hasItems||s.css("visibility","hidden"),i.css("float","none")})},_getOffset:function(e){var t=C(window).scrollTop(),i=C(window).scrollLeft(),s=C.jqx.mobile.isSafariMobileBrowser(),n=C(e).offset(),l=n.top,r=n.left;return null!=s&&s?{left:r-i,top:l-t}:C(e).offset()},_renderHover:function(e,t,i){var s,n=this;i||(s=C(t.titleElement),n.addHandler(s,"mouseenter",function(){t.disabled||!n.enableHover||n.disabled||(s.addClass(n.toThemeProperty("jqx-fill-state-hover")),s.addClass(n.toThemeProperty("jqx-tree-item-hover")))}),n.addHandler(s,"mouseleave",function(){t.disabled||!n.enableHover||n.disabled||(s.removeClass(n.toThemeProperty("jqx-fill-state-hover")),s.removeClass(n.toThemeProperty("jqx-tree-item-hover")))}))},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){var e;null==this.input&&((e=this.host.attr("name"))&&this.host.attr("name",""),this.input=C("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",e),this._updateInputSelection())},render:function(){this._updateItemsNavigation(),this._render()},_render:function(e,t){C.jqx.browser.msie&&C.jqx.browser.version<8&&(i=this,C.each(this.items,function(){var e=C(this.element),t=e.parent(),i=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;e.css("min-width",i);var s=parseInt(t.css("min-width"));isNaN(s)&&(s=0);var n=e.css("min-width");s<parseInt(e.css("min-width"))&&t.css("min-width",n),this.titleElement[0].style.width=null}));var i=this;if(C.data(i.element,"animationHideDelay",i.animationHideDelay),C.data(document.body,"treeel",this),this._initialize(),this.isTouchDevice()&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),null!=e&&1!=e||C.each(this.items,function(){i._updateItemEvents(i,this)}),this.allowDrag&&this._enableDragDrop&&(null==t||1==t)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(0<this.host.find("#panel"+this.element.id).length)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var s=this.host.find("div:first"),n="fixed";null!=this.height&&"auto"!=this.height||(n="verticalwrap"),null!=this.width&&"auto"!=this.width||(n="fixed"==n?"horizontalwrap":"wrap"),s.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:n}),C.jqx.browser.msie&&C.jqx.browser.version<8&&s.jqxPanel("content").css("left","0px"),s.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(s,C.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(s,C.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(s,C.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var l=C.data(s[0],"jqxPanel").instance;null!=l&&(this.vScrollInstance=l.vScrollInstance,this.hScrollInstance=l.hScrollInstance),this.panelInstance=l,C.jqx.browser.msie&&C.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),s[0].className="",this.panel=s}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(e){}},_updateItemEvents:function(t,i){var e=this.isTouchDevice();e&&(this.toggleMode=C.jqx.mobile.getTouchEventName("touchend"));var s=C(i.element);t.enableRoundedCorners&&s.addClass(t.toThemeProperty("jqx-rc-all"));var n=e?C.jqx.mobile.getTouchEventName("touchend"):"mousedown";!0===t.touchMode&&t.removeHandler(C(i.checkBoxElement),"mousedown"),t.removeHandler(C(i.checkBoxElement),n),t.addHandler(C(i.checkBoxElement),n,function(e){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1});var l=C(i.titleElement);t.removeHandler(s),this.allowDrag&&this._enableDragDrop?(t.removeHandler(l,"mousedown.item"),t.removeHandler(l,"click"),t.removeHandler(l,"dblclick"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave")):t.removeHandler(l),t._renderHover(s,i,e);var r,a=C(i.subtreeElement);0<a.length&&(r=i.isExpanded?"block":"none",a.css({overflow:"hidden",display:r}),a.data("timer",{})),t.addHandler(l,"selectstart",function(e){return!1}),C.jqx.browser.opera&&t.addHandler(l,"mousedown.item",function(e){return!1}),"click"!=t.toggleMode&&t.addHandler(l,"click",function(e){t.selectItem(i.element,"mouse"),null!=t.panel&&t.panel.jqxPanel({focused:!0}),l.focus(),t._raiseEvent("9",{element:i.element})}),t.addHandler(l,t.toggleMode,function(e){if(0<a.length&&clearTimeout(a.data("timer").hide),null!=t.panel&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element,"mouse"),null==i.isExpanding&&(i.isExpanding=!1),null==i.isCollapsing&&(i.isCollapsing=!1),0<a.length)return i.isExpanded?0==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):0==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1})},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var e=C.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),this._isTouchDevice=e},createID:function(){return C.jqx.utilities.createId()},createTree:function(e){if(null!=e){var t=C(e).find("li");this.items=new Array,this.itemMapping=new Array,C(e).addClass(this.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&C(e).addClass(this.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||C.jqx.browser.msie&&C.jqx.browser.version<8)&&(this._measureItem=C("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),C(document.body).append(this._measureItem)),C.jqx.browser.msie&&C.jqx.browser.version;for(var i=0;i<t.length;i++)this._createItem(t[i]);(this.rtl||C.jqx.browser.msie&&C.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(e){var t=this;this.checkboxes&&C.each(this.items,function(){this.level!=e&&null!=e||t._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(e){var t,i;this.checkboxes&&"none"!=C(e.titleElement).css("display")&&(t=C(e.checkBoxElement),i=C(e.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2,t.css("margin-top",i),this.rtl||(C.jqx.browser.msie&&C.jqx.browser.version<8?e.titleElement.css("margin-left",parseInt(this.checkSize)+25):e.hasItems&&t.css("margin-left",this.toggleIndicatorSize)))},_updateCheckStates:function(){var e=this;e.hasThreeStates?C.each(this.items,function(){e._updateCheckState(this)}):C.each(this.items,function(){null==this.checked&&e.checkItem(this.element,!1,"tree")})},_updateCheckState:function(e){var s,i,t,n;null!=e&&null!=e&&(s=this,i=0,n=(t=C(e.element).find("li")).length,e.checked&&0<n&&C.each(t,function(e){var t=s.itemMapping["id"+this.id].item,i=t.element.getAttribute("item-checked");null!=i&&null!=i&&"true"!=i&&1!=i||s.checkItem(t.element,!0,"tree")}),C.each(t,function(e){var t=s.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&0,i++)}),0<n&&(i==n?this.checkItem(e.element,!0,"tree"):0<i?this.checkItem(e.element,null,"tree"):this.checkItem(e.element,!1,"tree")))},_updateItemsNavigation:function(){for(var e=this.host.find("ul:first"),t=C(e).find("li"),i=0;i<t.length;i++){var s=t[i];if(this.itemMapping["id"+s.id]){var n=this.itemMapping["id"+s.id].item;if(!n)continue;n.prevItem=null,n.nextItem=null,0<i&&this.itemMapping["id"+t[i-1].id]&&(n.prevItem=this.itemMapping["id"+t[i-1].id].item),i<t.length-1&&this.itemMapping["id"+t[i+1].id]&&(n.nextItem=this.itemMapping["id"+t[i+1].id].item)}}},_applyTheme:function(s,n){var l=this;this.host.removeClass("jqx-tree-"+s),this.host.removeClass("jqx-widget-"+s),this.host.removeClass("jqx-widget-content-"+s),this.host.addClass(l.toThemeProperty("jqx-tree")),this.host.addClass(l.toThemeProperty("jqx-widget"));var e=this.host.find("ul:first");C(e).removeClass(l.toThemeProperty("jqx-tree-dropdown-root-"+s)),C(e).addClass(l.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(C(e).removeClass(l.toThemeProperty("jqx-tree-dropdown-root-rtl-"+s)),C(e).addClass(l.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var t=C(e).find("li"),i=0;i<t.length;i++){var r=t[i];C(r).children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return C(this).removeClass(l.toThemeProperty("jqx-tree-dropdown-"+s)),C(this).addClass(l.toThemeProperty("jqx-tree-dropdown")),l.rtl&&(C(this).removeClass(l.toThemeProperty("jqx-tree-dropdown-rtl-"+s)),C(this).addClass(l.toThemeProperty("jqx-tree-dropdown-rtl"))),!1})}C.each(this.items,function(){var e=this,t=C(e.element);t.removeClass(l.toThemeProperty("jqx-tree-item-li-"+s)),t.addClass(l.toThemeProperty("jqx-tree-item-li")),this.rtl&&(t.removeClass(l.toThemeProperty("jqx-tree-item-li-"+s)),t.addClass(l.toThemeProperty("jqx-tree-item-li"))),C(e.titleElement).removeClass(l.toThemeProperty("jqx-tree-item-"+s)),C(e.titleElement).addClass(l.toThemeProperty("jqx-tree-item")),C(e.titleElement).removeClass("jqx-item-"+s),C(e.titleElement).addClass(l.toThemeProperty("jqx-item"));var i=C(e.arrow);0<i.length&&l._arrowStyle(i,"",e.isExpanded),e.checkBoxElement&&C(e.checkBoxElement).jqxCheckBox({theme:n}),l.enableRoundedCorners&&(t.removeClass("jqx-rc-all-"+s),t.addClass(l.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:n})},_refreshMapping:function(e,t){for(var i=this.host.find("li"),s=new Array,n=new Array,l=C.data(document.body,"treeItemsStorage"),r=this,a=0;a<i.length;a++){var h,o,d=i[a],m=C(d),c=l[d.id];null!=c&&(n[n.length]=c,null!=e&&1!=e||this._updateItemEvents(this,c),c.level=m.parents("li").length,c.treeInstance=this,o=h=null,-1!=c.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(C(c.titleElement).removeClass(r.toThemeProperty("jqx-fill-state-pressed")),C(c.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-selected"))),m.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return c.subtreeElement=this,C(this).addClass(r.toThemeProperty("jqx-tree-dropdown")),r.rtl&&C(this).addClass(r.toThemeProperty("jqx-tree-dropdown-rtl")),!1}),m.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return o=this.id,h=this,!1}),c.parentElement=h,c.parentId=o,c.hasItems=0<C(c.element).find("li").length,null!=c&&(s[a]={element:d,item:c},s["id"+d.id]=s[a]))}this.itemMapping=s,this.items=n},_createItem:function(e){if(null!=e&&null!=e){var t=(t=e.id)||this.createID(),i=e,s=C(e);i.id=t;var n=C.data(document.body,"treeItemsStorage");null==n&&(n=new Array);var l=this.items.length;this.items[l]=new C.jqx._jqxTree.jqxTreeItem,this.treeElements[t]=this.items[l],n[i.id]=this.items[l],C.data(document.body,"treeItemsStorage",n),l=this.items.length;var r=0,a=this,h=null;s.attr("role","treeitem"),s.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return a.items[l-1].subtreeElement=this,C(this).addClass(a.toThemeProperty("jqx-tree-dropdown")),a.rtl&&(C(this).addClass(a.toThemeProperty("jqx-tree-dropdown-rtl")),C(this).css("clear","both")),!1}),s.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return r=this.id,h=this,!1});var o=null!=(o=e.getAttribute("item-expanded"))&&null!=o&&("true"==o||1==o);i.removeAttribute("item-expanded");var d=null!=(d=e.getAttribute("item-locked"))&&null!=d&&("true"==d||1==d);i.removeAttribute("item-locked");var m=null!=(m=e.getAttribute("item-selected"))&&null!=m&&("true"==m||1==m);i.removeAttribute("item-selected");var c=null!=(c=e.getAttribute("item-disabled"))&&null!=c&&("true"==c||1==c);i.removeAttribute("item-disabled");var u=null!=(u=e.getAttribute("item-checked"))&&null!=u&&("true"==u||1==u),p=e.getAttribute("item-title");(null==p||null==p||"true"!=p&&1!=p)&&(p=!1),i.removeAttribute("item-title");var f=e.getAttribute("item-icon"),v=e.getAttribute("item-iconsize"),g=e.getAttribute("item-label"),x=e.getAttribute("item-value");i.removeAttribute("item-icon"),i.removeAttribute("item-iconsize"),i.removeAttribute("item-label"),i.removeAttribute("item-value");var I=this.items[l-1];I.id=t,null==I.value&&(this._valueList&&this._valueList[t]?I.value=this._valueList[t]:I.value=x),I.icon=f,I.iconsize=v,I.parentId=r,I.disabled=c,I.parentElement=h,I.element=e,I.locked=d,I.selected=m,I.checked=u,I.isExpanded=o,(I.treeInstance=this).itemMapping[l-1]={element:i,item:I},this.itemMapping["id"+i.id]=this.itemMapping[l-1];var b,_,w,y,j;this.rtl&&(C(I.element).css("float","right"),C(I.element).css("clear","both")),0<C(i.firstChild).length?(v=16,I.icon&&(v=I.iconsize,f=C('<img width="'+(v=v||16)+'" height="'+v+'" style="float: left;" class="itemicon" src="'+I.icon+'"/>'),C(i).prepend(f),f.css("margin-right","6px"),this.rtl&&(f.css("margin-right","0px"),f.css("margin-left","6px"),f.css("float","right"))),-1==(b=i.innerHTML.indexOf("<ul"))&&(b=i.innerHTML.indexOf("<UL")),-1==b?(I.originalTitle=i.innerHTML,i.innerHTML='<div style="display: inline-block;">'+i.innerHTML+"</div>",I.titleElement=C(C(i)[0].firstChild)):(_=i.innerHTML.substring(0,b),_=C.trim(_),I.originalTitle=_,_=C('<div style="display: inline-block;">'+_+"</div>"),(w=C(i).find("ul:first")).remove(),i.innerHTML="",C(i).prepend(_),C(i).append(w),I.titleElement=_,this.rtl&&(_.css("float","right"),w.css("padding-right","10px"))),16!==v&&C(I.titleElement).css("line-height",v+"px"),C.jqx.browser.msie&&C.jqx.browser.version<8&&(C(C(i)[0].firstChild).css("display","inline-block"),y=!1,0==this._measureItem.parents().length&&(C(document.body).append(this._measureItem),y=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=C(I.titleElement).text(),j=this._measureItem.width(),I.icon&&(j+=20),0<C(C(I.titleElement).find("img")).length&&(j+=20),C(C(i)[0].firstChild).css("max-width",j+"px"),y&&this._measureItem.remove())):(I.originalTitle="Item",C(i).append(C("<span>Item</span>")),C(i.firstChild).wrap("<span/>"),I.titleElement=C(i)[0].firstChild,C.jqx.browser.msie&&C.jqx.browser.version<8&&C(i.firstChild).css("display","inline-block"));var k=C(I.titleElement),q=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&k.addClass("draggable"),null==g||null==g?(g=I.titleElement,I.label=C.trim(k.text())):I.label=g,C(i).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&C(i).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),q+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(q+=" "+this.toThemeProperty("jqx-tree-item-rtl")),k[0].className=k[0].className+" "+q,I.level=C(e).parents("li").length,I.hasItems=0<C(e).find("li").length,this.rtl&&I.parentElement&&this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var E=C('<div style="overflow: visible; position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');E.width(parseInt(this.checkSize)),E.height(parseInt(this.checkSize)),C(i).prepend(E),this.rtl&&(E.css("float","right"),E.css("position","static")),E.jqxCheckBox({hasInput:!1,checked:I.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:c,theme:this.theme}),this.rtl?I.parentElement?E.css("margin-right","10px"):E.css("margin-right","5px"):k.css("margin-left",parseInt(this.checkSize)+8),I.checkBoxElement=E[0],E[0].treeItem=I;var T=k.outerHeight()/2-1-parseInt(this.checkSize)/2;E.css("margin-top",T),C.jqx.browser.msie&&C.jqx.browser.version<8?(k.css("width","1%"),k.css("margin-left",parseInt(this.checkSize)+25)):I.hasItems&&(this.rtl||E.css("margin-left",this.toggleIndicatorSize))}else C.jqx.browser.msie&&C.jqx.browser.version<8&&k.css("width","1%");c&&this.disableItem(I.element),m&&this.selectItem(I.element),C.jqx.browser.msie&&C.jqx.browser.version<8&&(C(i).css("margin","0px"),C(i).css("padding","0px"))}},destroy:function(){this.removeHandler(C(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,C.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,C.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,C.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var n=this,l=this.isTouchDevice();C.each(this.items,function(){var e=C(this.element),t=l?C.jqx.mobile.getTouchEventName("touchend"):"click";n.removeHandler(C(this.checkBoxElement),t);var i=C(this.titleElement);n.removeHandler(e),n.allowDrag&&n._enableDragDrop?(n.removeHandler(i,"mousedown.item"),n.removeHandler(i,"click"),n.removeHandler(i,"dblclick"),n.removeHandler(i,"mouseenter"),n.removeHandler(i,"mouseleave")):n.removeHandler(i);var s=C(this.arrow);0<s.length&&(n.removeHandler(s,t),n.removeHandler(s,"selectstart"),n.removeHandler(s,"mouseup"),l||(n.removeHandler(s,"mouseenter"),n.removeHandler(s,"mouseleave")),n.removeHandler(i,"selectstart")),C.jqx.browser.opera&&n.removeHandler(i,"mousedown.item"),"click"!=n.toggleMode&&n.removeHandler(i,"click"),n.removeHandler(i,n.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e],s=t;s.owner=this;var n=new C.Event(i);return n.owner=this,n.args=s,this.host.trigger(n)},propertyChangedHandler:function(e,t,i,s){var n,l,r,a,h,o,d;null!=this.isInitialized&&0!=this.isInitialized&&("submitCheckedItems"==t&&e._updateInputSelection(),"disabled"==t&&e._updateDisabledState(),"theme"==t&&e._applyTheme(i,s),"keyboardNavigation"==t&&(e.enableKeyboardNavigation=s),"width"!=t&&"height"!=t||(e.refresh(),e._initialize(),e._calculateWidth(),e.host.jqxPanel&&(n="fixed",null!=this.height&&"auto"!=this.height||(n="verticalwrap"),null!=this.width&&"auto"!=this.width||(n="fixed"==n?"horizontalwrap":"wrap"),e.panel.jqxPanel({sizeMode:n}))),"touchMode"==t&&(e._isTouchDevice=null,s&&(e.enableHover=!1),e._render()),"source"!=t&&"checkboxes"!=t||null!=this.source&&(l=[],C.each(e.items,function(){this.isExpanded&&(l[l.length]={label:this.label,level:this.level})}),r=e.loadItems(e.source),e.host.jqxPanel?e.panel.jqxPanel("setcontent",r):e.element.innerHTML=r,a=e.disabled,0<(h=e.host.find("ul:first")).length&&(e.createTree(h[0]),e._render()),d=(o=e).animationShowDuration,o.animationShowDuration=0,e.disabled=!1,0<l.length&&C.each(e.items,function(){for(var e,t=0;t<l.length;t++){l[t].label==this.label&&l[t].level==this.level&&(e=o.getItem(this.element),o._expandItem(o,e))}}),e.disabled=a,o.animationShowDuration=d),"hasThreeStates"==t&&(e._render(),e._updateCheckStates()),"toggleIndicatorSize"==t&&(e._updateCheckLayout(),e._render()))}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxTree.jqxTreeItem=function(e,t,i){return{label:null,id:e,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null}};