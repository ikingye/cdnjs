!function(d){d.jqx.jqxWidget("jqxSplitter","",{}),d.extend(d.jqx._jqxSplitter.prototype,{defineInstance:function(){var t={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:d.jqx.mobile.getTouchEventName("touchstart"),mouseup:d.jqx.mobile.getTouchEventName("touchend"),mousemove:d.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return this===d.jqx._jqxSplitter.prototype||d.extend(!0,this,t),t},createInstance:function(){this.render()},_initOverlay:function(t){this.overlay||"undefined"==t?(this.overlay.remove(),this.overlay=null):1==t&&(this.overlay=d("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(d(document.body)),this.host.coord(),this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(d(window).width()),this.overlay.height(d(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize"))},_startDrag:function(t){return!(t.target!=this.splitBarButton[0]&&!this.disabled)||(!(!this.panels[0].collapsed&&!this.panels[1].collapsed&&this.resizable)||(null!=this.overlay||(this._dragging=!0,this._initOverlay(!0),this._dragStart=d.jqx.position(t),!1)))},_drag:function(t){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var e="horizontal"==this.orientation?"top":"left",s="vertical"==this.orientation?"width":"height";if(this._position=d.jqx.position(t),this.overlay&&!this._splitBarClone&&3<=Math.abs(this._position[e]-this._dragStart[e])){var i=this.splitBar.coord();return this._cloneStart={left:i.left,top:i.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var l,a,n=this.host[s](),r=n/100,h=this._splitBarClone[s]()+2,o=parseInt(this.host.coord()[e]),p=this._position[e]-this._dragStart[e]+this._cloneStart[e]-o;return p<0&&(p=0),n+0-h<p&&(p=n+0-h),l=this.panels[0].min,-1!=(a=this.panels[1].min).toString().indexOf("%")&&(a=parseFloat(a)*r),-1!=l.toString().indexOf("%")&&(l=parseFloat(l)*r),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),p<l&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),p=l),n+0-h-a<p&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),p=n+0-h-a),this._splitBarClone.css(e,p),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return!0},resize:function(t,e){this.width=t,this.height=e,this._arrange()},_resize:function(){var t="horizontal"==this.orientation?"height":"width",e="horizontal"==this.orientation?"top":"left",s=this._splitBarClone.css(e),i=this.host[t](),l=1/(i/100);-1!=this.panels[0].size.toString().indexOf("%")?(this.panels[0].size=parseFloat(s)*l+"%",this.panels[1].size=100-parseFloat(s)*l+"%"):(this.panels[0].size=parseFloat(s),this.panels[1].size=i-parseFloat(s)),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var t=this.splitBar.clone();return t.fadeTo(0,.7),t.css("z-index",99999),"vertical"==this.orientation?t.css("cursor","col-resize"):t.css("cursor","row-resize"),this.host.append(t),t},_eventName:function(t){return this._isTouchDevice?this._eventsMap[t]:t},_addHandlers:function(){var t,e,s=this;d.jqx.utilities.resize(this.host,function(){s._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(t){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){function t(t){t.collapsed?s.expand():s.collapse()}s.panels[0].collapsible?t(s.panels[0]):s.panels[1].collapsible&&t(s.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){s.splitBarButton.addClass(s.toThemeProperty("jqx-splitter-collapse-button-hover")),s.splitBarButton.addClass(s.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){s.splitBarButton.removeClass(s.toThemeProperty("jqx-splitter-collapse-button-hover")),s.splitBarButton.removeClass(s.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(d(document),this._eventName("mousemove")+"."+this.element.id,function(t){return s._drag(t)}),this.addHandler(d(document),this._eventName("mouseup")+"."+this.element.id,function(){return s._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(t){return s._startDrag(t)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){s.resizable&&!s.disabled&&(s.splitBar.addClass(s.toThemeProperty("jqx-splitter-splitbar-hover")),s.splitBar.addClass(s.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){s.resizable&&!s.disabled&&(s.splitBar.removeClass(s.toThemeProperty("jqx-splitter-splitbar-hover")),s.splitBar.removeClass(s.toThemeProperty("jqx-fill-state-hover")))}),""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(t=null,window.parent&&document.referrer&&(t=document.referrer),t&&-1!=t.indexOf(document.location.host)&&(e=function(t){s._stopDrag()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",e,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",e)))},_removeHandlers:function(){this.removeHandler(d(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(d(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(d(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==t.length){var e=t[0].className.split(" "),s=t[1].className.split(" ");if(-1!=e.indexOf("jqx-reset")&&-1!=e.indexOf("jqx-splitter")&&-1!=e.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=s.indexOf("jqx-reset")&&-1!=s.indexOf("jqx-splitter")&&-1!=s.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(0<this.host.parent().length&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=d.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=d("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return d.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){if(2!=(t=this.host.children()).length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:null==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var t=this.host.children();this.panel1=this.panels[0].element=d(t[0]),this.panel2=this.panels[1].element=d(t[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",d.each(this.panels,function(){null==this.min&&(this.min=0),null==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),null==this.collapsible&&(this.collapsible=!0),null==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){var t,e;null!=this.width&&("string"!=typeof(t=this.width)&&(t=parseInt(this.width)+"px"),this.host.css("width",t)),null!=this.height&&("string"!=typeof(e=this.height)&&(e=parseInt(this.height)+"px"),this.host.css("height",e)),this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var s="horizontal"==this.orientation?"width":"height";this.splitBar.css(s,"100%"),this.panel1.css(s,"100%"),this.panel2.css(s,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){var t;this.disabled||(t=-1,this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?t=0:this.panels[1].collapsible&&(t=1),-1!=t&&(this.panels[t].collapsed=!0,this.panels[t].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:t,panels:this.panels}),this._raiseEvent(0,{panels:this.panels})))},expand:function(){var t;this.disabled||(t=-1,this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?t=0:this.panels[1].collapsible&&(t=1),-1!=t&&(this.panels[t].collapsed=!1,this.panels[t].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:t,panels:this.panels}),this._raiseEvent(0,{panels:this.panels})))},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(t){1!=t&&this._arrange()},propertyChangedHandler:function(t,e,s,i){"panels"!==e&&"orientation"!==e&&"showSplitBar"!==e?("touchMode"===e&&(t._isTouchDevice=i),"disabled"===e?i?t.disable():t.enable():"theme"===e?d.jqx.utilities.setTheme(s,i,t.host):t.refresh()):t.render()},_layoutPanels:function(){var t,e,s,i,l=this,a="horizontal"==this.orientation?"height":"width",n="horizontal"==this.orientation?"top":"left",r=parseInt(this._splitBarSize)+2;this.showSplitBar||(r=0);var h=this.host[a](),o=h/100,p=1/o,d=p*r,c=this.panel1,u=this.panel2,m=this.panels[0].size;this.panels[0].collapsed&&(s=!0),this.panels[1].collapsed&&(i=!0),t=this.panels[0].min,-1!=(e=this.panels[1].min).toString().indexOf("%")&&(e=parseFloat(e)*o),-1!=t.toString().indexOf("%")&&(t=parseFloat(t)*o),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(c.width(this.host.width()),u.width(this.host.width())):(c.height(this.host.height()),u.height(this.host.height())));var B,v,x,f,_,y;s?(B=Math.max(e,h-r),c[a](0),u[a](B)):i?(B=Math.max(t,h-r),u[a](0),c[a](B)):-1!=m.toString().indexOf("%")?(v=100-parseFloat(m),c.css(a,parseFloat(m)+"%"),v-=d,u.css(a,v+"%"),(f=u[a]())<e&&(x=(B=f-e)*p,m=parseFloat(m)+parseFloat(x),v=100-parseFloat(m),c.css(a,parseFloat(m)+"%"),v-=d,u.css(a,v+"%")),c[a]()<t&&(x=t*p,c.css(a,parseFloat(x)+"%"))):(f=h-m-r,c[0].style[a]!=m+"px"&&c[a](m),u[0].style[a]!=f+"px"&&u[a](f),f<e&&(m+=f-e,u[a](e),c[a](m)),m<t&&c[a](t)),y=l.panel1[a](),l.splitBar[0].style[n]!=y+"px"&&(_=y,"vertical"==l.orientation?(l.splitBar[0].style.borderLeftColor="",l.splitBar[0].style.borderRightColor="",l.splitBarButton[0].style.width=parseInt(l._splitBarSize)+"px",l.splitBarButton[0].style.left="0px"):(l.splitBar[0].style.borderTopColor="",l.splitBar[0].style.borderBottomColor="",l.splitBarButton[0].style.height=parseInt(l._splitBarSize)+"px",l.splitBarButton[0].style.top="0px"),l._hasBorder&&(h-r==y?"vertical"==l.orientation?(l.splitBar[0].style.borderRightColor="transparent",l.splitBarButton[0].style.width=parseInt(l._splitBarSize+1)+"px"):(l.splitBar[0].style.borderBottomColor="transparent",l.splitBarButton[0].style.height=parseInt(l._splitBarSize+1)+"px"):0==y&&("vertical"==l.orientation?(l.splitBar[0].style.borderLeftColor="transparent",l.splitBarButton[0].style.width=parseInt(l._splitBarSize+1)+"px",l.splitBarButton[0].style.left="-1px"):(l.splitBar[0].style.borderTopColor="transparent",l.splitBarButton[0].style.height=parseInt(l._splitBarSize+1)+"px",l.splitBarButton[0].style.top="-1px"))),l.splitBar[0].style[n]=_+"px"),l.panel2[0].style[n]!=y+r+"px"&&(l.panel2[0].style[n]=y+r+"px"),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),d.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(t,e){var s=new d.Event(this._events[t]);s.owner=this,s.args=e;this.orientation;var i=new Array;return i[0]={},i[1]={},i[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,i[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,i[0].min=this.panels[0].min,i[1].min=this.panels[1].min,i[0].collapsible=this.panels[0].collapsible,i[1].collapsible=this.panels[1].collapsible,i[0].collapsed=this.panels[0].collapsed,i[1].collapsed=this.panels[1].collapsed,s.args.panels=i,this.host.trigger(s)}})}(jqxBaseFramework);