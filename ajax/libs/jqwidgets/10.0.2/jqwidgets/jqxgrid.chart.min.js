!function(e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var a=t[r];if(e.call(n,a,r,t))return a;r++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var a=t[r];if(e.call(n,a,r,t))return r;r++}return-1},configurable:!0,writable:!0}),e.extend(e.jqx._jqxGrid.prototype,{_getChartDataFields:function(e){var t,i=e[0],n=!0,r=[];for(var a in i){"$"!==a&&"uid"!==a&&"boundindex"!==a&&"uniqueid"!==a&&"visibleindex"!==a&&("string"===this.source._source.dataFields.find(function(e){return e.name===a}).type?0===this.columns.records.findIndex(function(e){return e.datafield===a})&&(t=a):(n=!1,r.push({dataField:a,displayText:a})))}return{xAxisDataField:t,series:r,stringOnly:n}},createChart:function(e,t){var i,n=this,r=n.getselection(),a=r.rows,o=r.cells,s=document.createElement("div"),d=[],l={},c=[],h=[];if(o&&1<o.length&&o.forEach(function(e){-1===c.indexOf(e.rowindex)&&c.push(e.rowindex),-1===h.indexOf(e.datafield)&&h.push(e.datafield)}),0===a.length&&0===o.length&&(t=n.source.records),t)d=d.concat(t);else for(var t=n.source.records,f=0;f<t.length;f++){var u={};if(0<a.length){if(-1===a.indexOf(f))continue}else if(0<o.length&&1<o.length){if(-1===c.indexOf(f))continue;h.forEach(function(e){u[e]=t[f][e]}),d.push(u);continue}n.columns.records.forEach(function(e){u[e.datafield]=t[f][e.datafield]}),d.push(u)}var g,p=n._getChartDataFields(d);if(p.stringOnly){n.showheader&&(g=n.element.querySelector("#"+e),n.toolbar[0].firstElementChild.classList.add("warning"),g&&g.classList.add("warning"),setTimeout(function(){n.toolbar[0].firstElementChild.classList.remove("warning"),g&&g.classList.remove("warning")},1e3))}else{i=p.series;var x,y={title:"",description:"",showLegend:!0,showBorderLine:!1,padding:{left:5,top:10,right:5,bottom:5}};if(y.source=d,y.xAxis={dataField:p.xAxisDataField,gridLines:{visible:!0}},y.valueAxis={displayValueAxis:!0,description:n.charting.description,axisSize:"auto",formatSettings:n.charting.formatSettings},y.colorScheme=n.charting.colorScheme,y.seriesGroups=[l],l.formatSettings=n.charting.formatSettings,l.series=i,"line"===e)i.forEach(function(e){e.symbolSize=8,e.symbolType="square"});else if("pie"===e){var v=i[0].dataField;delete l.formatSettings,l.formatFunction=function(e,t){return isNaN(e)&&"object"==typeof e?t:e},l.showLabels=!0,i.length=0,i.push({dataField:v,displayText:p.xAxisDataField,initialAngle:0})}else if("bar"===e)e="column",l.orientation="horizontal",y.xAxis.textRotationAngle=90,y.valueAxis.textRotationAngle=30,y.valueAxis.flip=!0;else if("area"===e)for(var m=1,f=0;f<i.length;f++)i[f].opacity=m,m-=.2,m=Math.max(.3,m);l.type=e,n.charting.ready&&n.charting.ready(y),n.charting.appendTo?(x="string"===n.charting.appendTo?document.querySelector(n.charting.appendTo):n.charting.appendTo)&&(new jqxChart(s,y),x.appendChild(s)):n._openChartDialog(s,e,y)}},_openChartDialog:function(e,t,i){var n=this;if(!n.charting.dialog.enabled)return!1;var r=document.createElement("div");r.innerHTML="<div>"+n.charting.dialog.header+'</div><div style="overflow:hidden;"></div>';t.substring(0,1).toUpperCase(),t.substring(1);e.style.width="100%",e.style.height="100%";var a=new jqxWindow(r,{width:n.charting.dialog.width,height:n.charting.dialog.height,position:n.charting.dialog.position,isModal:!0});a.open(),setTimeout(function(){r.querySelector(".jqx-widget-content").appendChild(e);new jqxChart(e,i)},100),a.on("close",function(){a.destroy()})}})}(jqxBaseFramework);