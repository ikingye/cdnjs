!function(ce){ce.jqx.jqxWidget("jqxChart","",{}),ce.extend(ce.jqx._jqxChart.prototype,{defineInstance:function(){return ce.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,showToolTipsOnAllSeries:!1,toolTipShowDelay:300,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:ce.jqx.mobile.getTouchEventName("touchstart"),click:ce.jqx.mobile.getTouchEventName("touchstart"),mouseup:ce.jqx.mobile.getTouchEventName("touchend"),mousemove:ce.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(e){if(!ce.jqx.dataAdapter)throw"jqxdata.js is not loaded";var a=this;a._refreshOnDownloadComlete(),a._isTouchDevice=ce.jqx.mobile.isTouchDevice(),a._jqxPlot||(a._jqxPlot=new jqxPlot),a.addHandler(a.host,a._getEvent("mousemove"),function(e){var t,i,r,s;0!=a.enabled&&(a._isRangeSelectorInstance||a.host.css("cursor","default"),r=e.pageX||e.clientX||e.screenX,s=e.pageY||e.clientY||e.screenY,t=a.host.offset(),a._isTouchDevice&&(r=(i=ce.jqx.position(e)).left,s=i.top),r-=t.left,s-=t.top,a.onmousemove(r,s))}),a.addHandler(a.host,a._getEvent("mouseleave"),function(e){var t,i,r;0!=a.enabled&&(t=a._mouseX,i=a._mouseY,(r=a._plotRect)&&t>=r.x&&t<=r.x+r.width&&i>=r.y&&i<=r.y+r.height||(a._cancelTooltipTimer(),a._hideToolTip(0),a._unselect()))}),a.addHandler(a.host,"click",function(i){var e,t,r,s;0!=a.enabled&&(r=i.pageX||i.clientX||i.screenX,s=i.pageY||i.clientY||i.screenY,e=a.host.offset(),a._isTouchDevice&&(r=(t=ce.jqx.position(i)).left,s=t.top),r-=e.left,s-=e.top,a._mouseX=r,a._mouseY=s,!isNaN(a._lastClickTs)&&(new Date).valueOf()-a._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){var e,t;a._isTouchDevice||(a._cancelTooltipTimer(),a._hideToolTip(),a._unselect()),a._pointMarker&&a._pointMarker.element&&(t=(e=a.seriesGroups[a._pointMarker.gidx]).series[a._pointMarker.sidx],i.stopImmediatePropagation(),a._raiseItemEvent("click",e,t,a._pointMarker.iidx))},100)))});var t,i=a.element.style;i&&(t=!1,null!=i.width&&(t|=-1!=i.width.toString().indexOf("%")),null!=i.height&&(t|=-1!=i.height.toString().indexOf("%")),t&&ce.jqx.utilities.resize(this.host,function(){a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){var e=a.enableAnimations;a.enableAnimations=!1,a.refresh(),a.enableAnimations=e},1)},!1,!0))},_refreshOnDownloadComlete:function(){var e,t,i=this,r=this.source;r instanceof ce.jqx.dataAdapter&&(null!=(e=r._options)&&(null==e||e.autoBind)||(r.autoSync=!1,r.dataBind()),t=this.element.id,0==r.records.length?(r.unbindDownloadComplete(t),r.bindDownloadComplete(t,function(){i.ready&&i.ready(),i.refresh()})):i.ready&&i.ready(),r.unbindBindingUpdate(t),r.bindBindingUpdate(t,function(){i._supressBindingRefresh||i.refresh()}))},propertyChangedHandler:function(e,t,i,r){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(e){if(!ce.jqx.createRenderer)throw"Please include jqxdraw.js";return ce.jqx.createRenderer(this,e)},_internalRefresh:function(){var e,t,i=this;ce.jqx.isHidden(i.host)||(i._stopAnimations(),i.renderer&&(i._isToggleRefresh||i._isUpdate)||(i._hideToolTip(0),i._isVML=!1,i.host.empty(),i._measureDiv=void 0,i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),this._raiseEvent("refreshBegin",{instance:this}),e instanceof ce.jqx.HTML5Renderer&&e.refresh(),i._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})))},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(e,t,i,r){for(var s=!1,a=0;a<this.seriesGroups.length&&!s;a++){var n=this._getXAxis(a);n&&n.rangeSelector&&(s=!0)}return ce.jqx._widgetToImage(this,e,t,i,r,s?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(e,t){for(var i=e,r=0;r<i.seriesGroups.length;r++){var s=i._getXAxis(r);if(s&&s.rangeSelector&&!s.rangeSelector.renderTo){var a=i._rangeSelectorInstances[r];if(a){var n=a.jqxChart("getInstance"),o=(n.renderEngine,n.renderer.getRect()),l=n.renderer.getContainer().find("canvas")[0].getContext("2d"),h=i._sliders[r],d="horizontal"==i.seriesGroups[r].orientation,f=d?"height":"width",u=d?"width":"height",g=d?"y":"x",c=d?"x":"y",m={};m[g]=h.startOffset+h.rect[g],m[c]=h.rect[c],m[f]=h.endOffset-h.startOffset,m[u]=h.rect[u];var _=s.rangeSelector.colorSelectedRange||"blue",p=(s.rangeSelector.colorUnselectedRange,s.rangeSelector.colorRangeLine||"grey"),x=[];x.push(n.renderer.rect(m.x,m.y,m.width,m.height,{fill:_,opacity:.1})),d?(x.push(n.renderer.line(ce.jqx._ptrnd(h.rect.x+h.rect.width),ce.jqx._ptrnd(h.rect.y),ce.jqx._ptrnd(h.rect.x+h.rect.width),ce.jqx._ptrnd(m.y),{stroke:p,opacity:.5})),x.push(n.renderer.line(ce.jqx._ptrnd(h.rect.x+h.rect.width),ce.jqx._ptrnd(m.y+m.height),ce.jqx._ptrnd(h.rect.x+h.rect.width),ce.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:p,opacity:.5})),x.push(n.renderer.line(ce.jqx._ptrnd(h.rect.x),ce.jqx._ptrnd(m.y),ce.jqx._ptrnd(h.rect.x+h.rect.width),ce.jqx._ptrnd(m.y),{stroke:p,opacity:.5})),x.push(n.renderer.line(ce.jqx._ptrnd(h.rect.x),ce.jqx._ptrnd(m.y+m.height),ce.jqx._ptrnd(h.rect.x+h.rect.width),ce.jqx._ptrnd(m.y+m.height),{stroke:p,opacity:.5}))):(x.push(n.renderer.line(ce.jqx._ptrnd(h.rect.x),ce.jqx._ptrnd(h.rect.y),ce.jqx._ptrnd(m.x),ce.jqx._ptrnd(h.rect.y),{stroke:p,opacity:.5})),x.push(n.renderer.line(ce.jqx._ptrnd(m.x+m.width),ce.jqx._ptrnd(h.rect.y),ce.jqx._ptrnd(h.rect.x+h.rect.width),ce.jqx._ptrnd(h.rect.y),{stroke:p,opacity:.5})),x.push(n.renderer.line(ce.jqx._ptrnd(m.x),ce.jqx._ptrnd(h.rect.y),ce.jqx._ptrnd(m.x),ce.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:p,opacity:.5})),x.push(n.renderer.line(ce.jqx._ptrnd(m.x+m.width),ce.jqx._ptrnd(h.rect.y),ce.jqx._ptrnd(m.x+m.width),ce.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:p,opacity:.5}))),n.renderer.refresh();var y=l.getImageData(o.x,o.y,o.width,o.height);t.getContext("2d").putImageData(y,parseInt(a.css("left")),parseInt(a.css("top")),1,1,o.width,o.height);for(var v=0;v<x.length;v++)n.renderer.removeElement(x[v]);n.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e=this;for(var t in e._defaultSettings)e[t]=e._defaultSettings[t];e.title="",e.description="",e.refresh()},_validateSeriesGroups:function(){if(!ce.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(!t.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!ce.isArray(t.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(e){var t=this,i=t.renderer;t._validateSeriesGroups(),t._colorsCache.clear(),!t._isToggleRefresh&&t._isUpdate&&t._renderData&&t._renderDataClone(),t._renderData=[],i.clear(),t._unselect(),t._hideToolTip(0);var r=t.backgroundImage;null==r||""==r?t.host.css({"background-image":""}):t.host.css({"background-image":-1!=r.indexOf("(")?r:"url('"+r+"')"}),t._rect=e;var s=t.padding||{left:5,top:5,right:5,bottom:5},a=i.createClipRect(e),n=i.beginGroup();i.setClip(n,a);var o,l,h=i.rect(e.x,e.y,e.width-2,e.height-2);null==r||""==r?i.attr(h,{fill:t.backgroundColor||t.background||"white"}):i.attr(h,{fill:"transparent"}),0!=t.showBorderLine?(null==(o=null==t.borderLineColor?t.borderColor:t.borderLineColor)&&(o=t._defaultLineColor),l=this.borderLineWidth,(isNaN(l)||l<0||10<l)&&(l=1),i.attr(h,{"stroke-width":l,stroke:o})):ce.jqx.browser.msie&&ce.jqx.browser.version<9&&i.attr(h,{"stroke-width":1,stroke:t.backgroundColor||"white"}),ce.isFunction(t.drawBefore)&&t.drawBefore(i,e);var d={x:s.left,y:s.top,width:e.width-s.left-s.right,height:e.height-s.top-s.bottom};t._paddedRect=d;var f,u,g,c=t.titlePadding||{left:2,top:2,right:2,bottom:2};t.title&&0<t.title.length&&(f=t.toThemeProperty("jqx-chart-title-text",null),u=i.measureText(t.title,0,{class:f}),i.text(t.title,d.x+c.left,d.y+c.top,d.width-(c.left+c.right),u.height,0,{class:f},!0,"center","center"),d.y+=u.height,d.height-=u.height),t.description&&0<t.description.length&&(g=t.toThemeProperty("jqx-chart-title-description",null),u=i.measureText(t.description,0,{class:g}),i.text(t.description,d.x+c.left,d.y+c.top,d.width-(c.left+c.right),u.height,0,{class:g},!0,"center","center"),d.y+=u.height,d.height-=u.height),(t.title||t.description)&&(d.y+=c.bottom+c.top,d.height-=c.bottom+c.top);var m={x:d.x,y:d.y,width:d.width,height:d.height};t._plotRect=m,t._buildStats(m);for(var _,p=t._isPieOnlySeries(),x=t.seriesGroups,y={xAxis:{},valueAxis:{}},v=0;v<x.length&&!p;v++)if("pie"!=x[v].type&&"donut"!=x[v].type){if(!(Y=t._getXAxis(v)))throw"seriesGroup["+v+"] is missing xAxis definition";var N=Y==t._getXAxis()?-1:v;y.xAxis[N]=0}var M=t.axisPadding;isNaN(M)&&(M=5);var b={left:0,right:0,leftCount:0,rightCount:0},A=[];for(v=0;v<x.length;v++){"pie"!=(z=x[v]).type&&"donut"!=z.type&&1!=z.spider&&1!=z.polar?(_="horizontal"==z.orientation,N=(Y=t._getXAxis(v))==t._getXAxis()?-1:v,R=(w=t._getValueAxis(v))==t._getValueAxis()?-1:v,P=_?Y.axisSize:w.axisSize,G={x:0,y:m.y,width:m.width,height:m.height},S=_?t._getXAxis(v).position:w.position,P&&"auto"!=P||(_?(P=this._renderXAxis(v,G,!0,m).width,1==(1&y.xAxis[N])?P=0:0<P&&(y.xAxis[N]|=1)):(P=t._renderValueAxis(v,G,!0,m).width,1==(1&y.valueAxis[R])?P=0:0<P&&(y.valueAxis[R]|=1))),"left"!=S&&1==t.rtl&&(S="right"),"right"!=S&&(S="left"),0<b[S+"Count"]&&0<b[S]&&0<P&&(b[S]+=M),A.push({width:P,position:S,xRel:b[S]}),b[S]+=P,b[S+"Count"]++):A.push({width:0,position:0,xRel:0})}var w,S,C=Math.max(1,Math.max(e.width,e.height)),k={top:0,bottom:0,topCount:0,bottomCount:0},D=[];for(v=0;v<x.length;v++){"pie"!=(z=x[v]).type&&"donut"!=z.type&&1!=z.spider&&1!=z.polar?(_="horizontal"==z.orientation,R=(w=this._getValueAxis(v))==t._getValueAxis()?-1:v,N=(Y=t._getXAxis(v))==t._getXAxis()?-1:v,q=_?w.axisSize:Y.axisSize,S=_?w.position:Y.position,q&&"auto"!=q||(_?(q=t._renderValueAxis(v,{x:0,y:0,width:C,height:0},!0,m).height,2==(2&y.valueAxis[R])?q=0:0<q&&(y.valueAxis[R]|=2)):(q=t._renderXAxis(v,{x:0,y:0,width:C,height:0},!0).height,2==(2&y.xAxis[N])?q=0:0<q&&(y.xAxis[N]|=2))),"top"!=S&&(S="bottom"),0<k[S+"Count"]&&0<k[S]&&0<q&&(k[S]+=M),D.push({height:q,position:S,yRel:k[S]}),k[S]+=q,k[S+"Count"]++):D.push({height:0,position:0,yRel:0})}t._createAnimationGroup("series");var F=0!=t.showLegend,T=F?t._renderLegend(t.legendLayout?t._rect:d,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(T={width:0,height:0}),d.height<k.top+k.bottom+T.height||d.width<b.left+b.right)i.endGroup();else{m.height-=k.top+k.bottom+T.height,m.x+=b.left,m.width-=b.left+b.right,m.y+=k.top;var j,O,I,P,q,L=[];if(!p){t._getXAxis().tickMarksColor||t._defaultLineColor;for(v=0;v<x.length;v++){if(1!=(z=x[v]).polar&&1!=z.spider&&"pie"!=z.type&&"donut"!=z.type){_="horizontal"==z.orientation;var N=t._getXAxis(v)==t._getXAxis()?-1:v,R=t._getValueAxis(v)==t._getValueAxis()?-1:v,G={x:m.x,y:0,width:m.width,height:D[v].height};if("top"!=D[v].position?G.y=m.y+m.height+D[v].yRel:G.y=m.y-D[v].yRel-D[v].height,_){if(4==(4&y.valueAxis[R]))continue;if(!t._isGroupVisible(v))continue;t._renderValueAxis(v,G,!1,m),y.valueAxis[R]|=4}else{if(L.push(G),4==(4&y.xAxis[N]))continue;if(!t._isGroupVisible(v))continue;t._renderXAxis(v,G,!1,m),y.xAxis[N]|=4}}}}if(F&&(j=t.legendLayout?t._rect:d,O=d.x+ce.jqx._ptrnd((d.width-T.width)/2),I=m.y+m.height+k.bottom,P=d.width,q=T.height,t.legendLayout&&(isNaN(t.legendLayout.left)||(O=t.legendLayout.left),isNaN(t.legendLayout.top)||(I=t.legendLayout.top),isNaN(t.legendLayout.width)||(P=t.legendLayout.width),isNaN(t.legendLayout.height)||(q=t.legendLayout.height)),O+P>j.x+j.width&&(P=j.x+j.width-O),I+q>j.y+j.height&&(q=j.y+j.height-I),t._renderLegend({x:O,y:I,width:P,height:q})),t._hasHorizontalLines=!1,!p)for(v=0;v<x.length;v++){if(1!=(z=x[v]).polar&&1!=z.spider&&"pie"!=z.type&&"donut"!=z.type){_="horizontal"==x[v].orientation;G={x:m.x-A[v].xRel-A[v].width,y:m.y,width:A[v].width,height:m.height};"left"!=A[v].position&&(G.x=m.x+m.width+A[v].xRel);N=t._getXAxis(v)==t._getXAxis()?-1:v,R=t._getValueAxis(v)==t._getValueAxis()?-1:v;if(_){if(L.push(G),8==(8&y.xAxis[N]))continue;if(!t._isGroupVisible(v))continue;t._renderXAxis(v,G,!1,m),y.xAxis[N]|=8}else{if(8==(8&y.valueAxis[R]))continue;if(!t._isGroupVisible(v))continue;t._renderValueAxis(v,G,!1,m),y.valueAxis[R]|=8}}}if(!(m.width<=0||m.height<=0)){for(t._plotRect={x:m.x,y:m.y,width:m.width,height:m.height},v=0;v<x.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(v,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(v=0;v<x.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(v,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var V=!1;for(v=0;v<x.length&&!V;v++){if(void 0!==(z=x[v]).annotations||ce.isFunction(z.draw)||ce.isFunction(z.drawBefore)){V=!0;break}}var E,H,B=i.beginGroup();for(V||(E=i.createClipRect({x:m.x-2,y:m.y,width:m.width+4,height:m.height}),i.setClip(B,E)),v=0;v<x.length;v++){var z=x[v],W=!1;for(var X in t._seriesTypes)if(t._seriesTypes[X]==z.type){W=!0;break}if(!W)throw'Invalid serie type "'+z.type+'"';ce.isFunction(z.drawBefore)&&z.drawBefore(i,e,v,this),1!=z.polar&&1!=z.spider||-1==z.type.indexOf("pie")&&-1==z.type.indexOf("donut")&&t._renderSpiderAxis(v,m),t._renderAxisBands(v,m,!0),t._renderAxisBands(v,m,!1)}for(v=0;v<x.length;v++){z=x[v];if(t._isColumnType(z.type)?t._renderColumnSeries(v,m):-1!=z.type.indexOf("pie")||-1!=z.type.indexOf("donut")?t._renderPieSeries(v,m):-1!=z.type.indexOf("line")||-1!=z.type.indexOf("area")?t._renderLineSeries(v,m):-1!=z.type.indexOf("scatter")||-1!=z.type.indexOf("bubble")?t._renderScatterSeries(v,m):-1==z.type.indexOf("candlestick")&&-1==z.type.indexOf("ohlc")||t._renderCandleStickSeries(v,m,-1!=z.type.indexOf("ohlc")),z.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var U=0;U<z.annotations.length;U++)t._renderAnnotation(v,z.annotations[U],m)}ce.isFunction(z.draw)&&t.draw(i,e,v,this)}i.endGroup(),0==t.enabled&&(H=i.rect(e.x,e.y,e.width,e.height),i.attr(H,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})),ce.isFunction(t.draw)&&t.draw(i,e),i.endGroup(),t._startAnimation("series"),t._credits&&t._credits();for(var Y,Z=!1,v=0;v<t.seriesGroups.length&&!Z;v++){(Y=t._getXAxis(v))&&Y.rangeSelector&&(Z=!0)}if(Z){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var J=[];for(this._isSelectorRefresh||(t.removeHandler(ce(document),t._getEvent("mousemove"),t._onSliderMouseMove),t.removeHandler(ce(document),t._getEvent("mousedown"),t._onSliderMouseDown),t.removeHandler(ce(document),t._getEvent("mouseup"),t._onSliderMouseUp)),t._isSelectorRefresh||(t._rangeSelectorInstances={}),v=0;v<t.seriesGroups.length;v++){var Q=this._getXAxis(v);-1==J.indexOf(Q)&&this._renderXAxisRangeSelector(v,L[v])&&J.push(Q)}}}}},_credits:function(){var e,t,i,r,s,a,n;"75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==ce.jqx.credits&&(e=this,t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109),e._isRangeSelectorInstance||-1!=location.hostname.indexOf(t.substring(4))||(i=e.renderer,r=e._rect,s={class:e.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},a=i.measureText(t,0,s),n=i.text(t,r.x+r.width-a.width-5,r.y+r.height-a.height-5,a.width,a.height,0,s),ce(n).on("click",function(){location.href="http://"+t+"/?ref="+e.widgetName})))},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(e,t,i,r){var s=this,a=s.renderer,n={x:t.x,y:t.y,width:t.width,height:t.height};6<=n.width&&(n.x+=3,n.width-=6),6<=n.height&&(n.y+=3,n.height-=6);for(var o={width:n.width,height:0},l=0,h=0,d=20,f=0,u=0,g=0;g<e.length;g++){var c=(c=e[g].css)||s.toThemeProperty("jqx-chart-legend-text",null),d=20,m=e[g].text,_=a.measureText(m,0,{class:c});_.height>d&&(d=_.height),_.width>u&&(u=_.width),r?(0!=g&&(h+=d),h>n.height&&(h=0,l+=u+20+10,u=_.width,o.width=l+u)):(0!=l&&(l+=10),l+20+_.width>n.width&&_.width<n.width&&(l=0,h+=d,d=20,f=n.width,o.height=h+d));var p=!1;if(_.width>n.width){p=!0;for(var x=n.width,y=(L=m).split(/\s+/),v=[],N="",M=0;M<y.length;M++){var b=N+(0<N.length?" ":"")+y[M];N=(C=s.renderer.measureText(b,0,{class:c})).width>x&&0<b.length&&0<N.length?(v.push({text:N}),y[M]):b,M+1==y.length&&v.push({text:N})}for(var A=_.width=0,w=0;w<v.length;w++){var S=v[w].text,C=s.renderer.measureText(S,0,{class:c});_.width=Math.max(_.width,C.width),A+=_.height}_.height=A}var k=l+_.width<n.width&&h+_.height<t.height;if(s.legendLayout&&(k=n.x+l+_.width<s._rect.x+s._rect.width&&n.y+h+_.height<s._rect.y+s._rect.height),!i&&k){var D=e[g].seriesIndex,F=e[g].groupIndex,T=e[g].itemIndex,j=e[g].fillColor,O=e[g].lineColor,I=s._isSerieVisible(F,D,T),P=a.beginGroup(),q=I?e[g].opacity:.1;if(p){for(var L=m,x=n.width,y=L.split(/\s+/),R=0,v=[],N="",M=0;M<y.length;M++){b=N+(0<N.length?" ":"")+y[M];N=(C=s.renderer.measureText(b,0,{class:c})).width>x&&0<b.length&&0<N.length?(v.push({text:N,dy:R}),R+=C.height,y[M]):b,M+1==y.length&&v.push({text:N,dy:R})}for(w=0;w<v.length;w++){S=v[w].text,R=v[w].dy,C=s.renderer.measureText(S,0,{class:c});r?s.renderer.text(S,n.x+l+15,n.y+h+R,_.width,d,0,{class:c},!1,"left","center"):s.renderer.text(S,n.x+l+15,n.y+h+R,_.width,d,0,{class:c},!1,"center","center")}var G=a.rect(n.x+l,n.y+h+5+R/2,10,10);r&&(h+=R),s.renderer.attr(G,{fill:j,"fill-opacity":q,stroke:O,"stroke-width":1,"stroke-opacity":e[g].opacity})}else{G=a.rect(n.x+l,n.y+h+5,10,10);s.renderer.attr(G,{fill:j,"fill-opacity":q,stroke:O,"stroke-width":1,"stroke-opacity":e[g].opacity}),r?s.renderer.text(m,n.x+l+15,n.y+h,_.width,_.height+5,0,{class:c},!1,"left","center"):s.renderer.text(m,n.x+l+15,n.y+h,_.width,d,0,{class:c},!1,"center","center")}s.renderer.endGroup(),s._setLegendToggleHandler(F,D,T,P)}r||f<(l+=_.width+20)&&(f=l)}if(i)return o.height=ce.jqx._ptrnd(h+d+5),o.width=ce.jqx._ptrnd(f),o},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(e,t,i){for(;this._itemsToggleState.length<e+1;)this._itemsToggleState.push([]);for(var r=this._itemsToggleState[e];r.length<t+1;)r.push(!!isNaN(i)||[]);var s=r[t];if(isNaN(i))return s;for(ce.isArray(s)||(r[t]=s=[]);s.length<i+1;)s.push(!0);return s[i]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var r=0;r<i.length;r++)if(this._isSerieVisible(e,r)){t=!0;break}return t},_toggleSerie:function(e,t,i,r){var s=!this._isSerieVisible(e,t,i);null!=r&&(s=r);var a=this.seriesGroups[e],n=a.series[t];if(this._raiseEvent("toggle",{state:s,seriesGroup:a,serie:n,elementIndex:i}),isNaN(i))this._itemsToggleState[e][t]=s;else{var o=this._itemsToggleState[e][t];for(ce.isArray(o)||(o=[]);o.length<i;)o.push(!0);o[i]=s}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(t,i,r,e){var s,a=this.seriesGroups[t],n=a.series[i].enableSeriesToggle;null==n&&(n=0!=a.enableSeriesToggle),n&&(s=this).renderer.addHandler(e,"click",function(e){s._toggleSerie(t,i,r)})},_renderLegend:function(e,t){for(var i=this,r=[],s=0;s<i.seriesGroups.length;s++){var a=i.seriesGroups[s];if(0!=a.showLegend)for(var n=0;n<a.series.length;n++){var o=a.series[n];if(0!=o.showLegend){var l=i._getSerieSettings(s,n);if("pie"!=a.type&&"donut"!=a.type){var h=o.legendFormatSettings||a.legendFormatSettings,d=o.legendFormatFunction||a.legendFormatFunction,f=i._formatValue(o.displayText||o.dataField||"",h,d,s,n,NaN),u=i._getSeriesColors(s,n),g=this._get([o.legendFillColor,o.legendColor,u.fillColor]),c=this._get([o.legendLineColor,o.legendColor,u.lineColor]);r.push({groupIndex:s,seriesIndex:n,text:f,css:o.displayTextClass,fillColor:g,lineColor:c,opacity:l.opacity})}else for(var m=i._getXAxis(s),h=o.legendFormatSettings||a.legendFormatSettings||m.formatSettings||o.formatSettings||a.formatSettings,d=o.legendFormatFunction||a.legendFormatFunction||m.formatFunction||o.formatFunction||a.formatFunction,_=i._getDataLen(s),p=0;p<_;p++){f=i._getDataValue(p,o.displayText,s),f=i._formatValue(f,h,d,s,n,p);var u=i._getColors(s,n,p);r.push({groupIndex:s,seriesIndex:n,itemIndex:p,text:f,css:o.displayTextClass,fillColor:u.fillColor,lineColor:u.lineColor,opacity:l.opacity})}}}}return i._renderChartLegend(r,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,r,s,a,n,o,l){var h,d,f,u=this._getInterval(s[e],o),g=[];(""==e||s[e].visible&&"custom"!=s[e].visible)&&(g=this._generateIntervalValues(r,u,o,n,l)),"labels"!=e?(f=n?a.left:0,!n&&1<o&&(f=a.left*(o+1)),1==g.length&&(f*=2),h=this._valuesToOffsets(g,t,r,i,a,!1,f),n||(d=(a.left+a.right)*u/o,t.flip?h.unshift(h[0]+d):h.push(h[h.length-1]+d))):(f=a.left,1==g.length&&(f*=2),h=this._valuesToOffsets(g,t,r,i,a,n,f));var c=this._arraysToObjectsArray([g,h],["value","offset"]);if(t[e]&&t[e].custom)for(var m=this._objectsArraysToArray(t[e].custom,"value"),_=this._objectsArraysToArray(t[e].custom,"offset"),p=this._valuesToOffsets(m,t,r,i,a,n,a.left),x=0;x<t[e].custom.length;x++)c.push({value:m[x],offset:isNaN(_[x])?p[x]:_[x]});return c},_renderXAxis:function(e,t,i,r){var s=this,a=s._getXAxis(e),n=s.seriesGroups[e],o="horizontal"==n.orientation,l={width:0,height:0},h=s._getAxisSettings(a);if(!a||!h.visible||"spider"==n.type)return l;if(!s._isGroupVisible(e)||this._isPieGroup(e))return l;for(var d=s._alignValuesWithTicks(e);s._renderData.length<e+1;)s._renderData.push({});s.rtl&&(a.flip=!0);var f=o?t.height:t.width,u=a.text,g=s._calculateXOffsets(e,f),c=g.axisStats,m=a.rangeSelector,_=0;if(m){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";_=this._selectorGetSize(a)}var p=o&&"right"==a.position||!o&&"top"==a.position;!i&&m&&(o?(t.width-=_,"right"!=a.position&&(t.x+=_)):(t.height-=_,"top"==a.position&&(t.y+=_)));var x={rangeLength:g.rangeLength,itemWidth:g.itemWidth,intervalWidth:g.intervalWidth,data:g,settings:h,isMirror:p,rect:t};s._renderData[e].xAxis=x;var y=c.interval;if(isNaN(y))return l;o&&(h.title.angle-=90,h.labels.angle-=90);var v,N=this._getInterval(h.gridLines,y),M=this._getInterval(h.tickMarks,y),b=this._getInterval(h.labels,y),A=c.min,w=c.max,S=g.padding,C=1==a.flip||s.rtl,k={min:A,max:w};c.logAxis.enabled&&(k.min=c.logAxis.minPow,k.max=c.logAxis.maxPow),v="date"==a.type?(h.gridLines.offsets=this._generateDTOffsets(A,w,f,S,N,y,c.dateTimeUnit,d,NaN,!1,C),h.tickMarks.offsets=this._generateDTOffsets(A,w,f,S,M,y,c.dateTimeUnit,d,NaN,!1,C),this._generateDTOffsets(A,w,f,S,b,y,c.dateTimeUnit,d,NaN,!0,C)):(h.gridLines.offsets=this._getOffsets("gridLines",a,f,c,h,S,d,y),h.tickMarks.offsets=this._getOffsets("tickMarks",a,f,c,h,S,d,y),this._getOffsets("labels",a,f,c,h,S,d,y));var D;s.renderer.getRect().width,t.x,t.width,s._getDataLen(e);s._elementRenderInfo&&s._elementRenderInfo.length>e&&(D=s._elementRenderInfo[e].xAxis);var F,T,j=[];h.labels.formatFunction&&(F=h.labels.formatFunction),h.labels.formatSettings&&(T=ce.extend({},h.labels.formatSettings)),"date"==a.type&&(a.dateFormat&&!F?T?T.dateFormat=T.dateFormat||a.dateFormat:T={dateFormat:a.dateFormat}:F||T&&(!T||T.dateFormat)||(F=this._getDefaultDTFormatFn(a.baseUnit||"day")));for(var O=0;O<v.length;O++){var I,P,q=v[O].value,L=v[O].offset;isNaN(L)||(I=void 0,"date"!=a.type&&c.useIndeces&&a.dataField&&(I=Math.round(q),null==(q=s._getDataValue(I,a.dataField))&&(q="")),null!=(u=s._formatValue(q,T,F,e,void 0,I))&&""!=u.toString()||(isNaN(I)&&(I=O),I>=c.filterRange.min&&I<=c.filterRange.max&&(u=c.useIndeces?(c.min+I).toString():null==q?"":q.toString())),P={key:q,text:u,targetX:L,x:L},D&&D.itemOffsets[q]&&(P.x=D.itemOffsets[q].x,P.y=D.itemOffsets[q].y),j.push(P))}var R=s._getAnimProps(e),G=R.enabled&&j.length<500?R.duration:0;0==s.enableAxisTextAnimation&&(G=0);var V={items:j,renderData:x},E=s._renderAxis(o,p,h,{x:t.x,y:t.y,width:t.width,height:t.height},r,y,!1,!0,V,i,G);return o?E.width+=_:E.height+=_,E},_animateAxisText:function(e,t){for(var i=e.items,r=e.textSettings,s=0;s<i.length;s++){var a,n,o=i[s];o&&o.visible&&(a=o.targetX,n=o.targetY,isNaN(o.x)||isNaN(o.y)||(a=o.x+(a-o.x)*t,n=o.y+(n-o.y)*t),o.element&&(this.renderer.removeElement(o.element),o.element=void 0),o.element=this.renderer.text(o.text,a,n,o.width,o.height,r.angle,{class:r.style},!1,r.halign,r.valign,r.textRotationPoint))}},_getPolarAxisCoords:function(e,t){var i=this.seriesGroups[e],r=t.x+ce.jqx.getNum([i.offsetX,t.width/2]),s=t.y+ce.jqx.getNum([i.offsetY,t.height/2]),a=Math.min(t.width,t.height),n=i.radius;this._isPercent(n)&&(n=parseFloat(n)/100*a/2),isNaN(n)&&(n=a/2*.6);var o=this._alignValuesWithTicks(e),l=this._get([i.startAngle,i.minAngle,0])-90;l=isNaN(l)?0:2*Math.PI*l/360;var h,d=this._get([i.endAngle,i.maxAngle,360])-90;(d=isNaN(d)?2*Math.PI:2*Math.PI*d/360)<l&&(h=l,l=d,d=h);var f=ce.jqx._rnd(Math.abs(l-d)/(2*Math.PI),.001,!0),u=2*Math.PI*n*f,g=this._calcGroupOffsets(e,t).xoffsets;if(g){var c,m,_,p,x,y=!(1e-5<Math.abs(Math.abs(d-l)-2*Math.PI));return i.spider&&(m=(c=this._getXAxisStats(e,this._getXAxis(e),u)).interval,!isNaN(m)&&0!=m||(m=1),x=(c.max-c.min)/m+(y?1:0),2<(x=Math.round(x))&&(_=Math.cos(Math.abs(d-l)/2/x),0==(_=ce.jqx._rnd(_,.01))&&(_=1),n<(p=n/_)&&o&&(n=p))),{x:r,y:s,r:n=ce.jqx._ptrnd(n),adjR:this._get([p,n]),itemWidth:g.itemWidth,rangeLength:g.rangeLength,valuesOnTicks:o,startAngle:l,endAngle:d,isClosedCircle:y,axisSize:u}}},_toPolarCoord:function(e,t,i,r){var s=Math.abs(e.startAngle-e.endAngle)/(2*Math.PI),a=2*(i-t.x)*Math.PI*s/Math.max(1,t.width)+e.startAngle,n=(t.height+t.y-r)*e.r/Math.max(1,t.height),o=e.x+n*Math.cos(a),l=e.y+n*Math.sin(a);return{x:ce.jqx._ptrnd(o),y:ce.jqx._ptrnd(l)}},_renderSpiderAxis:function(e,t){var i=this,r=i._getXAxis(e),s=this._getAxisSettings(r);if(r&&s.visible){var a=i.seriesGroups[e],n=i._getPolarAxisCoords(e,t);if(n){var o=ce.jqx._ptrnd(n.x),l=ce.jqx._ptrnd(n.y),h=n.adjR,d=n.startAngle,f=n.endAngle;if(!(h<1)){var u=ce.jqx._rnd(Math.abs(d-f)/(2*Math.PI),.001,!0),g=2*Math.PI*h*u,c=n.isClosedCircle,m=this._renderData[e].xoffsets;if(m.rangeLength){var _=m.axisStats.interval;(isNaN(_)||_<1)&&(_=1);var p="horizontal"==a.orientation;for(p&&"right"==r.position||(p||r.position);i._renderData.length<e+1;)i._renderData.push({});var x={rangeLength:m.rangeLength,itemWidth:m.itemWidth,data:m,rect:t,settings:s};i._renderData[e].xAxis=x,i._renderData[e].polarCoords=n;for(var y=!0,v=0;v<e;v++){i._renderData[v].xAxis;var N=i._renderData[v].polarCoords,M=i._getXAxis(v),b=!1;for(var A in n)if(n[A]!=N[A]){b=!0;break}b&&M==r||(y=!1)}var w,S=s.gridLines,C=s.tickMarks,k=s.labels,D=this._getInterval(S,_),F=this._getInterval(C,_),T=this._getInterval(k,_),j=i._alignValuesWithTicks(e),O=i.renderer,I=m.axisStats,P=I.min,q=I.max,L=this._getPaddingSize(m.axisStats,r,j,g,!0,c,!1),R=1==r.flip||i.rtl,G="date"==r.type?(S.offsets=this._generateDTOffsets(P,q,g,L,D,_,r.baseUnit,!0,0,!1,R),C.offsets=this._generateDTOffsets(P,q,g,L,F,_,r.baseUnit,!0,0,!1,R),this._generateDTOffsets(P,q,g,L,T,_,r.baseUnit,!0,0,!0,R)):(s.gridLines.offsets=this._getOffsets("gridLines",r,g,I,s,L,!0,_),s.tickMarks.offsets=this._getOffsets("tickMarks",r,g,I,s,L,!0,_),this._getOffsets("labels",r,g,I,s,L,!0,_));i.renderer.getRect().width,t.x,t.width,i._getDataLen(e);i._elementRenderInfo&&i._elementRenderInfo.length>e&&(w=i._elementRenderInfo[e].xAxis);for(var V=[],E=this._getDataLen(e),v=0;v<G.length;v++){var H=G[v].offset,B=G[v].value;if("date"!=r.type&&I.useIndeces&&r.dataField){var z=Math.round(B);if(E<=z)continue;null==(B=i._getDataValue(z,r.dataField))&&(B="")}var W=i._formatValue(B,k.formatSettings,k.formatFunction,e,void 0,z);null!=W&&""!=W.toString()||(W=I.useIndeces?(I.min+v).toString():null==B?"":B.toString());var X={key:B,text:W,targetX:H,x:H};w&&w.itemOffsets[B]&&(X.x=w.itemOffsets[B].x,X.y=w.itemOffsets[B].y),V.push(X)}var U,Y,Z={stroke:S.color,fill:"none","stroke-width":S.width,"stroke-dasharray":S.dashStyle||""};a.spider||(1==u?O.circle(o,l,h,Z):(U=-d/Math.PI*180,Y=-f/Math.PI*180,this.renderer.pieslice(o,l,0,h,Math.min(U,Y),Math.max(U,Y),void 0,Z)));var J=V.length,Q=(Math.PI,d);if(S.visible&&y){j||c||S.offsets.unshift({offset:-L.right});for(v=0;v<S.offsets.length;v++){var K,$,ee=S.offsets[v].offset;j||(ee+=c?L.right/2:L.right),.01<(oe=Q+2*ee*Math.PI*u/Math.max(1,g))-f||(K=ce.jqx._ptrnd(o+h*Math.cos(oe)),$=ce.jqx._ptrnd(l+h*Math.sin(oe)),O.line(o,l,K,$,Z))}}if(C.visible&&y){var te={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};j||c||C.offsets.unshift({offset:-L.right});for(v=0;v<C.offsets.length;v++){var ie,re,ee=C.offsets[v].offset;j||(ee+=c?L.right/2:L.right),.01<(oe=Q+2*ee*Math.PI*u/Math.max(1,g))-f||(ie={x:o+h*Math.cos(oe),y:l+h*Math.sin(oe)},re={x:o+(h+5)*Math.cos(oe),y:l+(h+5)*Math.sin(oe)},O.line(ce.jqx._ptrnd(ie.x),ce.jqx._ptrnd(ie.y),ce.jqx._ptrnd(re.x),ce.jqx._ptrnd(re.y),te))}}var se=[];if(a.spider){var ae=[],ae="date"==r.type?this._generateDTOffsets(P,q,g,L,_,_,r.baseUnit,!0,0,!1,R):this._getOffsets("",r,g,I,s,L,!0,_);j||c||ae.unshift({offset:-L.right});for(v=0;v<ae.length;v++){ee=ae[v].offset;j||(ee+=c?L.right/2:L.right),.01<(oe=Q+2*ee*Math.PI*u/Math.max(1,g))-f||se.push(oe)}x.offsetAngles=se}var ne=(ne=i._renderSpiderValueAxis(e,t,j?n.adjR:n.r,se))||[];if(a.spider){if(!j)for(v=0;v<ne.length;v++)ne[v]=ne[v]*n.adjR/n.r;ne.push(h),this._renderSpiderLines(o,l,ne,n,se,Z)}if(y&&k.visible){x.polarLabels=[];for(var oe,v=0;v<V.length;v++){(oe=(360-(oe=Q+2*(ee=V[v].x)*Math.PI*u/Math.max(1,g))/(2*Math.PI)*360)%360)<0&&(oe=360+oe);var le,he,de=O.measureText(V[v].text,0,{class:s.labels.style}),fe=(j?n.adjR:n.r)+(C.visible?7:2),ue=s.labels,ge=ue.autoRotate?(le=ce.jqx._ptRotate(o-de.width/2,l-fe-de.height,o,l,-oe/180*Math.PI),he=ce.jqx._ptRotate(o+de.width/2,l-fe,o,l,-oe/180*Math.PI),de.width=Math.abs(le.x-he.x),de.height=Math.abs(le.y-he.y),{x:Math.min(le.x,he.x),y:Math.min(le.y,he.y)}):this._adjustTextBoxPosition(o,l,de,fe,oe,!1,!1,!1);x.polarLabels.push({x:ge.x,y:ge.y,value:V[v].text}),O.text(V[v].text,ge.x,ge.y,de.width,de.height,ue.autoRotate?90-oe:ue.angle,{class:ue.style},!1,ue.halign,ue.valign)}}}}}}},_renderSpiderLines:function(e,t,i,r,s,a){for(var n=this.renderer,o=(r.startAngle,r.endAngle,r.isClosedCircle),l=0;l<i.length;l++){for(var h=i[l],d=void 0,f=void 0,u=0;u<s.length;u++){var g=s[u],c=ce.jqx._ptrnd(e+h*Math.cos(g)),m=ce.jqx._ptrnd(t+h*Math.sin(g));d&&n.line(d.x,d.y,c,m,a),d={x:c,y:m},f=f||{x:c,y:m}}f&&o&&n.line(d.x,d.y,f.x,f.y,a)}},_renderSpiderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a=this._getPolarAxisCoords(e,t);if(a){var n=ce.jqx._ptrnd(a.x),o=ce.jqx._ptrnd(a.y);i=i||a.r;var l=a.startAngle,h=a.endAngle,d=ce.jqx._rnd(Math.abs(l-h)/(2*Math.PI),.001,!0);if(!(i<1)){i=ce.jqx._ptrnd(i);var f=this._getValueAxis(e),u=this._getAxisSettings(f);if(f&&0!=u.visible){var g=this._stats.seriesGroups[e].mu,c=u.labels,m=c.formatSettings;-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100")&&!m&&(m={sufix:"%"});var _=this._get([c.step,c.unitInterval/g]);isNaN(_)&&(_=1),_=Math.max(1,Math.round(_)),this._calcValueAxisItems(e,i,_);var p,x,y,v=u.gridLines,N=u.tickMarks,M=(this._getInterval(v,g),this._getInterval(N,g),u.labels),b={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},A=this._renderData[e].valueAxis,w=A.items,S=l;w.length&&u.line.visible&&(isNaN(u.line.angle)||(S=2*Math.PI*u.line.angle/360),p=n+Math.cos(S)*i,x=o+Math.sin(S)*i,-1==r.indexOf(S)&&((y=ce.extend({},b))["stroke-width"]=u.line.lineWidth,y.stroke=u.line.color,y["stroke-dasharray"]=u.line.dashStyle,this.renderer.line(n,o,p,x,y))),w=w.reverse();var C=this.renderer;A.polarLabels=[];for(var k=0;k<w.length-1;k++){var D,F,T,j=w[k];isNaN(j)||(D=M.formatFunction?M.formatFunction(j):this._formatNumber(j,m),F=C.measureText(D,0,{class:M.style}),T=n+(0!=f.showTickMarks?3:2),V=o-A.itemWidth*k-F.height/2,W=ce.jqx._ptRotate(T,V,n,o,S),X=ce.jqx._ptRotate(T+F.width,V+F.height,n,o,S),T=Math.min(W.x,X.x),V=Math.min(W.y,X.y),F.width=Math.abs(W.x-X.x),F.height=Math.abs(W.y-X.y),T+=u.labels.textOffset.x,V+=u.labels.textOffset.y,A.polarLabels.push({x:T,y:V,value:D}),C.text(D,T,V,F.width,F.height,M.autoRotate?90+180*l/Math.PI:M.angle,{class:M.style},!1,M.halign,M.valign))}var O=1==f.logarithmicScale?w.length:A.rangeLength,I=(Math.PI,0!=f.valuesOnTicks),P=this._stats.seriesGroups[e],q=P.mu,L=1==f.logarithmicScale;f.logarithmicScaleBase;L&&(q=1);var R={min:P.min,max:P.max,logAxis:{enabled:1==L,base:f.logarithmicScaleBase,minPow:P.minPow,maxPow:P.maxPow}};(v.visible||s.spider||f.alternatingBackgroundColor||f.alternatingBackgroundColor2)&&(v.offsets=this._getOffsets("gridLines",f,i,R,u,{left:0,right:0},I,q));var G=[];if(v.visible||s.spider)for(var V,E,H,b={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},k=0;k<v.offsets.length;k++){(V=ce.jqx._ptrnd(v.offsets[k].offset))!=i&&(s.spider?G.push(V):1!=d?(E=-l/Math.PI*180,H=-h/Math.PI*180,this.renderer.pieslice(n,o,0,V,Math.min(E,H),Math.max(E,H),void 0,b)):C.circle(n,o,V,b))}if(f.tickMarks&&(f.tickMarks.visible||f.showTickMarks)||(N.visible=!1),N.visible){N.offsets=this._getOffsets("tickMarks",f,i,R,u,{left:0,right:0},I,q);for(var B=2*N.size,b={stroke:N.color,fill:"none","stroke-width":1,"stroke-dasharray":N.dashStyle||""},k=0;k<N.offsets.length;k++){var z=N.offsets[k].offset,W={x:n+z*Math.cos(S)-B/2*Math.sin(S+Math.PI/2),y:o+z*Math.sin(S)-B/2*Math.cos(S+Math.PI/2)},X={x:n+z*Math.cos(S)+B/2*Math.sin(S+Math.PI/2),y:o+z*Math.sin(S)+B/2*Math.cos(S+Math.PI/2)};C.line(ce.jqx._ptrnd(W.x),ce.jqx._ptrnd(W.y),ce.jqx._ptrnd(X.x),ce.jqx._ptrnd(X.y),b)}}return G}}}},_renderAxis:function(e,t,i,r,s,a,n,o,l,h,d){if(i.customDraw&&!h)return{width:NaN,height:NaN};var f=i.title,u=i.labels,g=(i.gridLines,i.tickMarks),c=i.padding,m=g.visible?g.size:0,_={width:0,height:0},p={width:0,height:0};e?_.height=p.height=r.height:_.width=p.width=r.width,!h&&t&&e&&(r.x-=r.width);var x,y=l.renderData,v=y.itemWidth;f.visible&&null!=f.text&&""!=f&&(x=f.angle,I=this.renderer.measureText(f.text,x,{class:f.style}),p.width=I.width,p.height=I.height,h||this.renderer.text(f.text,r.x+f.offset.x+(e?t?-c.right-2+2*r.width-p.width:2+c.left:0),r.y+f.offset.y+(e?0:t?c.top+2:r.height-2-p.height-c.bottom),e?p.width:r.width,e?r.height:p.height,x,{class:f.style},!0,f.halign,f.valign,f.rotationPoint));var N=0,M=o?-v/2:0;o&&!e&&(u.halign="center");var b=r.x,A=r.y,w=u.textOffset;w&&(isNaN(w.x)||(b+=w.x),isNaN(w.y)||(A+=w.y)),e?(b+=c.left+2+(0<p.width?p.width+2:0)+(t?r.width-p.width:0),A+=M):(b+=M,t?(A+=0<p.height?p.height+6:4,A+=m-(o?m:m/4)):A+=o?m:m/4,A+=c.top);var S=0,C=0,k=l.items;y.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(d=0);for(var D,F,T=!1,j=0,O=0;O<k.length&&u.visible;O++,N+=v)if(k[O]&&!isNaN(v)){var I,P=k[O].text;if(isNaN(k[O].targetX)||(N=k[O].targetX),(I=this.renderer.measureText(P,u.angle,{class:u.style})).width>C&&(C=I.width),I.height>S&&(S=I.height),j+=e?S:C,!h){if(e&&N>r.height+2||!e&&N>r.width+2)continue;var q=e?b+(t?0==p.width?m:m-2:0):b+N,L=e?A+N:A;y.itemOffsets[k[O].key]={x:q,y:L},T||isNaN(k[O].x)&&(isNaN(k[O].y)||!d)||(T=!0),k[O].targetX=q,k[O].targetY=L,k[O].width=e?r.width-c.left-c.right-4-m-(0<p.width?p.width+2:0):v,k[O].height=e?v:r.height-c.top-c.bottom-4-m-(0<p.height?p.height+2:0),k[O].visible=!0}}y.avgWidth=0==k.length?0:j/k.length,h||(D={items:k,textSettings:u},!isNaN(d)&&T||(d=0),this._animateAxisText(D,0==d?1:0),0!=d&&(F=this)._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){F._animateAxisText(t,i)},D)),_.width+=4+m+p.width+C+(e&&0<p.width?2:0),_.height+=4+m+p.height+S+(!e&&0<p.height?2:0),e?_.width+=c.left+c.right:_.height+=c.top+c.bottom;var R;return!h&&i.line.visible&&(R={stroke:i.line.color,"stroke-width":i.line.width,"stroke-dasharray":i.line.dashStyle||""},e?(q=r.x+r.width+(t?c.left:-c.right),q=ce.jqx._ptrnd(q),this.renderer.line(q,r.y,q,r.y+r.height,R)):(L=ce.jqx._ptrnd(r.y+(t?r.height-c.bottom:c.top)),this.renderer.line(ce.jqx._ptrnd(r.x),L,ce.jqx._ptrnd(r.x+r.width+1),L,R))),_.width=ce.jqx._rup(_.width),_.height=ce.jqx._rup(_.height),_},_drawPlotAreaLines:function(e,t,i){var r=this.seriesGroups[e],s="horizontal"!=r.orientation;if(this._renderData&&!(this._renderData.length<=e)){var a=t?"valueAxis":"xAxis",n=this._renderData[e][a];if(n){var o=(o=this._renderData.axisDrawState)||(this._renderData.axisDrawState={}),l="",h=t?(l="valueAxis_"+(r.valueAxis?e:"")+(s?"swap":""),this._getValueAxis(e)):(l="xAxis_"+(r.xAxis||r.categoryAxis?e:"")+(s?"swap":""),this._getXAxis(e));o=o[l]?o[l]:o[l]={},t||(s=!s);var d=n.settings;if(d&&!d.customDraw){var f=d.gridLines,u=d.tickMarks,g=d.padding,c=n.rect,m=this._plotRect;if(f&&u){var _={},p={stroke:f.color,"stroke-width":f.width,"stroke-dasharray":f.dashStyle||""},x=t?c.y+c.height:c.x,y=f.offsets;if(t&&!h.flip&&(y=(y=ce.extend([],y)).reverse()),y&&0<y.length)for(var v,N,M,b=NaN,A=(y.length,0);A<y.length;A++){s?((v=ce.jqx._ptrnd(c.y+y[A].offset))<c.y-.5&&(v=ce.jqx._ptrnd(c.y)),v>c.y+c.height&&(v=c.y+c.height)):(v=ce.jqx._ptrnd(c.x+y[A].offset))>c.x+c.width+.5&&(v=ce.jqx._ptrnd(c.x+c.width)),isNaN(v)||!isNaN(b)&&Math.abs(v-b)<2||(b=v,i.gridLines&&0!=f.visible&&1!=o.gridLines&&(s?this.renderer.line(ce.jqx._ptrnd(m.x),v,ce.jqx._ptrnd(m.x+m.width),v,p):this.renderer.line(v,ce.jqx._ptrnd(m.y),v,ce.jqx._ptrnd(m.y+m.height),p)),_[v]=!0,i.alternatingBackground&&(f.alternatingBackgroundColor||f.alternatingBackgroundColor2)&&1!=o.alternatingBackground&&(N=A%2==0?f.alternatingBackgroundColor2:f.alternatingBackgroundColor,0<A&&N&&(M=s?this.renderer.rect(ce.jqx._ptrnd(m.x),x,ce.jqx._ptrnd(m.width-1),v-x,p):this.renderer.rect(x,ce.jqx._ptrnd(m.y),v-x,ce.jqx._ptrnd(m.height),p),this.renderer.attr(M,{"stroke-width":0,fill:N,opacity:f.alternatingBackgroundOpacity||1}))),x=v)}p={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""};if(i.tickMarks&&u.visible&&1!=o.tickMarks)for(var w=u.size,y=u.offsets,b=NaN,A=0;A<y.length;A++)if(s?((v=ce.jqx._ptrnd(c.y+y[A].offset))<c.y-.5&&(v=ce.jqx._ptrnd(c.y)),v>c.y+c.height&&(v=c.y+c.height)):(v=ce.jqx._ptrnd(c.x+y[A].offset))>c.x+c.width+.5&&(v=ce.jqx._ptrnd(c.x+c.width)),!isNaN(v)&&(isNaN(b)||!(Math.abs(v-b)<2))){if(_[v-1]?v--:_[v+1]&&v++,s){if(v>c.y+c.height+.5)break}else if(v>c.x+c.width+.5)break;b=v;var S,C,k=n.isMirror?w:-w;s?(S=c.x+c.width+("right"==h.position?g.left:-g.right),t||(S=c.x+(n.isMirror?g.left:-g.right+c.width)),this.renderer.line(S,v,S+k,v,p)):(C=c.y+(n.isMirror?c.height:0),C+=n.isMirror?-g.bottom:g.top,C=ce.jqx._ptrnd(C),this.renderer.line(v,C,v,C-k,p))}o.tickMarks=o.tickMarks||i.tickMarks,o.gridLines=o.gridLines||i.gridLines,o.alternatingBackground=o.alternatingBackground||i.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var r=this._stats.seriesGroups[e];if(!r||!r.isValid)return!1;var s=this.seriesGroups[e],a=(s.orientation,this._getValueAxis(e)),n=0!=a.valuesOnTicks,o=(a.dataField,r.intervals),l=t/o,h=r.min,d=r.mu,f=1==a.logarithmicScale,u=a.logarithmicScaleBase||10,g=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");for(f&&(d=isNaN(a.unitInterval)?1:a.unitInterval),n||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var c=this._renderData[e].valueAxis;c.itemWidth=c.intervalWidth=l,c.items=[];for(var m=c.items,_=0;_<=o;_++){var p=0,p=f?g?r.max/Math.pow(u,o-_):h*Math.pow(u,_):n?h+_*d:h+(_+.5)*d;_%i==0?m.push(p):m.push(NaN)}return c.rangeLength=f&&!g?r.intervals:r.intervals*d,1!=a.flip&&(m=m.reverse()),!0},_getDecimalPlaces:function(e,t,i){var r=0;isNaN(i)&&(i=10);for(var s=0;s<e.length;s++){var a=void 0===t?e[s]:e[s][t];if(!isNaN(a)){for(var n=a.toString(),o=0;o<n.length;o++)if((n[o]<"0"||"9"<n[o])&&0<=(r=n.length-(o+1)))return Math.min(r,i);for(0<r&&(a*=Math.pow(10,r));Math.round(a)!=a&&r<i;)r++,a*=10}}return r},_renderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a="horizontal"==s.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==s.type)return o;var l=0!=n.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,f=1==n.logarithmicScale,u=n.logarithmicScaleBase||10;if(f&&(d=isNaN(n.unitInterval)?1:n.unitInterval),0==d&&(d=1),isNaN(d))return o;var g=this._getAxisSettings(n),c=g.title,m=g.labels,_=n.labels||{};this._get([n.horizontalTextAlignment,_.horizontalAlignment])||0!=m.angle||(m.halign=a?"center":"right"==n.position?"left":"right");var p=this._get([m.step,m.unitInterval/d]);if(isNaN(p)&&(p=1),p=Math.max(1,Math.round(p)),!this._calcValueAxisItems(e,a?t.width:t.height,p)||!g.visible)return o;a||(c.angle=this.rtl?90:-90,"centercenter"==c.rotationPoint&&("top"==c.valign?c.rotationPoint="rightcenter":"bottom"==c.valign&&(c.rotationPoint="leftcenter")));var x=this._renderData[e].valueAxis,y=m.formatSettings;-1==s.type.indexOf("stacked")||-1==s.type.indexOf("100")||y||(y={sufix:"%"}),m.formatFunction||y&&y.decimalPlaces||((y=y||{}).decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3));var v=g.gridLines,N=(f||this._getInterval(v,d),a?t.width:t.height),M=1==n.flip;n.flip=!M;var b={min:h.min,max:h.max,logAxis:{enabled:1==f,base:u,minPow:h.minPow,maxPow:h.maxPow}};(v.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(v.offsets=this._getOffsets("gridLines",n,N,b,g,{left:0,right:0},l,d));var A=g.tickMarks;A.visible&&(A.offsets=this._getOffsets("tickMarks",n,N,b,g,{left:0,right:0},l,d));var w=this._getOffsets("labels",n,N,b,g,{left:0,right:0},l,d,!l);n.flip=M;var S,C=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(S=this._elementRenderInfo[e].valueAxis);for(var k=0;k<w.length;k++){var D,F=w[k].value;isNaN(w[k].offset)?C.push(void 0):(D={key:F,text:m.formatFunction?m.formatFunction(F):isNaN(F)?F:this._formatNumber(F,y)},S&&S.itemOffsets[F]&&(D.x=S.itemOffsets[F].x,D.y=S.itemOffsets[F].y),D.targetX=w[k].offset,isNaN(D.targetX)||C.push(D))}var T=a&&"top"==n.position||!a&&"right"==n.position||!a&&this.rtl&&"left"!=n.position,j={items:C,renderData:x},O=this._getAnimProps(e),I=O.enabled&&C.length<500?O.duration:0;return 0==this.enableAxisTextAnimation&&(I=0),x.settings=g,x.isMirror=T,x.rect=t,this._renderAxis(!a,T,g,t,r,d,f,!0,j,i,I)},_objectsArraysToArray:function(e,t){var i=[];if(!ce.isArray(e))return i;for(var r=0;r<e.length;r++)i.push(e[r][t]);return i},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++)i.length<=s&&i.push({}),i[s][t[r]]=e[r][s];return i},_valuesToOffsets:function(e,t,i,r,s,a,n){var o=[];if(!t||!ce.isArray(e))return o;var l,h=i.logAxis.base,d=i.logAxis.enabled?"logarithmic":"linear",f=t.flip,u=0,g=0;s&&!isNaN(s.left)&&(u=s.left),s&&!isNaN(s.right)&&(g=s.right),r=l=r-u-g;for(var c=0;c<e.length;c++){var m=this._jqxPlot.scale(e[c],{min:i.min.valueOf(),max:i.max.valueOf(),type:d,base:h},{min:0,max:a?r:l,flip:f},{});isNaN(m)?o.push(NaN):(isNaN(n)||(m+=n),m<=r+u+g+1?o.push(ce.jqx._ptrnd(m)):o.push(NaN))}return o},_generateIntervalValues:function(e,t,i,r,s){var a=[],n=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,o=e.logAxis.maxPow),null==n||null==o)return a;if(n==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;i<1&&(n*=l=1e6,o*=l,i*=l);for(var h=n;h<=o;h+=i)a.push(h/l+(s?i/2:0));if(i<t){for(var d=[],f=Math.round(t/i),h=0;h<a.length;h++)h%f==0&&d.push(a[h]);a=d}if(e.logAxis&&e.logAxis.enabled)for(h=0;h<a.length;h++)a[h]=Math.pow(e.logAxis.base,a[h]);return a},_generateDTOffsets:function(e,t,i,r,s,a,n,o,l,h,d){n=n||"day";var f=[];if(t<e)return f;if(e==t)return h?f.push({offset:o?i/2:r.left,value:e}):o&&f.push({offset:i/2,value:e}),f;var u=i-r.left-r.right,g=e,c=r.left,m=c,_=a=Math.max(a,1),p=Math.min(1,a);for(1<a&&"millisecond"!=n&&(a=1);ce.jqx._ptrnd(m)<=ce.jqx._ptrnd(r.left+u+(o?0:r.right));){f.push({offset:m,value:g});var x,y=new Date(g.valueOf());"millisecond"==n?y.setMilliseconds(g.getMilliseconds()+a):"second"==n?y.setSeconds(g.getSeconds()+a):"minute"==n?y.setMinutes(g.getMinutes()+a):"hour"==n?(x=y.valueOf(),y.setHours(g.getHours()+a),x==y.valueOf()&&y.setHours(g.getHours()+a+1)):"day"==n?y.setDate(g.getDate()+a):"month"==n?y.setMonth(g.getMonth()+a):"year"==n&&y.setFullYear(g.getFullYear()+a),m=c+((g=y).valueOf()-e.valueOf())*p/(t.valueOf()-e.valueOf())*u}if(d)for(var v=0;v<f.length;v++)f[v].offset=i-f[v].offset;if(1<_&&"millisecond"!=n){for(var N=[],v=0;v<f.length;v+=_)N.push({offset:f[v].offset,value:f[v].value});f=N}if(!o&&!h&&1<f.length){(N=[]).push({offset:0,value:void 0});for(v=1;v<f.length;v++)N.push({offset:f[v-1].offset+(f[v].offset-f[v-1].offset)/2,value:void 0});var M=N.length;1<M?N.push({offset:N[M-1].offset+(N[M-1].offset-N[M-2].offset)}):N.push({offset:i,value:void 0}),f=N}if(a<s){for(var N=[],b=Math.round(s/_),v=0;v<f.length;v++)v%b==0&&N.push({offset:f[v].offset,value:f[v].value});f=N}return f},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var r=-1!=i.type.indexOf("waterfall"),s=this._getDataLen(e),a=!1,n=[],o=0;o<i.series.length;o++)n[o]=this._isSerieVisible(e,o);for(var l=0;l<s;l++){var h=void 0;r||(a=!1);for(var d=0;d<i.series.length;d++)if(n[d]){var f=this._getDataValueAsNumber(l,i.series[d].dataField,e);if(!isNaN(f)){if(i.series[d].summary)if(void 0!==this._getDataValue(l,i.series[d].summary,e))continue;var u=a?f<0:f<t,a=!0;if(null==h&&(h=u),u!=h)return!0;h=u,0}}}return!1},_getValueAxis:function(e){return null!=e&&this.seriesGroups[e].valueAxis||this.valueAxis||(this.valueAxis={})},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var r=this.seriesGroups[i];t.seriesGroups[i]={};var s=this._getXAxis(i),a=this._getValueAxis(i),n=this._getXAxisStats(i,s,"horizontal"!=r.orientation?e.width:e.height);(B=t.seriesGroups[i]).isValid=!0;var o="horizontal"==r.orientation?e.width:e.height,l=1==a.logarithmicScale,h=a.logarithmicScaleBase;isNaN(h)&&(h=10);var d=-1!=r.type.indexOf("stacked"),f=d&&-1!=r.type.indexOf("100"),u=-1!=r.type.indexOf("range"),g=-1!=r.type.indexOf("waterfall");if(g&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";f&&(B.psums=[],B.nsums=[]);var c=NaN,m=NaN,_=NaN,p=NaN,x=a?a.baselineValue:NaN;isNaN(x)&&(x=l&&!f?1:0);var y=!1;0!=x&&d&&(y=this._hasStackValueReversal(i,x))&&(x=0),d&&g&&(y=this._hasStackValueReversal(i,x));var v=this._getDataLen(i),N=0,M=NaN,b=[];if(g)for(var A=0;A<r.series.length;A++)b.push(NaN);for(var w=NaN,S=0;S<v&&B.isValid;S++){if(s.rangeSelector){var C=s.dataField?this._getDataValue(S,s.dataField,i):S;if(C&&n.isDateTime&&(C=this._castAsDate(C,s.dateFormat)),n.useIndeces&&(C=S),C&&(C.valueOf()<n.min.valueOf()||C.valueOf()>n.max.valueOf()))continue}var k=a.minValue,D=a.maxValue;a.baselineValue&&(k=isNaN(k)?x:Math.min(x,k),D=isNaN(D)?x:Math.max(x,D));for(var F=0,T=0,A=0;r.series&&A<r.series.length;A++)if(this._isSerieVisible(i,A)){var j=NaN,O=NaN,I=NaN;if(-1!=r.type.indexOf("candle")||-1!=r.type.indexOf("ohlc")){var P=["Open","Low","Close","High"];for(var q in P){var L=this._getDataValueAsNumber(S,r.series[A]["dataField"+P[q]],i);isNaN(L)||(I=isNaN(O)?L:Math.min(I,L),O=isNaN(O)?L:Math.max(O,L))}}else if(u)var R=this._getDataValueAsNumber(S,r.series[A].dataFieldFrom,i),G=this._getDataValueAsNumber(S,r.series[A].dataFieldTo,i),O=Math.max(R,G),I=Math.min(R,G);else{if(j=this._getDataValueAsNumber(S,r.series[A].dataField,i),g){if(this._isSummary(i,S))if(void 0!==this._getDataValue(S,r.series[A].summary,i))continue;d?(isNaN(w)||(j+=w),w=j):(isNaN(b[A])?b[A]=j:j+=b[A],b[A]=j)}if(isNaN(j)||l&&j<=0)continue;I=O=j}(isNaN(D)||D<O)&&(isNaN(a.maxValue)||O<=a.maxValue)&&(D=O),(isNaN(k)||I<k)&&(isNaN(a.minValue)||I>=a.minValue)&&(k=I),isNaN(j)||!d||g||(x<j?F+=j:j<x&&(T+=j))}if(f||(isNaN(a.maxValue)||(F=Math.min(a.maxValue,F)),isNaN(a.minValue)||(T=Math.max(a.minValue,T))),l&&f)for(var V,A=0;A<r.series.length;A++){this._isSerieVisible(i,A)?(j=this._getDataValueAsNumber(S,r.series[A].dataField,i),isNaN(j)||j<=0?M=.01:(V=0==F?0:j/F,(isNaN(M)||V<M)&&(M=V))):M=.01}var E=F-T;N<E&&(N=E),f&&(B.psums[S]=F,B.nsums[S]=T),(m<D||isNaN(m))&&(m=D),(k<c||isNaN(c))&&(c=k),(_<F||isNaN(_))&&(_=F),(T<p||isNaN(p))&&(p=T)}f&&(_=0==_?0:Math.max(_,-p),p=0==p?0:Math.min(p,-_)),c==m&&(!isNaN(a.minValue)&&isNaN(a.maxValue)?(c=a.minValue,m=l?c*h:c+1):isNaN(a.minValue)&&!isNaN(a.maxValue)&&(m=a.maxValue,c=l?m/h:m-1)),c==m&&(0==c?(c=-1,m=1):c<0?m=0:l?1==c&&(c/=h,m*=h):c=0);var H={gmin:c,gmax:m,gsumP:_,gsumN:p,gbase:x,isLogAxis:l,logBase:h,minPercent:M,gMaxRange:N,isStacked:d,isStacked100:f,isWaterfall:g,hasStackValueReversal:y,valueAxis:a,valueAxisSize:o};H.isStacked&&(H.gsumN<0&&(H.gmin=Math.min(H.gmin,H.gbase+H.gsumN)),0<H.gsumP&&(H.gmax=Math.max(H.gmax,H.gbase+H.gsumP))),B.context=H}this._mergeCommonValueAxisStats();for(var B,S=0;S<t.seriesGroups.length;S++){if((B=t.seriesGroups[S]).isValid){var z=this._calcOutputGroupStats(B.context);for(var q in z)B[q]=z[q];delete B.context}}},_mergeCommonValueAxisStats:function(){for(var e,t={},i=0;i<this.seriesGroups.length;i++){this._isGroupVisible(i)&&(this.seriesGroups[i].valueAxis||(e=this._stats.seriesGroups[i].context,t.gbase=e.gbase,(isNaN(t.gmin)||e.gmin<t.gmin)&&(t.gmin=e.gmin),(isNaN(t.gmax)||e.gmax>t.gmax)&&(t.gmax=e.gmax),(isNaN(t.gsumP)||e.gsumP>t.gsumP)&&(t.gsumP=e.gsumP),(isNaN(t.gsumN)||e.gsumN<t.gsumN)&&(t.gsumN=e.gsumN),(isNaN(t.logBase)||e.logBase<t.logBase)&&(t.logBase=e.logBase),(isNaN(t.minPercent)||e.minPercent<t.minPercent)&&(t.minPercent=e.minPercent),0<t.gsumN&&(t.gmin=Math.min(t.gmin,t.gbase+t.gsumN)),0<t.gsumP&&(t.gmax=Math.max(t.gmax,t.gbase+t.gsumP))))}for(i=0;i<this.seriesGroups.length;i++)if(!this.seriesGroups[i].valueAxis){var r=this._stats.seriesGroups[i].context;for(var s in t)r[s]=t[s]}},_calcOutputGroupStats:function(e){var t=e.gmin,i=e.gmax,r=e.gsumP,s=e.gsumN,a=e.gbase,n=e.isLogAxis,o=e.logBase,l=e.minPercent,h=e.gMaxRange,d=e.isStacked,f=e.isStacked100,u=e.isWaterfall,g=e.hasStackValueReversal,c=e.valueAxis,m=e.valueAxisSize,_=(_=e.valueAxis.unitInterval)||this._calcInterval(t,i,Math.max(m/80,2));t==i&&(t=a,i*=2);var p=NaN,x=0,y=0;if(n){if(f){p=0;for(var v=1,x=y=ce.jqx.log(100,o);l<v;)v/=o,x--,p++;t=Math.pow(o,x)}else d&&!u&&(i=Math.max(i,r)),y=ce.jqx._rnd(ce.jqx.log(i,o),1,!0),i=Math.pow(o,y),x=ce.jqx._rnd(ce.jqx.log(t,o),1,!1),t=Math.pow(o,x);_=o}t<s&&(s=t),r<i&&(r=i);var N=t,M=i;if(n||0!=Math.abs(M-N)%_&&(N=ce.jqx._rnd(t,_,!1),M=ce.jqx._rnd(i,_,!0)),f&&100<M&&(M=100),f&&!n&&(M=0<M?100:0,N=N<0?-100:0,_=c.unitInterval,(isNaN(_)||_<=0||100<=_)&&(_=10),100%_!=0))for(;1<=_&&100%_!=0;_--);return isNaN(M)||isNaN(N)||isNaN(_)?{}:(isNaN(p)&&(p=parseInt(((M-N)/(0==_?1:_)).toFixed())),n&&!f&&(p=y-x,h=Math.pow(o,p)),p<1?{}:{min:N,max:M,logarithmic:n,logBase:o,base:n?N:a,minPow:x,maxPow:y,sumP:r,sumN:s,mu:_,maxRange:h,intervals:p,hasStackValueReversal:g})},_getDataLen:function(e){var t=this.source;return null!=e&&-1!=e&&this.seriesGroups[e].source&&(t=this.seriesGroups[e].source),t instanceof ce.jqx.dataAdapter&&(t=t.records),t?t.length:0},_getDataValue:function(e,t,i){var r=this.source;if(null!=i&&-1!=i&&(r=this.seriesGroups[i].source||r),r instanceof ce.jqx.dataAdapter&&(r=r.records),!(!r||e<0||e>r.length-1))return ce.isFunction(t)?t(e,r):t&&""!=t?r[e][t]:r[e]},_getDataValueAsNumber:function(e,t,i){var r=this._getDataValue(e,t,i);return this._isDate(r)?r.valueOf():("number"!=typeof r&&(r=parseFloat(r)),"number"!=typeof r&&(r=void 0),r)},_isPieGroup:function(e){var t=this.seriesGroups[e];return!(!t||!t.type)&&(-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"))},_renderPieSeries:function(e,t){for(var i=this._getDataLen(e),r=this.seriesGroups[e],s=this._calcGroupOffsets(e,t).offsets,a=0;a<r.series.length;a++){var n=r.series[a];if(!n.customDraw){var o=this._getSerieSettings(e,a),l=(n.colorScheme||r.colorScheme||this.colorScheme,this._getAnimProps(e,a)),h=l.enabled&&i<5e3&&!this._isToggleRefresh&&1!=this._isVML?l.duration:0;ce.jqx.mobile.isMobileBrowser()&&this.renderer instanceof ce.jqx.HTML5Renderer&&(h=0);var d=this._get([n.minAngle,n.startAngle]);(isNaN(d)||d<0||360<d)&&(d=0);var f=this._get([n.maxAngle,n.endAngle]);(isNaN(f)||f<0||360<f)&&(f=360);for(var u={rect:t,minAngle:d,maxAngle:f,groupIndex:e,serieIndex:a,settings:o,items:[]},g=0;g<i;g++){var c,m,_,p,x=s[a][g];x.visible&&(c=x.fromAngle,m=x.toAngle,_=this.renderer.pieslice(x.x,x.y,x.innerRadius,x.outerRadius,c,0==h?m:c,x.centerOffset),this._setRenderInfo(e,a,g,{element:_}),p={displayValue:x.displayValue,itemIndex:g,visible:x.visible,x:x.x,y:x.y,innerRadius:x.innerRadius,outerRadius:x.outerRadius,fromAngle:c,toAngle:m,centerOffset:x.centerOffset},u.items.push(p))}this._animatePieSlices(u,0);var y=this;this._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){y._animatePieSlices(t,i)},u)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var r,s,a=this.seriesGroups[e.groupIndex],n=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),o=n.visible,l=[],h=0;h<e.items.length;h++){(f=e.items[h]).visible&&(g=f.fromAngle,c=f.fromAngle+t*(f.toAngle-f.fromAngle),i&&i[f.displayValue]&&(g=(r=i[f.displayValue].fromAngle)+(g-r)*t,c=(s=i[f.displayValue].toAngle)+(c-s)*t),l.push({index:h,from:g,to:c}))}i&&l.sort(this._sliceSortFunction);for(var d=NaN,h=0;h<l.length;h++){var f=e.items[l[h].index],u=this._getRenderInfo(e.groupIndex,e.serieIndex,f.itemIndex),g=l[h].from,c=l[h].to;i&&(!isNaN(d)&&d<g&&(g=d),d=c,h==l.length-1&&c!=l[0].from&&(c=e.maxAngle+l[0].from));var m=this.renderer.pieSlicePath(f.x,f.y,f.innerRadius,f.outerRadius,g,c,f.centerOffset);this.renderer.attr(u.element,{d:m});var _=this._getColors(e.groupIndex,e.serieIndex,f.itemIndex,"radialGradient",f.outerRadius),p=e.settings;u.colors=_,u.settings=p,this.renderer.attr(u.element,{fill:_.fillColor,stroke:_.lineColor,"stroke-width":p.stroke,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-dasharray":"none"});a.series[e.serieIndex];o&&this._showPieLabel(e.groupIndex,e.serieIndex,f.itemIndex,n),1==t&&this._installHandlers(u.element,"pieslice",e.groupIndex,e.serieIndex,f.itemIndex)}},_showPieLabel:function(e,t,i,r,s){var a,n,o,l,h,d,f,u,g,c,m,_,p,x,y,v,N,M,b=this._renderData[e].offsets[t][i];b.elementInfo.labelElement&&this.renderer.removeElement(b.elementInfo.labelElement),(r=r||this._getLabelsSettings(e,t,NaN)).visible&&(a=b.fromAngle,n=b.toAngle,o=Math.abs(a-n),360<o&&(a=0,n=360),Math.PI,Math.PI,l=o/2+a,h=(l%=360)*Math.PI*2/360,1==r.autoRotate&&(d=l<90||270<l?360-l:180-l),f=r.linesEnabled,u=this._showLabel(e,t,i,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,d),g=r.radius||b.outerRadius+Math.max(u.width,u.height),this._isPercent(g)&&(g=parseFloat(g)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),g+=b.centerOffset,isNaN(s)&&(s=0),g+=s,m=(c=this.seriesGroups[e]).series[t],_=ce.jqx.getNum([m.offsetX,c.offsetX,this._plotRect.width/2]),p=ce.jqx.getNum([m.offsetY,c.offsetY,this._plotRect.height/2]),x=this._plotRect.x+_,y=this._plotRect.y+p,v=this._adjustTextBoxPosition(x,y,u,g,l,b.outerRadius>g,0!=r.linesAngles,1==r.autoRotate),N={},b.elementInfo.labelElement=this._showLabel(e,t,i,{x:v.x,y:v.y,width:u.width,height:u.height},"left","top",!1,!1,!1,d,N),g>b.outerRadius+5&&0!=f&&(M={lineColor:b.elementInfo.colors.lineColor,stroke:b.elementInfo.settings.stroke,opacity:b.elementInfo.settings.opacity,dashStyle:b.elementInfo.settings.dashStyle},b.elementInfo.labelArrowPath=this._updateLebelArrowPath(b.elementInfo.labelArrowPath,x,y,g,b.outerRadius+s,h,0!=r.linesAngles,M,N)))},_updateLebelArrowPath:function(e,i,r,t,s,a,n,o,l){var h=ce.jqx._ptrnd(i+t*Math.cos(a)),d=ce.jqx._ptrnd(r-t*Math.sin(a)),f=ce.jqx._ptrnd(i+(s+2)*Math.cos(a)),u=ce.jqx._ptrnd(r-(s+2)*Math.sin(a)),g=[];g.push({x:l.x+l.width/2,y:l.y}),g.push({x:l.x+l.width/2,y:l.y+l.height}),g.push({x:l.x,y:l.y+l.height/2}),g.push({x:l.x+l.width,y:l.y+l.height/2}),n||(g.push({x:l.x,y:l.y}),g.push({x:l.x+l.width,y:l.y}),g.push({x:l.x+l.width,y:l.y+l.height}),g.push({x:l.x,y:l.y+l.height})),g=(g=g.sort(function(e,t){return ce.jqx._ptdist(e.x,e.y,i,r)-ce.jqx._ptdist(t.x,t.y,i,r)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-r)-(Math.abs(t.x-i)+Math.abs(t.y-r))});for(var c=0;c<g.length;c++)g[c].x=ce.jqx._ptrnd(g[c].x),g[c].y=ce.jqx._ptrnd(g[c].y);h=g[0].x,d=g[0].y;var m=n?"M "+h+","+d+" L"+f+","+d+" L"+f+","+u:"M "+h+","+d+" L"+f+","+u;return e?this.renderer.attr(e,{d:m}):e=this.renderer.path(m,{}),this.renderer.attr(e,{fill:"none",stroke:o.lineColor,"stroke-width":o.stroke,"stroke-opacity":o.opacity,"stroke-dasharray":"none"}),e},_adjustTextBoxPosition:function(e,t,i,r,s,a,n,o){var l=s*Math.PI*2/360,h=ce.jqx._ptrnd(e+r*Math.cos(l)),d=ce.jqx._ptrnd(t-r*Math.sin(l));if(o){var f=i.width,u=i.height,g=Math.atan(u/f)%(2*Math.PI),c=l%(2*Math.PI),m=0;c<=g?m=f/2*Math.cos(l):g<=c&&c<Math.PI-g?m=u/2*Math.sin(l):c>=Math.PI-g&&c<Math.PI+g?m=f/2*Math.cos(l):c>=Math.PI+g&&c<2*Math.PI-g?m=u/2*Math.sin(l):c>=2*Math.PI-g&&c<2*Math.PI&&(m=f/2*Math.cos(l)),r+=Math.abs(m)+3;h=ce.jqx._ptrnd(e+r*Math.cos(l)),d=ce.jqx._ptrnd(t-r*Math.sin(l));return{x:h-=i.width/2,y:d-=i.height/2}}return a?(h-=i.width/2,d-=i.height/2):n?90<=s&&s<270?(d-=i.height/2,h-=i.width):d-=i.height/2:0<=s&&s<45||315<=s&&s<360?d-=i.height/2:45<=s&&s<135?(d-=i.height,h-=i.width/2):135<=s&&s<225?(d-=i.height/2,h-=i.width):225<=s&&s<315&&(h-=i.width/2),{x:h,y:d}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,r=0;r<i.length;r++){var s=i[r].orientation||"vertical";this._isColumnType(i[r].type)&&s==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",r=0;r<e;r++){var s=this.seriesGroups[r],a=s.orientation||"vertical";this._isColumnType(s.type)&&a==i&&t++}return t},_renderAxisBands:function(e,t,i){var r=i?this._getXAxis(e):this._getValueAxis(e),s=this.seriesGroups[e],a=i?void 0:s.bands;if(!a){for(var n=0;n<e;n++){if((i?this._getXAxis(n):this._getValueAxis(n))==r)return}a=r.bands}if(ce.isArray(a)){var o=t,l="horizontal"==s.orientation;l&&(o={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,o);for(n=0;n<a.length;n++){var h=a[n],d=this._get([h.minValue,h.from]),f=this._get([h.maxValue,h.to]),u=i?this.getXAxisDataPointOffset(d,e):this.getValueAxisDataPointOffset(d,e),g=i?this.getXAxisDataPointOffset(f,e):this.getValueAxisDataPointOffset(f,e);if(!isNaN(u)&&!isNaN(g)){var c=Math.abs(u-g);if(s.polar||s.spider){var m=this._renderData[e],_=m.polarCoords;if(i)var p,x,y,v,N=s.spider?(p=this.getPolarDataPointOffset(d,this._stats.seriesGroups[e].max,e),x=this.getPolarDataPointOffset(f,this._stats.seriesGroups[e].max,e),F="M "+_.x+","+_.y,F+=" L "+p.x+","+p.y,F+=" L "+x.x+","+x.y,this.renderer.path(F)):(y={},v={x:Math.min(u,g),y:t.y,width:c,height:t.height},this._columnAsPieSlice(y,t,_,v),y.element);else{var M=this._toPolarCoord(_,t,t.x,m.baseOffset),b=this._toPolarCoord(_,t,t.x,u),A=this._toPolarCoord(_,t,t.x,g),w=ce.jqx._ptdist(M.x,M.y,b.x,b.y),S=ce.jqx._ptdist(M.x,M.y,A.x,A.y),C=Math.round(360*-_.startAngle/(2*Math.PI)),k=Math.round(360*-_.endAngle/(2*Math.PI));if(k<C&&(R=C,C=k,k=R),s.spider){var D=m.xAxis.offsetAngles,F="",T=[S,w],j=D;for(var O in _.isClosedCircle&&(j=ce.extend([],D)).push(j[0]),T){for(var I=0;I<j.length;I++){var P=0==O?I:D.length-I-1,q=_.x+T[O]*Math.cos(j[P]),L=_.y+T[O]*Math.sin(j[P]);F+=""==F?"M ":" L",F+=ce.jqx._ptrnd(q)+","+ce.jqx._ptrnd(L)}0==O&&(q=_.x+T[1]*Math.cos(j[P]),L=_.y+T[1]*Math.sin(j[P]),F+=" L"+ce.jqx._ptrnd(q)+","+ce.jqx._ptrnd(L))}F+=" Z",N=this.renderer.path(F)}else N=this.renderer.pieslice(_.x,_.y,w,S,C,k)}}else{var R,G={x:Math.min(u,g),y:o.y,width:c,height:o.height};i||(G={x:o.x,y:Math.min(u,g),width:o.width,height:c}),l&&(R=G.x,G.x=G.y,G.y=R,R=G.width,G.width=G.height,G.height=R),N=0==c||1==c?this.renderer.line(ce.jqx._ptrnd(G.x),ce.jqx._ptrnd(G.y),ce.jqx._ptrnd(G.x+(l?0:G.width)),ce.jqx._ptrnd(G.y+(l?G.height:0))):this.renderer.rect(G.x,G.y,G.width,G.height)}var V=h.fillColor||h.color||"#AAAAAA",E=h.lineColor||V,H=h.lineWidth;isNaN(H)&&(H=1);var B=h.opacity;(isNaN(B)||B<0||1<B)&&(B=1),this.renderer.attr(N,{fill:V,"fill-opacity":B,stroke:E,"stroke-opacity":B,"stroke-width":H,"stroke-dasharray":h.dashStyle})}}}},_getColumnGroupWidth:function(e,t,i){var r=this.seriesGroups[e],s=-1!=r.type.indexOf("stacked"),a=(s||r.series.length,this._getColumnGroupsCount(r.orientation));!isNaN(a)&&0!=a||(a=1);var n=1<=t.rangeLength?t.itemWidth:.9*i,o=r.columnsMinWidth;isNaN(o)&&(o=1),isNaN(r.columnsMaxWidth)||(o=Math.min(r.columnsMaxWidth,o)),n<o&&0<t.length&&(n=Math.max(n,.9*i/t.length));var l,h,d=o;return s||(l=r.seriesGapPercent,(isNaN(l)||l<0)&&(l=10),h=o,h*=1+(l/=100),d+=r.series.length*h),{requiredWidth:d,availableWidth:n,targetWidth:Math.max(n/a,d)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],r=(i.series[t],"horizontal"==i.orientation),s=this._plotRect;r&&(s={x:s.y,y:s.x,width:s.height,height:s.width});var a=this._calcGroupOffsets(e,s);if(a&&0!=a.xoffsets.length){var n=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(n=1);var o=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,a.xoffsets,r?s.height:s.width),h=0,d=l.targetWidth;(1==this.columnSeriesOverlap||Math.round(d)>Math.round(l.availableWidth/n))&&(n=1,o=0),h-=d*n/2,h+=d*o;var f=i.columnsGapPercent;f<=0&&(f=0),(isNaN(f)||100<=f)&&(f=25);var u=d*(f/=100);u+l.requiredWidth>l.targetWidth&&(u=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(d)>Math.round(l.availableWidth)&&(u=0),d-=u,h+=u/2;var g=i.seriesGapPercent;(isNaN(g)||g<0)&&(g=10);var c=-1!=i.type.indexOf("stacked"),m=d;c||(m/=i.series.length);var _=this._get([i.seriesGap,d*g/100/(i.series.length-1)]);(1==i.polar||1==i.spider||c||i.series.length<=1)&&(_=0);var p=_*(i.series.length-1);1<i.series.length&&p>d-i.series.length&&(_=(p=d-i.series.length)/Math.max(1,i.series.length-1));var x=m-p/i.series.length,y=0,v=i.columnsMaxWidth;isNaN(v)||v<x&&(y=x-v,x=v);return{width:x,offset:h+(c?y/2:(d-x*i.series.length-p)/2+x*t+Math.max(0,t)*_)}}},_renderColumnSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){this._getDataLen(e);var r="horizontal"==i.orientation,s=t;r&&(s={x:t.y,y:t.x,width:t.height,height:t.width});var a,n=this._calcGroupOffsets(e,s);if(n&&0!=n.xoffsets.length){1!=i.polar&&1!=i.spider||(a=this._getPolarAxisCoords(e,s));var o={groupIndex:e,rect:t,vertical:!r,seriesCtx:[],renderData:n,polarAxisCoords:a};o.columnGroupWidth=this._getColumnGroupWidth(e,n.xoffsets,r?s.height:s.width);for(var l=this._getGroupGradientType(e),h=0;h<i.series.length;h++){var d=i.series[h];if(!d.customDraw){d.dataField;var f=this._getAnimProps(e,h),u=f.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?f.duration:0,g=this._getColumnSerieWidthAndOffset(e,h),c=this._isSerieVisible(e,h),m=this._getSerieSettings(e,h),_=this._getColors(e,h,NaN,this._getGroupGradientType(e),4),p=[];if(ce.isFunction(d.colorFunction)&&!a)for(var x=n.xoffsets.first;x<=n.xoffsets.last;x++)p.push(this._getColors(e,h,x,l,4));var y={seriesIndex:h,serieColors:_,itemsColors:p,settings:m,columnWidth:g.width,xAdjust:g.offset,isVisible:c};o.seriesCtx.push(y)}}this._animColumns(o,0==u?1:0);var v=this;this._enqueueAnimation("series",void 0,void 0,u,function(e,t,i){v._animColumns(t,i)},o)}}},_getPercent:function(e,t,i,r){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(r)&&!isNaN(e)&&r<e&&(e=r),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,r,s,a){var n=this.seriesGroups[t],o=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100);0==o&&0==l&&(l=100);for(var h=this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100,d=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,f=[],u=NaN,g=0;g<i.length;g++){var c=(b=i[g]).seriesIndex,m=(n.series[c],e.offsets[c][r].from),_=e.offsets[c][r].to,p=e.xoffsets.data[r],x=b.isVisible;x||(_=m);var y,v,N=this._elementRenderInfo;x&&N&&N.length>t&&N[t].series.length>c&&(y=e.xoffsets.xvalues[r],!(v=N[t].series[c][y])||isNaN(v.from)||isNaN(v.to)||(m=v.from+(m-v.from)*a,_=v.to+(_-v.to)*a,p=v.xoffset+(p-v.xoffset)*a)),v||(_=m+(_-m)*(s?1:a)),isNaN(m)&&(m=isNaN(u)?e.baseOffset:u),u=!isNaN(_)&&s?_:m,isNaN(_)&&(_=m);var M={from:m,to:_,xOffset:p};100==o&&100==l||(M.funnel=!0,M.toWidthPercent=o,M.fromWidthPercent=l),f.push(M)}if(s&&1<f.length&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var b,A=0,w=0,S=-1/0,C=1/0,k=1/0,D=-1/0,F=0;F<f.length;F++){(b=i[F]).isVisible&&(f[F].to>=f[F].from?(w+=f[F].to-f[F].from,k=Math.min(k,f[F].from),D=Math.max(D,f[F].to)):(A+=f[F].from-f[F].to,S=Math.max(S,f[F].from),C=Math.min(C,f[F].to)))}var T=A,j=w;A*=a,w*=a;for(var O,I=0,P=0,F=0;F<f.length;F++){f[F].to>=f[F].from?(w<(O=f[F].to-f[F].from)+P&&(O=Math.max(0,w-P),f[F].to=f[F].from+O),100==o&&100==l||(f[F].funnel=!0,!isNaN(h)&&P<=j*h?f[F].fromWidthPercent=100*d:f[F].fromWidthPercent=Math.abs(f[F].from-k)/j*(o-l)+l,!isNaN(h)&&0+(P+O)<=j*h?f[F].toWidthPercent=100*d:f[F].toWidthPercent=Math.abs(f[F].to-k)/j*(o-l)+l),P+=O):(A<(O=f[F].from-f[F].to)+I&&(O=Math.max(0,A-I),f[F].to=f[F].from-O),100==o&&100==l||(f[F].funnel=!0,!isNaN(h)&&I<=T*h?f[F].fromWidthPercent=100*d:f[F].fromWidthPercent=Math.abs(f[F].from-S)/T*(o-l)+l,!isNaN(h)&&0+(I+O)<=T*h?f[F].toWidthPercent=100*d:f[F].toWidthPercent=Math.abs(f[F].to-S)/T*(o-l)+l),I+=O)}}return f},_columnAsPieSlice:function(e,t,i,r){var s,a=this._toPolarCoord(i,t,r.x,r.y),n=this._toPolarCoord(i,t,r.x,r.y+r.height),o=ce.jqx._ptdist(i.x,i.y,n.x,n.y),l=ce.jqx._ptdist(i.x,i.y,a.x,a.y),h=t.width,d=180*Math.abs(i.startAngle-i.endAngle)/Math.PI,f=-(r.x-t.x)*d/h,u=-(r.x+r.width-t.x)*d/h,g=i.startAngle;return f-=g=360*g/(2*Math.PI),u-=g,e&&(null!=e.element?(s=this.renderer.pieSlicePath(i.x,i.y,o,l,u,f,0),s+=" Z",this.renderer.attr(e.element,{d:s})):e.element=this.renderer.pieslice(i.x,i.y,o,l,u,f,0)),{fromAngle:u,toAngle:f,innerRadius:o,outerRadius:l}},_setRenderInfo:function(e,t,i,r){this._renderData[e].offsets[t][i].elementInfo=r},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(e,t){for(var i=e.groupIndex,r=this.seriesGroups[i],s=e.renderData,a=-1!=r.type.indexOf("waterfall"),n=this._getXAxis(i),o=-1!=r.type.indexOf("stacked"),l=e.polarAxisCoords,h=(this._getGroupGradientType(i),e.columnGroupWidth.targetWidth,-1),d=0;d<r.series.length;d++)if(this._isSerieVisible(i,d)){h=d;break}for(var f=NaN,u=NaN,d=0;d<e.seriesCtx.length;d++){var g=e.seriesCtx[d];(isNaN(f)||f>g.xAdjust)&&(f=g.xAdjust),(isNaN(u)||u<g.xAdjust+g.columnWidth)&&(u=g.xAdjust+g.columnWidth)}var c=Math.abs(u-f),m=this._get([r.columnsGapPercent,25])/100;(isNaN(m)<0||1<=m)&&(m=.25);for(var _=m*c,p=e.renderData.xoffsets,x=-1,y={},v=1==r.skipOverlappingPoints,N=p.first;N<=p.last;N++){var M=p.data[N];if(!isNaN(M)&&!(-1!=x&&Math.abs(M-x)<c-1+_&&v)){x=M;var b=this._getColumnVOffsets(s,i,e.seriesCtx,N,o,t),A=!1;if(a)for(var w=0;w<r.series.length;w++)r.series[w].summary&&p.xvalues[N][r.series[w].summary]&&(A=!0);for(w=0;w<e.seriesCtx.length;w++){var S,C,k,D,F,T,j,O,I,P,q,L,R,G,V,E,H,B,z,W,X=(g=e.seriesCtx[w]).seriesIndex,U=r.series[X],Y=b[w].from,Z=b[w].to,J=b[w].xOffset,Q=(e.vertical?e.rect.x:e.rect.y)+g.xAdjust,K=g.settings,$=0!=g.itemsColors.length?g.itemsColors[N-s.xoffsets.first]:g.serieColors,ee=this._isSerieVisible(i,X);ee&&(S={x:M=ce.jqx._ptrnd(Q+J),width:g.columnWidth},b[w].funnel&&(S.fromWidthPercent=b[w].fromWidthPercent,S.toWidthPercent=b[w].toWidthPercent),C=!0,e.vertical?(S.y=Y,S.height=Z-Y,S.height<0&&(S.y+=S.height,S.height=-S.height,C=!1)):(S.x=Y<Z?Y:Z,S.width=Math.abs(Y-Z),C=Y-Z<0,S.y=M,S.height=g.columnWidth),k=Y-Z,isNaN(k)||(k=Math.abs(k),j=void 0,F=null==(O=(D=this._getRenderInfo(i,X,N)).element),(W=D.labelElement)&&(this.renderer.removeElement(W),W=void 0),l?(T={element:O},j=this._columnAsPieSlice(T,e.rect,l,S),O=T.element,$=this._getColors(i,X,void 0,"radialGradient",j.outerRadius)):b[w].funnel?(I=this._getTrapezoidPath(ce.extend({},S),e.vertical,C),F?O=this.renderer.path(I,{}):this.renderer.attr(O,{d:I})):F?O=this.renderer.rect(S.x,S.y,e.vertical?S.width:0,e.vertical?0:S.height):1==e.vertical?this.renderer.attr(O,{x:S.x,y:S.y,height:k}):this.renderer.attr(O,{x:S.x,y:S.y,width:k}),k<1&&(1!=t||l)?this.renderer.attr(O,{display:"none"}):this.renderer.attr(O,{display:"block"}),F&&this.renderer.attr(O,{fill:$.fillColor,"fill-opacity":K.opacity,"stroke-opacity":K.opacity,stroke:$.lineColor,"stroke-width":K.stroke,"stroke-dasharray":K.dashStyle}),W&&this.renderer.removeElement(W),!ee||0==k&&t<1?(D={element:O,labelElement:W},this._setRenderInfo(i,X,N,D)):(a&&0!=this._get([U.showWaterfallLines,r.showWaterfallLines])&&((!o||o&&w==h)&&(P=o?-1:w,1!=t||isNaN(s.offsets[w][N].from)||isNaN(s.offsets[w][N].to)||null!=(q=y[P])&&(R={x:M,y:(L={x:q.x,y:ce.jqx._ptrnd(q.y)}).y},G=r.columnsTopWidthPercent/100,(isNaN(G)||1<G||G<0)&&(G=1),V=r.columnsBottomWidthPercent/100,(isNaN(V)||1<V||V<0)&&(V=1),H=e.vertical?S.width:S.height,L.x=L.x-H/2+H/2*G,E=A?H*G/2:H*V/2,R.x=R.x+H/2-(n.flip?-E:E),e.vertical||(this._swapXY([L]),this._swapXY([R])),this.renderer.line(L.x,L.y,R.x,R.y,{stroke:q.color,"stroke-width":K.stroke,"stroke-opacity":K.opacity,"fill-opacity":K.opacity,"stroke-dasharray":K.dashStyle}))),1==t&&0!=k&&(y[o?-1:w]={y:Z,x:e.vertical?S.x+S.width:S.y+S.height,color:$.lineColor})),D={element:O,labelElement:W=l?(this._toPolarCoord(l,e.rect,S.x+S.width/2,S.y),H=this._showLabel(i,X,N,S,void 0,void 0,!0),B=j.outerRadius+10,z=this._adjustTextBoxPosition(l.x,l.y,H,B,(j.fromAngle+j.toAngle)/2,!0,!1,!1),this._showLabel(i,X,N,{x:z.x,y:z.y},void 0,void 0,!1,!1,!1)):this._showLabel(i,X,N,S,void 0,void 0,!1,!1,C)},this._setRenderInfo(i,X,N,D),1==t&&this._installHandlers(O,"column",i,X,N))))}}}},_getTrapezoidPath:function(e,t,i){var r,s="",a=e.fromWidthPercent/100,n=e.toWidthPercent/100;t||(r=e.width,e.width=e.height,e.height=r,r=e.x,e.x=e.y,e.y=r);var o=e.x+e.width/2,l=[{x:o-e.width*(i?n:a)/2,y:e.y+e.height},{x:o-e.width*(i?a:n)/2,y:e.y},{x:o+e.width*(i?a:n)/2,y:e.y},{x:o+e.width*(i?n:a)/2,y:e.y+e.height}];t||this._swapXY(l),s+="M "+ce.jqx._ptrnd(l[0].x)+","+ce.jqx._ptrnd(l[0].y);for(var h=1;h<l.length;h++)s+=" L "+ce.jqx._ptrnd(l[h].x)+","+ce.jqx._ptrnd(l[h].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(e,t,i){var r=this,s=r.seriesGroups[e];if(s.series&&0!=s.series.length){var a="horizontal"==s.orientation,n=t;a&&(n={x:t.y,y:t.x,width:t.height,height:t.width});var o=r._calcGroupOffsets(e,n);if(o&&0!=o.xoffsets.length){var l;n.width;(s.polar||s.spider)&&(l=r._getPolarAxisCoords(e,n)).r;r._alignValuesWithTicks(e);for(var h=r._getGroupGradientType(e),d=[],f=0;f<s.series.length;f++)d[f]=r._getColumnSerieWidthAndOffset(e,f);for(var u,g,c,m,_,p,f=0;f<s.series.length;f++){this._isSerieVisible(e,f)&&(u=r._getSerieSettings(e,f),(g=s.series[f]).customDraw||(c=ce.isFunction(g.colorFunction)?void 0:r._getColors(e,f,NaN,h),m={rect:t,inverse:a,groupIndex:e,seriesIndex:f,symbolType:g.symbolType,symbolSize:g.symbolSize,"fill-opacity":u.opacity,"stroke-opacity":u.opacity,"stroke-width":u.stroke,"stroke-dasharray":u.dashStyle,gradientType:h,colors:c,renderData:o,polarAxisCoords:l,columnsInfo:d,isOHLC:i,items:[],self:r},p=(_=r._getAnimProps(e,f)).enabled&&!r._isToggleRefresh&&o.xoffsets.length<5e3?_.duration:0,r._animCandleStick(m,0),r._enqueueAnimation("series",void 0,void 0,p,function(e,t,i){r._animCandleStick(t,i)},m)))}}}},_animCandleStick:function(e,t){var i=["Open","Low","Close","High"],r=e.columnsInfo[e.seriesIndex].width,s=e.self.seriesGroups[e.groupIndex],a=e.renderData.xoffsets,n=-1,o=Math.abs(a.data[a.last]-a.data[a.first]);o*=t;for(var l=NaN,h=NaN,d=0;d<e.columnsInfo.length;d++){var f=e.columnsInfo[d];(isNaN(l)||l>f.offset)&&(l=f.offset),(isNaN(h)||h<f.offset+f.width)&&(h=f.offset+f.width)}for(var u=Math.abs(h-l),g=0!=s.skipOverlappingPoints,c=a.first;c<=a.last;c++){var m=a.data[c];if(!isNaN(m)&&!(-1!=n&&Math.abs(m-n)<u&&g)){if(o<Math.abs(a.data[c]-a.data[a.first]))break;n=m;var _,p=e.items[c]=e.items[c]||{};for(var d in i){var x=e.self._getDataValueAsNumber(c,s.series[e.seriesIndex]["dataField"+i[d]],e.groupIndex);if(isNaN(x))break;var y=e.renderData.offsets[e.seriesIndex][c][i[d]];if(isNaN(y))break;p[i[d]]=y}for(var v in m+=e.inverse?e.rect.y:e.rect.x,e.polarAxisCoords&&(m=(_=this._toPolarCoord(e.polarAxisCoords,this._plotRect,m,y)).x,y=_.y),m=ce.jqx._ptrnd(m),i)p[v]=ce.jqx._ptrnd(p[v]);var N,M,b,A,w=(w=e.colors)||e.self._getColors(e.groupIndex,e.seriesIndex,c,e.gradientType);e.isOHLC?(N="M"+m+","+p.Low+" L"+m+","+p.High+" M"+(m-r/2)+","+p.Open+" L"+m+","+p.Open+" M"+(m+r/2)+","+p.Close+" L"+m+","+p.Close,e.inverse&&(N="M"+p.Low+","+m+" L"+p.High+","+m+" M"+p.Open+","+(m-r/2)+" L"+p.Open+","+m+" M"+p.Close+","+m+" L"+p.Close+","+(m+r/2)),(M=p.lineElement)||(M=this.renderer.path(N,{}),this.renderer.attr(M,{fill:w.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:w.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),p.lineElement=M),1==t&&this._installHandlers(M,"column",e.groupIndex,e.seriesIndex,c)):((M=p.lineElement)||(M=e.inverse?this.renderer.line(p.Low,m,p.High,m):this.renderer.line(m,p.Low,m,p.High),this.renderer.attr(M,{fill:w.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:w.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),p.lineElement=M),m-=r/2,(b=p.stickElement)||(A=w.fillColor,p.Close<=p.Open&&w.fillColorAlt&&(A=w.fillColorAlt),b=e.inverse?this.renderer.rect(Math.min(p.Open,p.Close),m,Math.abs(p.Close-p.Open),r):this.renderer.rect(m,Math.min(p.Open,p.Close),r,Math.abs(p.Close-p.Open)),this.renderer.attr(b,{fill:A,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:w.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),p.stickElement=b),1==t&&this._installHandlers(b,"column",e.groupIndex,e.seriesIndex,c))}}},_renderScatterSeries:function(e,t,i){var r=this.seriesGroups[e];if(r.series&&0!=r.series.length){var s=-1!=r.type.indexOf("bubble"),a="horizontal"==r.orientation,n=t;a&&(n={x:t.y,y:t.x,width:t.height,height:t.width});var o=this._calcGroupOffsets(e,n);if(o&&0!=o.xoffsets.length){var l,h=n.width;(r.polar||r.spider)&&(h=2*(l=this._getPolarAxisCoords(e,n)).r);this._alignValuesWithTicks(e);var d=this._getGroupGradientType(e);i=i||"to";for(var f=0;f<r.series.length;f++){var u=this._getSerieSettings(e,f),g=r.series[f];if(!g.customDraw){var c=g.dataField,m=ce.isFunction(g.colorFunction),_=this._getColors(e,f,NaN,d),p=NaN,x=NaN;if(s)for(var y=o.xoffsets.first;y<=o.xoffsets.last;y++){if("number"!=typeof(M=this._getDataValueAsNumber(y,g.radiusDataField||g.sizeDataField,e)))throw"Invalid radiusDataField value at ["+y+"]";isNaN(M)||((isNaN(p)||M<p)&&(p=M),(isNaN(x)||x<M)&&(x=M))}var v=g.minRadius||g.minSymbolSize;isNaN(v)&&(v=h/50);var N=g.maxRadius||g.maxSymbolSize;isNaN(N)&&(N=h/25),N<v&&(N=v);for(var M,b=g.radius,b=isNaN(b)&&!isNaN(g.symbolSize)?"circle"==g.symbolType?g.symbolSize/2:g.symbolSize:5,A=this._getAnimProps(e,f),w=A.enabled&&!this._isToggleRefresh&&o.xoffsets.length<5e3?A.duration:0,S={groupIndex:e,seriesIndex:f,symbolType:g.symbolType,symbolSize:g.symbolSize,"fill-opacity":u.opacity,"stroke-opacity":u.opacity,"stroke-width":u.stroke,"stroke-width-symbol":u.strokeSymbol,"stroke-dasharray":u.dashStyle,items:[],polarAxisCoords:l},C=void 0,y=o.xoffsets.first;y<=o.xoffsets.last;y++){if("number"==typeof(M=this._getDataValueAsNumber(y,c,e))){var k=o.xoffsets.data[y],D=o.xoffsets.xvalues[y],F=o.offsets[f][y][i];if(!(F<n.y||F>n.y+n.height))if(!isNaN(k)&&!isNaN(F))if(a?(I=k,k=F,F=I+t.y):k+=t.x,!(!m&&C&&this.enableSampling&&ce.jqx._ptdist(C.x,C.y,k,F)<1)){C={x:k,y:F};var T=b;if(s){var j=this._getDataValueAsNumber(y,g.radiusDataField||g.sizeDataField,e);if("number"!=typeof j)continue;T=v+(N-v)*(j-p)/Math.max(1,x-p),isNaN(T)&&(T=v)}o.offsets[f][y].radius=T;var O,I,P=NaN,q=NaN,L=0,R=this._elementRenderInfo;null!=D&&R&&R.length>e&&R[e].series.length>f&&((O=R[e].series[f][D])&&!isNaN(O.to)&&(P=O.to,q=O.xoffset,L=b,a?(I=q,q=P,P=I+t.y):q+=t.x,s&&(L=v+(N-v)*(O.valueRadius-p)/Math.max(1,x-p),isNaN(L)&&(L=v)))),m&&(_=this._getColors(e,f,y,d)),S.items.push({from:L,to:T,itemIndex:y,fill:_.fillColor,stroke:_.lineColor,x:k,y:F,xFrom:q,yFrom:P})}}}this._animR(S,0);var G=this;this._enqueueAnimation("series",void 0,void 0,w,function(e,t,i){G._animR(t,i)},S)}}}}},_animR:function(e,t){for(var i=e.items,r=e.symbolType||"circle",s=e.symbolSize,a=0;a<i.length;a++){var n,o=i[a],l=o.x,h=o.y,d=Math.round((o.to-o.from)*t+o.from);isNaN(o.yFrom)||(h=o.yFrom+(h-o.yFrom)*t),isNaN(o.xFrom)||(l=o.xFrom+(l-o.xFrom)*t),e.polarAxisCoords&&(l=(n=this._toPolarCoord(e.polarAxisCoords,this._plotRect,l,h)).x,h=n.y),l=ce.jqx._ptrnd(l),h=ce.jqx._ptrnd(h),d=ce.jqx._ptrnd(d);var f=this._getRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex),u=f.element,g=f.labelElement;"circle"==r?(u||(u=this.renderer.circle(l,h,d),this.renderer.attr(u,{fill:o.fill,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:o.stroke,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(u,void 0,void 0,d):this.renderer.attr(u,{r:d,cy:h,cx:l})):(u&&this.renderer.removeElement(u),u=this._drawSymbol(r,l,h,o.fill,e["fill-opacity"],o.stroke,e["stroke-opacity"]||e["fill-opacity"],e["stroke-width-symbol"],e["stroke-dasharray"],s||d)),g&&this.renderer.removeElement(g),g=this._showLabel(e.groupIndex,e.seriesIndex,o.itemIndex,{x:l-d,y:h-d,width:2*d,height:2*d}),1<=t&&this._installHandlers(u,"circle",e.groupIndex,e.seriesIndex,o.itemIndex),this._setRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex,{element:u,labelElement:g})}},_showMultiSeriesToolTip:function(e,t,i){for(var r=this,s='<div style="text-align:left">',a="",n=0;n<r.seriesGroups.length;n++)if(!r._isPieGroup(n)){var o=r._getXAxis(n),l=r._getValueAxis(n),h=r.seriesGroups[n],d=this._getAxisSettings(o),f=d.toolTipFormatSettings,u=d.toolTipFormatFunction,g=r._getDataValue(i,o.dataField,n);null!=o.dataField&&""!=o.dataField||(g=i),"date"==o.type&&(g=r._castAsDate(g,(f?f.dateFormat:void 0)||o.dateFormat)),u||f||"date"!=o.type||(u=this._getDefaultDTFormatFn(o.baseUnit||"day"));var c=o.displayText||o.dataField||"";""!=c&&(c+=": ");var m=c+r._formatValue(g,f,u,n,_,i);a!=m&&(""!=a&&(s+="<br />"),s+=m+"<br /><br />",a=m);for(var _=0;_<h.series.length;_++){var p,x,y,v=h.series[_];0!=h.showToolTips&&0!=v.showToolTips&&r._isSerieVisible(n,_)&&(p=r._get([v.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,r.toolTipFormatSettings]),x=r._get([v.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,r.toolTipFormatFunction]),y=r._getFormattedValue(n,_,i,p,x),s+="<span style='color:"+r._getColors(n,_,i).lineColor+";'>"+y+"</span><br />\n")}}var N=this._get([r.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),M=this._get([r.toolTipBackground,"#FFFFFF"]),b=this._get([r.toolTipLineColor,r._defaultLineColor]),A=this._get([r.toolTipOpacity,1]);s+="</div>";var w=this.getItemCoord(r._ttEl.gidx,r._ttEl.sidx,r._ttEl.iidx);r._createTooltip(w,r.seriesGroups[r._ttEl.gidx],s,{css:N,fill:M,stroke:b,fillOpacity:A,symbolSize:3})},_showToolTip:function(e,t,i,r,s){var a=this,n=a._getXAxis(i),o=a._getValueAxis(i);if(!a._ttEl||i!=a._ttEl.gidx||r!=a._ttEl.sidx||s!=a._ttEl.iidx){var l=a.seriesGroups[i],h=l.series[r],d=a.enableCrosshairs;a._pointMarker?(e=parseInt(a._pointMarker.x+5),t=parseInt(a._pointMarker.y-5)):d=!1;var f=d&&0==a.showToolTips;e=ce.jqx._ptrnd(e),t=ce.jqx._ptrnd(t);a._ttEl;if(0!=l.showToolTips&&0!=h.showToolTips){a._ttEl||(a._ttEl={}),a._ttEl.sidx=r,a._ttEl.gidx=i,a._ttEl.iidx=s;for(var u=0,g=0;g<a.seriesGroups.length;g++)for(var c=0;c<a.seriesGroups[g].series.length;c++)u++;if(a.showToolTipsOnAllSeries&&!a._isPieGroup(i)&&1<u)a._showMultiSeriesToolTip(e,t,s);else{var m=a._get([h.toolTipFormatSettings,l.toolTipFormatSettings,o.toolTipFormatSettings,a.toolTipFormatSettings]),_=a._get([h.toolTipFormatFunction,l.toolTipFormatFunction,o.toolTipFormatFunction,a.toolTipFormatFunction]),p=a._getColors(i,r,s),x=a._getDataValue(s,n.dataField,i);null!=n.dataField&&""!=n.dataField||(x=s),"date"==n.type&&(x=a._castAsDate(x,(m?m.dateFormat:void 0)||n.dateFormat));var y="";if(ce.isFunction(_)){var v={},N=0;for(var M in h)0==M.indexOf("dataField")&&(v[M.substring(9,M.length).toLowerCase()]=a._getDataValue(s,h[M],i),N++);0==N?v=a._getDataValue(s,void 0,i):1==N&&(v=v[""]),y=_(v,s,h,l,x,n)}else{y=a._getFormattedValue(i,r,s,m,_);var b=this._getAxisSettings(n),A=b.toolTipFormatSettings,w=b.toolTipFormatFunction;w||A||"date"!=n.type||(w=this._getDefaultDTFormatFn(n.baseUnit||"day"));var S,C=a._formatValue(x,A,w,i,r,s);y=a._isPieGroup(i)?(x=a._getDataValue(s,h.displayText||h.dataField,i),(C=a._formatValue(x,A,w,i,r,s))+": "+y):0<(S=n.displayText||n.dataField||"").length?S+": "+C+"<br>"+y:C+"<br>"+y}var k,D,F,T,j,O;a.renderer.getRect();if(d){var I=ce.jqx._ptrnd(a._pointMarker.x),P=ce.jqx._ptrnd(a._pointMarker.y),q=a.crosshairsColor||a._defaultLineColor;if(l.polar||l.spider){var L=this._getPolarAxisCoords(i,this._plotRect);if(ce.jqx._ptdist(I,P,L.x,L.y)>L.r)return;var R=Math.atan2(P-L.y,I-L.x),G=Math.cos(R)*L.r+L.x,V=Math.sin(R)*L.r+L.y;a._ttEl.vLine?a.renderer.attr(a._ttEl.vLine,{x1:L.x,y1:L.y,x2:G,y2:V}):a._ttEl.vLine=a.renderer.line(L.x,L.y,G,V,{stroke:q,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""})}else a._ttEl.vLine&&a._ttEl.hLine?(a.renderer.attr(a._ttEl.vLine,{x1:I,x2:I}),a.renderer.attr(a._ttEl.hLine,{y1:P,y2:P})):(a._ttEl.vLine=a.renderer.line(I,a._plotRect.y,I,a._plotRect.y+a._plotRect.height,{stroke:q,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}),a._ttEl.hLine=a.renderer.line(a._plotRect.x,P,a._plotRect.x+a._plotRect.width,P,{stroke:q,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}))}f||0==a.showToolTips||(k=this._get([h.toolTipClass,l.toolTipClass,a.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),D=this._get([h.toolTipBackground,l.toolTipBackground,a.toolTipBackground,"#FFFFFF"]),F=this._get([h.toolTipLineColor,l.toolTipLineColor,a.toolTipLineColor,p.lineColor]),T=this._get([h.toolTipOpacity,l.toolTipOpacity,a.toolTipOpacity,1]),j=this.getItemCoord(i,r,s),O=0,a._pointMarker&&a._pointMarker.element&&(O=h.symbolSizeSelected,isNaN(O)&&(O=h.symbolSize),(isNaN(O)||50<O||O<0)&&(O=l.symbolSize),(isNaN(O)||50<O||O<0)&&(O=8)),a._createTooltip(j,l,y,{css:k,fill:D,stroke:F,fillOpacity:T,symbolSize:O}))}}}},_fitTooltip:function(e,t,i,r,s){var a={},n=2+s/2;if(t.x-i.width-7-n>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.left={arrowLocation:"right",x:t.x-i.width-7-n,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+n<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.right={arrowLocation:"left",x:t.x+t.width+n,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-n-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-n-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+n<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+n,width:i.width,height:i.height+7}),t.width>t.height||(-1!=r.type.indexOf("stackedcolumn")||-1!=r.type.indexOf("stackedwaterfall"))&&"horizontal"!=r.orientation){if(a.left)return a.left;if(a.right)return a.right}else{if(a.top)return a.top;if(a.bottom)return a.bottom}for(var o in a)if(a[o])return a[o];return{arrowLocation:""}},_createTooltip:function(e,t,i,r){var s,a,n,o=this,l=t.type,h=!1,d=o._ttEl.box;if(d||(h=!0,(d=o._ttEl.box=document.createElement("div")).style.position="absolute",d.style.cursor="default",ce(s).css({"z-index":1e7,"box-sizing":"content-box"}),ce(d).css({"z-index":1e7}),ce(document.body).append(d),(s=document.createElement("div")).id="arrowOuterDiv",s.style.width="0px",s.style.height="0px",s.style.position="absolute",ce(s).css({"z-index":1e7+1,"box-sizing":"content-box"}),(a=document.createElement("div")).id="arrowInnerDiv",a.style.width="0px",a.style.height="0px",a.style.position="absolute",(n=document.createElement("div")).id="contentDiv",n.style.position="absolute",ce(n).css({"box-sizing":"content-box",outline:"none",border:"1px solid transparent",padding:"3px","text-align":"center","vertical-align":"middle",margin:"0 0 0 0",cursor:"default"}),ce(n).addClass("jqx-rc-all"),ce(n).appendTo(ce(d)),ce(s).appendTo(ce(d)),ce(a).appendTo(ce(d)),ce(a).css({"z-index":1e7+2,"box-sizing":"content-box"})),i&&0!=i.length){n=ce(d).find("#contentDiv")[0],s=ce(d).find("#arrowOuterDiv")[0],(a=ce(d).find("#arrowInnerDiv")[0]).style.opacity=s.style.opacity=r.fillOpacity,n.style.backgroundColor=r.fill,n.style.borderColor=r.stroke,n.style.opacity=r.fillOpacity;var f="<span class='"+r.css+"'>"+i+"</span>";ce(n).html(f);var u=this._measureHtml(f,"jqx-rc-all jqx-button"),g=o._plotRect;if(!(u.width>g.width||u.height>g.height)){var c,m,_,p={width:u.width,height:u.height},x="",y=o._isColumnType(l),v=Math.max(e.x,g.x),N=Math.max(e.y,g.y);"dataPoint"==o.toolTipAlignment?(-1!=l.indexOf("pie")||-1!=l.indexOf("donut")?(c=(e.fromAngle+e.toAngle)/2,c*=Math.PI/180,m=!isNaN(e.innerRadius)&&0<e.innerRadius?(e.innerRadius+e.outerRadius)/2:.75*e.outerRadius,v=e.x=e.center.x+Math.cos(c)*m,N=e.y=e.center.y-Math.sin(c)*m,e.width=e.height=1):y&&(t.polar||t.spider)&&(e.width=e.height=1),""!=(_=this._fitTooltip(this._plotRect,e,p,t,r.symbolSize)).arrowLocation&&(x=_.arrowLocation,v=_.x,N=_.y,p.width=_.width,p.height=_.height)):x="","top"==x||"bottom"==x?(p.height+=7,v-=3.5,"bottom"==x&&(N-=7)):"left"!=x&&"right"!=x||(p.width+=7,N-=3.5,"right"==x&&(v-=7)),v+p.width>g.x+g.width&&(x="",v=g.x+g.width-p.width),N+p.height>g.y+g.height&&(x="",N=g.y+g.height-p.height);var M={x:0,y:0},b={x:0,y:0};ce(n).css({width:u.width,height:u.height,left:0,top:0}),s.style["margin-top"]=s.style["margin-left"]=0,a.style["margin-top"]=a.style["margin-left"]=0,n.style["margin-top"]=n.style["margin-left"]=0;var A="7px solid",w="7px solid transparent";switch(x){case"left":M={x:0,y:(u.height-7)/2},b={x:7,y:0},n.style["margin-left"]="7px",s.style["margin-left"]="0px",s.style["margin-top"]=M.y+"px",s.style["border-left"]="",s.style["border-right"]=A+" "+r.stroke,s.style["border-top"]=w,s.style["border-bottom"]=w,a.style["margin-left"]="1px",a.style["margin-top"]=M.y+"px",a.style["border-left"]="",a.style["border-right"]=A+" "+r.fill,a.style["border-top"]=w,a.style["border-bottom"]=w;break;case"right":M={x:p.width-7,y:(u.height-7)/2},b={x:0,y:0},s.style["margin-left"]=M.x+"px",s.style["margin-top"]=M.y+"px",s.style["border-left"]=A+" "+r.stroke,s.style["border-right"]="",s.style["border-top"]=w,s.style["border-bottom"]=w,a.style["margin-left"]=M.x-1+"px",a.style["margin-top"]=M.y+"px",a.style["border-left"]=A+" "+r.fill,a.style["border-right"]="",a.style["border-top"]=w,a.style["border-bottom"]=w;break;case"top":M={x:p.width/2-3.5,y:0},b={x:0,y:7},n.style["margin-top"]=b.y+"px",s.style["margin-left"]=M.x+"px",s.style["border-top"]="",s.style["border-bottom"]=A+" "+r.stroke,s.style["border-left"]=w,s.style["border-right"]=w,a.style["margin-left"]=M.x+"px",a.style["margin-top"]="1px",a.style["border-top"]="",a.style["border-bottom"]=A+" "+r.fill,a.style["border-left"]=w,a.style["border-right"]=w;break;case"bottom":M={x:p.width/2-3.5,y:p.height-7},b={x:0,y:0},s.style["margin-left"]=M.x+"px",s.style["margin-top"]=M.y+"px",s.style["border-top"]=A+" "+r.stroke,s.style["border-bottom"]="",s.style["border-left"]=w,s.style["border-right"]=w,a.style["margin-left"]=M.x+"px",a.style["margin-top"]=M.y-1+"px",a.style["border-top"]=A+" "+r.fill,a.style["border-bottom"]="",a.style["border-left"]=w,a.style["border-right"]=w}""==x?(ce(s).hide(),ce(a).hide()):(ce(s).show(),ce(a).show()),ce(d).css({width:p.width+"px",height:p.height+"px"});var S=o.host.coord();h&&(ce(d).fadeOut(0,0),d.style.left=v+S.left+"px",d.style.top=N+S.top+"px"),ce(d).clearQueue(),ce(d).animate({left:v+S.left,top:N+S.top,opacity:1},o.toolTipMoveDuration,"easeInOutCirc"),ce(d).fadeTo(400,1)}}else ce(d).fadeTo(0,0)},_measureHtml:function(e,t){var i=this._measureDiv;i||(this._measureDiv=i=document.createElement("div"),i.style.position="absolute",i.style.cursor="default",i.style.overflow="hidden",i.style.display="none",ce(i).addClass(t),this.host.append(i)),ce(i).html(e);var r={width:ce(i).width()+2,height:ce(i).height()+2};return ce.jqx.browser&&ce.jqx.browser.mozilla&&(r.height+=3),r},_hideToolTip:function(e){this._ttEl&&(this._ttEl.box&&(0==e?ce(this._ttEl.box).hide():ce(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(e){return ce.jqx.getByPriority(e)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},r={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},a={visible:this._get([s.visible,e.showTickMarks,!0]),color:t._get([s.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:t._get([s.step,e.tickMarksStep]),dashStyle:t._get([s.dashStyle,e.tickMarksDashStyle]),width:t._get([s.lineWidth,1]),size:t._get([s.size,4]),offsets:[]},n=e.title||{},o={visible:t._get([n.visible,!0]),text:t._get([e.description,n.text]),style:t._get([e.descriptionClass,n.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,n.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,n.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([n.rotationPoint,"centercenter"]),offset:t._get([n.offset,{x:0,y:0}])},l=e.line||{},h={visible:t._get([l.visible,!0]),color:t._get([l.color,r.color,t._defaultLineColor]),dashStyle:t._get([l.dashStyle,r.dashStyle,""]),width:t._get([l.lineWidth,1]),angle:t._get([l.angle,NaN])},d={left:(d=e.padding||{}).left||0,right:d.right||0,top:d.top||0,bottom:d.bottom||0},f=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:r,tickMarks:a,line:h,title:o,labels:f,padding:d,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,f.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,f.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(e,t,i,r){for(var s=this.seriesGroups[e],a=s.series[t],n=isNaN(i)?void 0:this._getDataValue(i,a.dataField,e),o=r||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],l={},h=0;h<o.length;h++){var d=o[h],f="labels"+d,u="label"+d,g=d.substring(0,1).toLowerCase()+d.substring(1),c=void 0;s.labels&&"object"==typeof s.labels&&(c=s.labels[g]),a.labels&&"object"==typeof a.labels&&null!=a.labels[g]&&(c=a.labels[g]),c=this._get([a[f],a[u],c,s[f],s[u]]),ce.isFunction(c)?l[g]=c(n,i,a,s):l[g]=c}l.class=l.class||this.toThemeProperty("jqx-chart-label-text",null),l.visible=this._get([l.visible,a.showLabels,s.showLabels,null!=a.labels||void 0,null!=s.labels||void 0]);var m=l.padding||1;return l.padding={left:this._get([m.left,isNaN(m)?1:m]),right:this._get([m.right,isNaN(m)?1:m]),top:this._get([m.top,isNaN(m)?1:m]),bottom:this._get([m.bottom,isNaN(m)?1:m])},l},_showLabel:function(e,t,i,r,s,a,n,o,l,h,d){this.seriesGroups[e].series[t];var f={width:0,height:0};if(!isNaN(i)){var u=this._getLabelsSettings(e,t,i);if(!u.visible)return n?f:void 0;if(r.width<0||r.height<0)return n?f:void 0;var g=u.angle;isNaN(h)||(g=h);var c=u.offset||{},m={x:c.x,y:c.y};isNaN(m.x)&&(m.x=0),isNaN(m.y)&&(m.y=0),s=s||u.horizontalAlignment||"center",a=a||u.verticalAlignment||"center";var _=this._getFormattedValue(e,t,i,void 0,void 0,!0),p=r.width,x=r.height;if(1==o&&"center"!=s&&(s="right"==s?"left":"right"),1==l&&"center"!=a&&"middle"!=a&&(a="top"==a?"bottom":"top",m.y*=-1),f=this.renderer.measureText(_,g,{class:u.class}),n)return f;var y=0,v=0;0<p&&(""==s||"center"==s?y+=(p-f.width)/2:"right"==s&&(y+=p-f.width)),0<x&&(""==a||"center"==a?v+=(x-f.height)/2:"bottom"==a&&(v+=x-f.height)),y+=r.x+m.x,v+=r.y+m.y;var N=this._plotRect;y<=N.x&&(y=N.x+2),v<=N.y&&(v=N.y+2);var M,b=Math.max(f.width,1),A=Math.max(f.height,1);v+A>=N.y+N.height&&(v=N.y+N.height-A-2),y+b>=N.x+N.width&&(y=N.x+N.width-b-2);var w=u.backgroundColor,S=u.borderColor,C=u.padding;(w||S)&&(M=this.renderer.beginGroup(),r=this.renderer.rect(y-C.left,v-C.top,f.width+C.left+C.right,f.height+C.bottom+C.bottom,{fill:w||"transparent","fill-opacity":u.backgroundOpacity||1,stroke:S||"transparent","stroke-opacity":u.borderOpacity,"stroke-width":1}));var k=this.renderer.text(_,y,v,f.width,f.height,g,{class:u.class,opacity:u.opacity||1},!1,"center","center");return d&&(d.x=y-C.left,d.y=v-C.top,d.width=f.width+C.left+C.right,d.height=f.height+C.bottom+C.bottom),this._isVML&&(this.renderer.removeElement(k),this.renderer.getContainer()[0].appendChild(k)),M&&this.renderer.endGroup(),M||k}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],r=isNaN(t)?void 0:i.series[t],s=1==this.enableAnimations;i.enableAnimations&&(s=1==i.enableAnimations),r&&r.enableAnimations&&(s=1==r.enableAnimations);var a=this.animationDuration;isNaN(a)&&(a=1e3);var n,o=i.animationDuration;return isNaN(o)||(a=o),r&&(n=r.animationDuration,isNaN(n)||(a=n)),5e3<a&&(a=1e3),{enabled:s,duration:a}},_isColorTransition:function(e,t,i,r){if(r-1<i.xoffsets.first)return!1;var s=this._getColors(e,t,r,this._getGroupGradientType(e)),a=this._getColors(e,t,r-1,this._getGroupGradientType(e));return s.fillColor!=a.fillColor},_renderLineSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){var r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("stacked"),a=s&&-1!=i.type.indexOf("100"),n=-1!=i.type.indexOf("spline"),o=-1!=i.type.indexOf("step"),l=-1!=i.type.indexOf("range"),h=1==i.polar||1==i.spider;if(h&&(o=!1),!o||!n){var d=this._getDataLen(e),f=(t.width,"horizontal"==i.orientation),u=1==this._getXAxis(e).flip,g=t;f&&(g={x:t.y,y:t.x,width:t.height,height:t.width});var c=this._calcGroupOffsets(e,g);if(c&&0!=c.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[e]={};for(var m=i.series.length-1;0<=m;m--){var _=this._getSerieSettings(e,m),p={groupIndex:e,rect:g,serieIndex:m,swapXY:f,isArea:r,isSpline:n,isRange:l,isPolar:h,settings:_,segments:[],pointsLength:0};if(this._isSerieVisible(e,m)){var x=i.series[m];if(!x.customDraw){var y=ce.isFunction(x.colorFunction),v=c.xoffsets.first,N=v,M=this._getColors(e,m,NaN,this._getGroupGradientType(e));do{var b=[],A=[],w=[],S=0,C=0,k=NaN,D=NaN,F=NaN;if(!(c.xoffsets.length<1)){for(var T,j,O,I,P,q,L,R=this._getAnimProps(e,m),G=R.enabled&&!this._isToggleRefresh&&c.xoffsets.length<1e4&&1!=this._isVML?R.duration:0,V=v,E=!1,H=(this._getColors(e,m,v,this._getGroupGradientType(e)),void 0),B=v;B<=c.xoffsets.last;B++){v=B;var z=c.xoffsets.data[B],W=c.xoffsets.xvalues[B];if(!isNaN(z)&&(S=z=Math.max(z,1),C=c.offsets[m][B].to,!(!y&&H&&this.enableSampling&&ce.jqx._ptdist(H.x,H.y,S,C)<1))){H={x:S,y:C};var X=c.offsets[m][B].from;if(isNaN(C)||isNaN(X)){if("connect"==x.emptyPointsDisplay)continue;if("zero"!=x.emptyPointsDisplay){E=!0;break}isNaN(C)&&(C=c.baseOffset),isNaN(X)&&(X=c.baseOffset)}if(y&&this._isColorTransition(e,m,c,v)&&1<b.length){v--;break}var U,Y,Z=this._elementRenderInfo;Z&&Z.length>e&&Z[e].series.length>m&&(U=Z[e].series[m][W],F=ce.jqx._ptrnd(U?U.to:void 0),Y=ce.jqx._ptrnd(g.x+(U?U.xoffset:void 0)),w.push(f?{y:Y,x:F,index:B}:{x:Y,y:F,index:B})),N=B,_.stroke<2&&(C-g.y<=1&&(C=g.y+1),X-g.y<=1&&(X=g.y+1),g.y+g.height-C<=1&&(C=g.y+g.height-1),g.y+g.height-X<=1&&(X=g.y+g.height-1)),!r&&a&&(C<=g.y&&(C=g.y+1),C>=g.y+g.height&&(C=g.y+g.height-1),X<=g.y&&(X=g.y+1),X>=g.y+g.height&&(X=g.y+g.height-1)),S=(z=Math.max(z,1))+g.x,1==i.skipOverlappingPoints&&!isNaN(k)&&Math.abs(k-S)<=1||(!o||isNaN(k)||isNaN(D)||D!=C&&b.push(f?{y:S,x:ce.jqx._ptrnd(D)}:{x:S,y:ce.jqx._ptrnd(D)}),b.push(f?{y:S,x:ce.jqx._ptrnd(C),index:B}:{x:S,y:ce.jqx._ptrnd(C),index:B}),A.push(f?{y:S,x:ce.jqx._ptrnd(X),index:B}:{x:S,y:ce.jqx._ptrnd(X),index:B}),k=S,D=C,isNaN(F)&&(F=C))}}0!=b.length?(T=b[b.length-1].index,y&&(M=this._getColors(e,m,T,this._getGroupGradientType(e))),O=g.x+c.xoffsets.data[V],I=g.x+c.xoffsets.data[N],r&&1==i.alignEndPointsWithIntervals&&(O>g.x&&(O=g.x),I<g.x+g.width&&(I=g.x+g.width),u&&(j=O,O=I,I=j)),I=ce.jqx._ptrnd(I),O=ce.jqx._ptrnd(O),P=c.baseOffset,F=ce.jqx._ptrnd(F),q=ce.jqx._ptrnd(C)||P,l&&(b=b.concat(A.reverse())),p.pointsLength+=b.length,L={lastItemIndex:T,colorSettings:M,pointsArray:b,pointsStart:w,left:O,right:I,pyStart:F,pyEnd:q,yBase:P,labelElements:[],symbolElements:[]},p.segments.push(L)):v++}}while(v<c.xoffsets.first+c.xoffsets.length-1||E);this._linesRenderInfo[e][m]=p}}else this._linesRenderInfo[e][m]=p}var J=this._linesRenderInfo[e],Q=[];for(var B in J)Q.push(J[B]);Q=Q.sort(function(e,t){return e.serieIndex-t.serieIndex}),r&&s&&Q.reverse();for(B=0;B<Q.length;B++){p=Q[B];this._animateLine(p,0==G?1:0);var K=this;this._enqueueAnimation("series",void 0,void 0,G,function(e,t,i){K._animateLine(t,i)},p)}}}}},_animateLine:function(e,t){var i=e.settings,r=e.groupIndex,s=e.serieIndex,a=this.seriesGroups[r],n=a.series[s],o=this._getSymbol(r,s),l=this._getLabelsSettings(r,s,NaN,["Visible"]).visible,h=!0;e.isPolar&&(isNaN(a.endAngle)||360==Math.round(Math.abs((isNaN(a.startAngle)?0:a.startAngle)-a.endAngle))||(h=!1)),0==n.endPointsConnect&&(h=!1);for(var d=0,f=0;f<e.segments.length;f++){var u=e.segments[f],g=this._calculateLine(r,e.pointsLength,d,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(d+=u.pointsArray.length,""!=g){var c=g.split(" "),m=(c.length,""!=(m=g)?this._buildLineCmd(g,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0"),_=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:m}):(u.pathElement=this.renderer.path(m,{"stroke-width":i.stroke,stroke:_.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?_.fillColor:"none"}),this._installHandlers(u.pathElement,"path",r,s,u.lastItemIndex)),u.labelElements){for(var p=0;p<u.labelElements.length;p++)this.renderer.removeElement(u.labelElements[p]);u.labelElements=[]}if(u.symbolElements){for(p=0;p<u.symbolElements.length;p++)this.renderer.removeElement(u.symbolElements[p]);u.symbolElements=[]}if(u.pointsArray.length==c.length&&("none"!=o||l))for(var x=n.symbolSize,y=this._plotRect,p=0;p<c.length;p++){var v,N,M,b,A,w=c[p].split(",");(w={x:parseFloat(w[0]),y:parseFloat(w[1])}).x<y.x||w.x>y.x+y.width||w.y<y.y||w.y>y.y+y.height||("none"!=o&&(v=this._getColors(r,s,u.pointsArray[p].index,this._getGroupGradientType(r)),N=this._drawSymbol(o,w.x,w.y,v.fillColorSymbol,i.opacity,v.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,x),u.symbolElements.push(N)),l&&(M=(0<p?c[p-1]:c[p]).split(","),M={x:parseFloat(M[0]),y:parseFloat(M[1])},A=(p<c.length-1?c[p+1]:c[p]).split(","),A={x:parseFloat(A[0]),y:parseFloat(A[1])},(w=this._adjustLineLabelPosition(r,s,u.pointsArray[p].index,w,M,A))&&(b=this._showLabel(r,s,u.pointsArray[p].index,{x:w.x,y:w.y,width:0,height:0}),u.labelElements.push(b))))}if(1==t&&"none"!=o)for(p=0;p<u.symbolElements.length;p++)isNaN(u.pointsArray[p].index)||this._installHandlers(u.symbolElements[p],"symbol",r,s,u.pointsArray[p].index)}}},_adjustLineLabelPosition:function(e,t,i,r,s,a){var n=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(n){var o={x:r.x-n.width/2,y:0};return o.y=r.y-1.5*n.height,o}},_calculateLine:function(e,t,i,r,s,a,n,o,l){var h,d=this.seriesGroups[e];1!=d.polar&&1!=d.spider||(h=this._getPolarAxisCoords(e,this._plotRect));var f="",u=r.length;o||0!=s.length||(u=t*n-i);for(var g=0;g<u+1&&g<r.length;g++){0<g&&(f+=" ");var c,m=r[g].y,_=r[g].x,p=o?a:m,x=_;s&&s.length>g&&(p=s[g].y,x=s[g].x,(isNaN(p)||isNaN(x))&&(p=m,x=_)),u<=r.length&&0<g&&g==u&&(x=r[g-1].x,p=r[g-1].y),m=l?(_=ce.jqx._ptrnd((_-p)*(o?n:1)+p),ce.jqx._ptrnd(m)):(_=ce.jqx._ptrnd((_-x)*n+x),ce.jqx._ptrnd((m-p)*n+p)),h&&(_=(c=this._toPolarCoord(h,this._plotRect,_,m)).x,m=c.y),f+=_+","+m}return f},_buildLineCmd:function(e,t,i,r,s,a,n,o,l,h,d,f){var u=e,g=f?n+","+i:i+","+n;!o||l||t||(u=g+" "+e+" "+(f?n+","+r:r+","+n)),d&&(u=this._getBezierPoints(u));var c=u.split(" ");if(0==c.length)return"";if(1==c.length){var m=c[0].split(",");return"M "+c[0]+" L"+(parseFloat(m[0])+1)+","+(parseFloat(m[1])+1)}var _=c[0].replace("M","");return o&&!l?u=t?"M "+_+" L "+_+(d?"":" L "+_+" ")+u:"M "+g+" L "+_+" "+u:d||(u="M "+_+" L "+_+" "+u),(l&&h||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("line"),a=i.series[t],n=a.dashStyle||i.dashStyle||"",o=a.opacity||i.opacity;(isNaN(o)||o<0||1<o)&&(o=1);var l=a.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||l<0||15<l)&&(l=r?2:s?3:1);var h=a.lineWidthSymbol;return isNaN(h)&&(h=1),{stroke:l,strokeSymbol:h,opacity:o,dashStyle:n}},_getColors:function(e,t,i,r,s){var a=this.seriesGroups[e],n=a.series[t],o=this._get([n.useGradientColors,a.useGradientColors,a.useGradient,!0]),l=this._getSeriesColors(e,t,i);l.fillColor||(l.fillColor=x,l.fillColorSelected=ce.jqx.adjustColor(x,1.1),l.fillColorAlt=ce.jqx.adjustColor(x,4),l.fillColorAltSelected=ce.jqx.adjustColor(x,3),l.lineColor=l.symbolColor=ce.jqx.adjustColor(x,.9),l.lineColorSelected=l.symbolColorSelected=ce.jqx.adjustColor(x,.9));var h=[[0,1.4],[100,1]],d=[[0,1],[25,1.1],[50,1.4],[100,1]],f=NaN;if(isNaN(s)||(f=2==s?h:d),o){var u,g={};for(var c in l)g[c]=l[c];if(l=g,"verticalLinearGradient"==r||"horizontalLinearGradient"==r){var m="verticalLinearGradient"==r?f||h:f||d,_=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var p in _){var x=l[_[p]];x&&(l[_[p]]=this.renderer._toLinearGradient(x,"verticalLinearGradient"==r,m))}}else{"radialGradient"==r&&(f=h,("pie"==a.type||"donut"==a.type||a.polar)&&null!=i&&this._renderData[e]&&this._renderData[e].offsets[t]&&(u=this._renderData[e].offsets[t][i],f=[[0,1.3],[90,1.2],[100,1]]),l.fillColor=this.renderer._toRadialGradient(l.fillColor,f,u),l.fillColorSelected=this.renderer._toRadialGradient(l.fillColorSelected,f,u))}}return l},_installHandlers:function(i,r,a,n,o){if(!this.enableEvents)return!1;var l=this,t=this.seriesGroups[a],s=this.seriesGroups[a].series[n],h=-1!=t.type.indexOf("line")||-1!=t.type.indexOf("area");h||0==t.enableSelection||0==s.enableSelection||this.renderer.addHandler(i,"mousemove",function(e){var t,i,r,s=l._selected;s&&s.isLineType&&"click"==s.linesUnselectMode&&(s.group!=a||s.series!=n)||(t=e.pageX||e.clientX||e.screenX,i=e.pageY||e.clientY||e.screenY,t-=(r=l.host.offset()).left,i-=r.top,l._mouseX==t&&l._mouseY==i||l._ttEl&&l._ttEl.gidx==a&&l._ttEl.sidx==n&&l._ttEl.iidx==o||l._startTooltipTimer(a,n,o))}),0!=t.enableSelection&&0!=s.enableSelection&&this.renderer.addHandler(i,"mouseover",function(e){var t=l._selected;t&&t.isLineType&&"click"==t.linesUnselectMode&&(t.group!=a||t.series!=n)||l._select(i,r,a,n,o,o)}),this.renderer.addHandler(i,"click",function(e){clearTimeout(l._hostClickTimer),l._lastClickTs=(new Date).valueOf(),h&&"symbol"!=r&&"pointMarker"!=r||(l._isColumnType(t.type)&&l._unselect(),isNaN(o)||(e.stopImmediatePropagation(),l._raiseItemEvent("click",t,s,o)))})},_getHorizontalOffset:function(e,t,i,r){var s=this._plotRect;if(0==this._getDataLen(e))return{index:void 0,value:i};var a=this._calcGroupOffsets(e,this._plotRect);if(0==a.xoffsets.length)return{index:void 0,value:void 0};var n,o=i,l=r,h=this.seriesGroups[e];(h.polar||h.spider)&&(n=this._getPolarAxisCoords(e,s));this._getXAxis(e).flip;for(var d,f,u,g,c=a.xoffsets.first;c<=a.xoffsets.last;c++){var m,_,p=a.xoffsets.data[c],x=a.offsets[t][c].to,y=0;y=n?(p=(m=this._toPolarCoord(n,s,p+s.x,x)).x,x=m.y,ce.jqx._ptdist(o,l,p,x)):"horizontal"==h.orientation?(_=x,x=p+=s.y,p=_,ce.jqx._ptdist(o,l,p,x)):(p+=s.x,Math.abs(o-p)),(isNaN(d)||y<d)&&(d=y,f=c,u=p,g=x)}return{index:f,value:a.xoffsets.data[f],polarAxisCoords:n,x:u,y:g}},onmousemove:function(e,t){if((this._mouseX!=e||this._mouseY!=t)&&(this._mouseX=e,this._mouseY=t,this._selected)){var i=this._selected.group,r=this._selected.series,s=this.seriesGroups[i],a=s.series[r],n=this._plotRect;if(this.renderer&&((n=this.renderer.getRect()).x+=5,n.y+=5,n.width-=10,n.height-=10),e<n.x||e>n.x+n.width||t<n.y||t>n.y+n.height)return this._hideToolTip(),void this._unselect();var o="horizontal"==s.orientation,n=this._plotRect;if(-1!=s.type.indexOf("line")||-1!=s.type.indexOf("area")){var l=this._getHorizontalOffset(i,this._selected.series,e,t),h=l.index;if(null==h)return;if(this._selected.item!=h){for(var d=this._linesRenderInfo[i][r].segments,f=0;h>d[f].lastItemIndex;)if(++f>=d.length)return;var u=d[f].pathElement,g=d[f].lastItemIndex;this._unselect(!1),this._select(u,"path",i,r,h,g)}var c=this._getSymbol(this._selected.group,this._selected.series);"none"==c&&(c="circle");var m=this._calcGroupOffsets(i,n),_=m.offsets[this._selected.series][h].to,p=_;-1!=s.type.indexOf("range")&&(p=m.offsets[this._selected.series][h].from);var x,y=o?e:t;if(t=!isNaN(p)&&Math.abs(y-p)<Math.abs(y-_)?p:_,isNaN(t))return;if(e=l.value,o?(x=e,e=t,t=x+n.y):e+=n.x,l.polarAxisCoords&&(e=l.x,t=l.y),t=ce.jqx._ptrnd(t),e=ce.jqx._ptrnd(e),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(e)||isNaN(t))return;var v=this._getSeriesColors(i,r,h),N=this._getSerieSettings(i,r),M=a.symbolSizeSelected;isNaN(M)&&(M=a.symbolSize),(isNaN(M)||50<M||M<0)&&(M=s.symbolSize),(isNaN(M)||50<M||M<0)&&(M=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:c,x:e,y:t,gidx:i,sidx:r,iidx:h},this._pointMarker.element=this._drawSymbol(c,e,t,v.fillColorSymbolSelected,N.opacity,v.lineColorSymbolSelected,N.opacity,N.strokeSymbol,N.dashStyle,M),this._installHandlers(this._pointMarker.element,"pointMarker",i,r,h)),this._startTooltipTimer(i,this._selected.series,h)}}},_drawSymbol:function(e,t,i,r,s,a,n,o,l,h){var d=h||6,f=d/2;switch(e){case"none":return;case"circle":g=this.renderer.circle(t,i,d/2);break;case"square":f=--d/2,g=this.renderer.rect(t-f,i-f,d,d);break;case"diamond":var u="M "+(t-f)+","+i+" L"+t+","+(i-f)+" L"+(t+f)+","+i+" L"+t+","+(i+f)+" Z",g=this.renderer.path(u);break;case"triangle_up":case"triangle":u="M "+(t-f)+","+(i+f)+" L "+(t+f)+","+(i+f)+" L "+t+","+(i-f)+" Z";g=this.renderer.path(u);break;case"triangle_down":u="M "+(t-f)+","+(i-f)+" L "+t+","+(i+f)+" L "+(t+f)+","+(i-f)+" Z";g=this.renderer.path(u);break;case"triangle_left":u="M "+(t-f)+","+i+" L "+(t+f)+","+(i+f)+" L "+(t+f)+","+(i-f)+" Z";g=this.renderer.path(u);break;case"triangle_right":u="M "+(t-f)+","+(i-f)+" L "+(t-f)+","+(i+f)+" L "+(t+f)+","+i+" Z";g=this.renderer.path(u);break;default:g=this.renderer.circle(t,i,d)}return this.renderer.attr(g,{fill:r,"fill-opacity":s,stroke:a,"stroke-width":o,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(g,{r:d/2}),"square"!=e&&this.renderer.attr(g,{x:t,y:i})),g},_getSymbol:function(e,t){var i,r=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],s=this.seriesGroups[e],a=s.series[t];return null!=a.symbolType&&(i=a.symbolType),null==i&&(i=s.symbolType),"default"==i?r[t%r.length]:null!=i?i:"none"},_startTooltipTimer:function(t,i,r,s,a,e,n){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[t],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||1e4<l||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(e)||(l=e),clearTimeout(this._tttimerHide),isNaN(s)&&(s=o._mouseX),isNaN(a)&&(a=o._mouseY-3),0==l&&o._showToolTip(s,a,t,i,r),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(s,a,t,i,r);var e=o.toolTipHideDelay;isNaN(n)||(e=n),isNaN(e)&&(e=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},e)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,r,s,a){if(this._selected){if(this._selected.item==s&&this._selected.series==r&&this._selected.group==i)return;this._unselect()}var n,o,l,h,d,f,u=this.seriesGroups[i],g=u.series[r];0!=u.enableSelection&&0!=g.enableSelection&&(n=-1!=u.type.indexOf("line")&&-1==u.type.indexOf("area"),this._selected={element:e,type:t,group:i,series:r,item:s,iidxBase:a,isLineType:n,linesUnselectMode:g.linesUnselectMode||u.linesUnselectMode},d=(o=this._getColors(i,r,a||s,this._getGroupGradientType(i))).fillColorSelected,n&&(d="none"),l=this._getSerieSettings(i,r),h="symbol"==t?o.lineColorSymbolSelected:o.lineColorSelected,d="symbol"==t?o.fillColorSymbolSelected:d,f="symbol"==t?1:l.stroke,this.renderer.getAttr(e,"fill")==o.fillColorAlt&&(d=o.fillColorAltSelected),this.renderer.attr(e,{stroke:h,fill:d,"stroke-width":f}),-1==u.type.indexOf("pie")&&-1==u.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",u,g,s))},_applyPieSelect:function(){var n=this;n._createAnimationGroup("animPieSlice");var e,t,o=this._selected;!o||(e=this.getItemCoord(o.group,o.series,o.item))&&(t={element:this._getRenderInfo(o.group,o.series,o.item),coord:e},this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(e,t,i){var r=t.coord,s=r.selectedRadiusChange*i,a=n.renderer.pieSlicePath(r.center.x,r.center.y,0==r.innerRadius?0:r.innerRadius+s,r.outerRadius+s,r.fromAngle,r.toAngle,r.centerOffset);n.renderer.attr(t.element.element,{d:a}),n._showPieLabel(o.group,o.series,o.item,void 0,s)},t),n._startAnimation("animPieSlice"))},_applyPieUnselect:function(){this._stopAnimations();var e,t,i=this._selected;!i||(e=this.getItemCoord(i.group,i.series,i.item))&&e.center&&(t=this.renderer.pieSlicePath(e.center.x,e.center.y,e.innerRadius,e.outerRadius,e.fromAngle,e.toAngle,e.centerOffset),this.renderer.attr(i.element,{d:t}),this._showPieLabel(i.group,i.series,i.item,void 0,0))},_unselect:function(){var e,t,i,r,s,a,n,o,l,h,d,f,u,g=this;g._selected&&(e=g._selected.group,t=g._selected.series,i=g._selected.item,r=g._selected.iidxBase,s=g._selected.type,n=(a=g.seriesGroups[e]).series[t],o=-1!=a.type.indexOf("line")&&-1==a.type.indexOf("area"),f=(l=g._getColors(e,t,r||i,g._getGroupGradientType(e))).fillColor,o&&(f="none"),h=g._getSerieSettings(e,t),d="symbol"==s?l.lineColorSymbol:l.lineColor,f="symbol"==s?l.fillColorSymbol:f,this.renderer.getAttr(g._selected.element,"fill")==l.fillColorAltSelected&&(f=l.fillColorAlt),u="symbol"==s?1:h.stroke,g.renderer.attr(g._selected.element,{stroke:d,fill:f,"stroke-width":u}),-1==a.type.indexOf("pie")&&-1==a.type.indexOf("donut")||this._applyPieUnselect(),g._selected=void 0,isNaN(i)||g._raiseItemEvent("mouseout",a,n,i)),g._pointMarker&&(g._pointMarker.element&&(g.renderer.removeElement(g._pointMarker.element),g._pointMarker.element=void 0),g._pointMarker=void 0,g._hideCrosshairs())},_raiseItemEvent:function(e,t,i,r){for(var s,a=i[e]||t[e],n=0;n<this.seriesGroups.length&&this.seriesGroups[n]!=t;n++);n!=this.seriesGroups.length&&(s={event:e,seriesGroup:t,serie:i,elementIndex:r,elementValue:this._getDataValue(r,i.dataField,n)},a&&ce.isFunction(a)&&a(s),this._raiseEvent(e,s))},_raiseEvent:function(e,t){var i=new ce.Event(e);return i.owner=this,t.event=e,i.args=t,this.host.trigger(i)},_calcInterval:function(e,t,i){var r=Math.abs(t-e)/i,s=.1,a=[1,2,3,4,5,10,15,20,25,50,100];r<1&&(a=[.5,.25,.125,.1],s=10);var n=0;do{n=0,1<=r?s*=10:s/=10;for(var o=1;o<a.length&&Math.abs(a[n]*s-r)>Math.abs(a[o]*s-r);o++)n=o}while(n==a.length-1);return a[n]*s},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],r=this._renderData[t];if(r.offsets){if(r.valueAxis)for(var s in i.valueAxis={itemOffsets:{}},r.valueAxis.itemOffsets)i.valueAxis.itemOffsets[s]=r.valueAxis.itemOffsets[s];if(r.xAxis)for(var s in i.xAxis={itemOffsets:{}},r.xAxis.itemOffsets)i.xAxis.itemOffsets[s]=r.xAxis.itemOffsets[s];i.series=[];for(var a=i.series,n=this._isPieGroup(t),o=0;o<r.offsets.length;o++){a.push({});for(var l,h=0;h<r.offsets[o].length;h++){n?(l=r.offsets[o][h],a[o][l.displayValue]={value:l.value,x:l.x,y:l.y,fromAngle:l.fromAngle,toAngle:l.toAngle}):a[o][r.xoffsets.xvalues[h]]={value:r.offsets[o][h].value,valueRadius:r.offsets[o][h].valueRadius,xoffset:r.xoffsets.data[h],from:r.offsets[o][h].from,to:r.offsets[o][h].to}}}}}}},getPolarDataPointOffset:function(e,t,i){var r=this._renderData[i];if(!r)return{x:NaN,y:NaN};var s=this.getValueAxisDataPointOffset(t,i),a=this.getXAxisDataPointOffset(e,i),n=this._toPolarCoord(r.polarCoords,r.xAxis.rect,a,s);return{x:n.x,y:n.y}},_getDataPointOffsetDiff:function(e,t,i,r,s,a,n){var o=this._getDataPointOffset(e,i,r,s,a,n),l=this._getDataPointOffset(t,i,r,s,a,n);return Math.abs(o-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var r=0;r<=e&&null!=this.seriesGroups[r].xAxis;r++);i=this._renderData[r].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;var r=this._getXAxisRenderData(t);if(!r)return NaN;var s=r.data.axisStats,a=s.min.valueOf(),n=s.max.valueOf(),o=n-a;if(0==o&&(o=1),e.valueOf()>n||e.valueOf()<a)return NaN;var l=this._getXAxis(t),h="horizontal"==i.orientation?"height":"width",d="horizontal"==i.orientation?"y":"x",f=(e.valueOf()-a)/o,u=r.rect[h]-r.data.padding.left-r.data.padding.right;return(i.polar||i.spider)&&this._renderData[t].polarCoords.isClosedCircle&&(u=r.data.axisSize),this._plotRect[d]+r.data.padding.left+u*(l.flip?1-f:f)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var r=this._renderData[t];if(!r)return NaN;var s=1==i.flip,a=r.logBase,n=r.scale,o=r.gbase,l=r.baseOffset;return this._getDataPointOffset(e,o,a,n,l,s)},_getDataPointOffset:function(e,t,i,r,s,a){var n;return isNaN(e)&&(e=t),n=isNaN(i)?(e-t)*r:(ce.jqx.log(e,i)-ce.jqx.log(t,i))*r,this._isVML&&(n=Math.round(n)),n=a?s+n:s-n},_calcGroupOffsets:function(e,t){for(var i=this.seriesGroups[e];this._renderData.length<e+1;)this._renderData.push({});if(null!=this._renderData[e]&&null!=this._renderData[e].offsets)return this._renderData[e];if(this._isPieGroup(e))return this._calcPieSeriesGroupOffsets(e,t);var r=this._getValueAxis(e);if(!r||!i.series||0==i.series.length)return this._renderData[e];var s=1==r.flip,a=1==r.logarithmicScale,n=r.logarithmicScaleBase||10,o=[],l=-1!=i.type.indexOf("stacked"),h=l&&-1!=i.type.indexOf("100"),d=-1!=i.type.indexOf("range"),f=this._isColumnType(i.type),u=-1!=i.type.indexOf("waterfall"),g=this._getDataLen(e),c=i.baselineValue||r.baselineValue||0;h&&(c=0);var m=this._stats.seriesGroups[e];if(m&&m.isValid){var _=m.hasStackValueReversal;if(_&&(c=0),u&&l){if(_)return;c=m.base}c>m.max&&(c=m.max),c<m.min&&(c=m.min);var p=h||a?m.maxRange:m.max-m.min,x=m.min,y=m.max,v=t.height/(a?m.intervals:p),N=0,N=h?x*y<0?-((p/=2)+c)*v:-c*v:-(c-x)*v;s?N=t.y-N:N+=t.y+t.height;var M,b=[],A=[],w=[];a&&(M=ce.jqx.log(y,n)-ce.jqx.log(c,n),l&&(M=m.intervals,c=h?0:x),m.intervals,s||(N=t.y+M/m.intervals*t.height)),N=ce.jqx._ptrnd(N);for(var S=x*y<0?t.height/2:t.height,C=[],k=[],D=l&&(f||a),F=[],o=new Array(i.series.length),T=0;T<i.series.length;T++)o[T]=new Array(g);for(var j=0;j<g;j++){!u&&l&&(k=[]);for(T=0;T<i.series.length;T++){!l&&a&&(C=[]);var O=i.series[T],I=O.dataField,P=O.dataFieldFrom,q=O.dataFieldTo,L=O.radiusDataField||O.sizeDataField;o[T][j]={};var R=this._isSerieVisible(e,T);if(-1==i.type.indexOf("candle")&&-1==i.type.indexOf("ohlc")){if(l)for(;k.length<=j;)k.push(0);var G=NaN;d&&(G=this._getDataValueAsNumber(j,P,e),isNaN(G)&&(G=c));var V,E=NaN,E=d?this._getDataValueAsNumber(j,q,e):this._getDataValueAsNumber(j,I,e),H=this._getDataValueAsNumber(j,L,e);if(l&&(k[j]+=R?E:0),R||(E=NaN),isNaN(E)||a&&E<=0)o[T][j]={from:void 0,to:void 0};else{l&&(D?V=c<=E?b:A:E=k[j]);var B=d?v*(E-G):v*(E-c);if(l&&D&&(B=F[j]?v*E:(F[j]=!0,v*(E-c))),a){for(;C.length<=j;)C.push({p:{value:0,height:0},n:{value:0,height:0}});var z=d||d?G:c,W=z<E?C[j].p:C[j].n;W.value+=E,h?(E=W.value/(m.psums[j]+m.nsums[j])*100,B=(ce.jqx.log(E,n)-m.minPow)*v):(B=ce.jqx.log(W.value,n)-ce.jqx.log(z,n),B*=v),B-=W.height,W.height+=B}var X,U,Y=N;d&&(X=0,X=a?(ce.jqx.log(G,n)-ce.jqx.log(c,n))*v:(G-c)*v,Y+=s?X:-X),l&&(h&&!a&&(U=m.psums[j]-m.nsums[j],c<E?(B=m.psums[j]/U*S,0!=m.psums[j]&&(B*=E/m.psums[j])):(B=m.nsums[j]/U*S,0!=m.nsums[j]&&(B*=E/m.nsums[j]))),D&&(isNaN(V[j])&&(V[j]=Y),Y=V[j])),isNaN(w[j])&&(w[j]=0);var Z,J=w[j],Q=B=Math.abs(B);if(1<=B&&(Z=this._isVML?Math.round(B):ce.jqx._ptrnd(B)-1,B=.5<Math.abs(B-Z)?Math.round(B):Z),J+=B-Q,l||(J=0),.5<Math.abs(J)&&(0<J?(--B,--J):(B+=1,J+=1)),w[j]=J,T==i.series.length-1&&h){for(var K=0,$=0;$<T;$++)K+=Math.abs(o[$][j].to-o[$][j].from);if((K+=B)<S)if(.5<B)B=ce.jqx._ptrnd(B+S-K);else for($=T-1;0<=$;){if(1<Math.abs(o[$][j].to-o[$][j].from)){o[$][j].from>o[$][j].to&&(o[$][j].from+=S-K);break}$--}}s&&(B*=-1);var ee=E<c;d&&(ee=E<G);var te=isNaN(G)?E:{from:G,to:E};ee?(D&&(V[j]+=B),o[T][j]={from:Y,to:Y+B,value:te,valueRadius:H}):(D&&(V[j]-=B),o[T][j]={from:Y,to:Y-B,value:te,valueRadius:H})}}else{var ie=["Open","Close","High","Low"];for(var re in ie){var se="dataField"+ie[re];O[se]&&(o[T][j][ie[re]]=this._getDataPointOffset(this._getDataValueAsNumber(j,O[se],e),c,a?n:NaN,v,N,s))}}}}var ae=this._renderData[e];return ae.baseOffset=N,ae.gbase=c,ae.logBase=a?n:NaN,ae.scale=v,ae.offsets=u?this._applyWaterfall(o,g,e,N,c,a?n:NaN,v,s,l):o,ae.xoffsets=this._calculateXOffsets(e,t.width),this._renderData[e]}},_isPercent:function(e){return"string"==typeof e&&0<e.length&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(e,t){for(var i=this._getDataLen(e),r=this.seriesGroups[e],s=this._renderData[e]={},a=s.offsets=[],n=0;n<r.series.length;n++){var o=r.series[n],l=this._get([o.minAngle,o.startAngle]);(isNaN(l)||l<0||360<l)&&(l=0);var h=this._get([o.maxAngle,o.endAngle]);(isNaN(h)||h<0||360<h)&&(h=360);var d=h-l,f=o.initialAngle||0;f<l&&(f=l),h<f&&(f=h);var u=o.centerOffset||0,g=ce.jqx.getNum([o.offsetX,r.offsetX,t.width/2]),c=ce.jqx.getNum([o.offsetY,r.offsetY,t.height/2]),m=Math.min(t.width,t.height)/2,_=f,p=o.radius;this._isPercent(p)&&(p=parseFloat(p)/100*m),isNaN(p)&&(p=.4*m);var x=o.innerRadius;this._isPercent(x)&&(x=parseFloat(x)/100*m),(isNaN(x)||p<=x)&&(x=0);var y=o.selectedRadiusChange;this._isPercent(y)&&(y=parseFloat(y)/100*(p-x)),isNaN(y)&&(y=.1*(p-x)),a.push([]);for(var v=0,N=0,M=0;M<i;M++){var b=this._getDataValueAsNumber(M,o.dataField,e);isNaN(b)||!this._isSerieVisible(e,n,M)&&1!=o.hiddenPointsDisplay||(0<b?v+=b:N+=b)}var A=v-N;0==A&&(A=1);for(M=0;M<i;M++){var w,S,C,k,D,F,T,j,b=this._getDataValueAsNumber(M,o.dataField,e);isNaN(b)?a[n].push({}):(w=o.displayText||o.displayField,null==(S=this._getDataValue(M,w,e))&&(S=M),C=0,!(k=this._isSerieVisible(e,n,M))&&1!=o.hiddenPointsDisplay||(C=Math.abs(b)/A*d),D=t.x+g,F=t.y+c,T=u,ce.isFunction(u)&&(T=u({seriesIndex:n,seriesGroupIndex:e,itemIndex:M})),isNaN(T)&&(T=0),j={key:e+"_"+n+"_"+M,value:b,displayValue:S,x:D,y:F,fromAngle:_,toAngle:_+C,centerOffset:T,innerRadius:x,outerRadius:p,selectedRadiusChange:y,visible:k},a[n].push(j),_+=C)}}return s},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var r in e)if(-1!=i.type.indexOf(e[r]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],r=this._getXAxis(e),s=null==r.valuesOnTicks?t:0!=r.valuesOnTicks;return r.logarithmicScale&&(s=!0),null==e||null==i.valuesOnTicks?s:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(e,t,i,r){var s=0;switch("year"!=i&&"month"!=i&&(s=t.valueOf()-e.valueOf()),i){case"year":s=this._getYearsDiff(e,t);break;case"month":s=this._getMonthsDiff(e,t);break;case"day":s/=864e5;break;case"hour":s/=36e5;break;case"minute":s/=6e4;break;case"second":s/=1e3}return"year"!=i&&"month"!=i&&0!=r&&(s=ce.jqx._rnd(s,1,!0)),s},_getBestDTUnit:function(e,t,i,r,s){for(var a="day",n=t.valueOf()-e.valueOf(),a=n<1e3?"second":n<36e5?"minute":n<864e5?"hour":n<2592e6?"day":n<31104e6?"month":"year",o=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,h=0;h<o.length;h++)if(o[h].key==a){l=h;break}for(var d=-1,f=-1;l<o.length&&!(o[l].cnt/100>r);l++){var u=this._estAxisInterval(e,t,i,r,o[l].key,s),g=this._getDTIntCnt(e,t,u,o[l].key);(-1==d||d<g)&&(d=g,f=l)}return a=o[f].key},_getXAxisStats:function(e,t,i){var r,s=this._getDataLen(e),a="date"==t.type||"time"==t.type;a&&!this._autoDateFormats&&(this._autoDateFormats||(this._autoDateFormats=[]),(r=this._testXAxisDateFormat())&&this._autoDateFormats.push(r));var n,o,l=a?this._castAsDate(t.minValue,t.dateFormat):this._castAsNumber(t.minValue),h=a?this._castAsDate(t.maxValue,t.dateFormat):this._castAsNumber(t.maxValue);this._selectorRange&&this._selectorRange[e]&&(n=this._selectorRange[e].min,isNaN(n)||(l=a?this._castAsDate(n,t.dateFormat):this._castAsNumber(n)),o=this._selectorRange[e].max,isNaN(o)||(h=a?this._castAsDate(o,t.dateFormat):this._castAsNumber(o)));for(var d,f,u=l,g=h,c=null==t.type||"auto"==t.type,m=c||"basic"==t.type,_=0,p=0,x=0;x<s&&t.dataField;x++){var y=this._getDataValue(x,t.dataField,e),y=a?this._castAsDate(y,t.dateFormat):this._castAsNumber(y);isNaN(y)||(a?_++:p++,(isNaN(d)||y<d)&&(d=y),(isNaN(f)||f<=y)&&(f=y))}c&&(!a&&p==s||a&&_==s)&&(m=!1),m&&(d=0,f=Math.max(0,s-1)),isNaN(u)&&(u=d),isNaN(g)&&(g=f),a?(this._isDate(u)||(u=this._isDate(g)?g:new Date),this._isDate(g)||(g=this._isDate(u)?u:new Date)):(isNaN(u)&&(u=0),isNaN(g)&&(g=m?Math.max(0,s-1):u)),null==d&&(d=u),null==f&&(f=g);var v,N,M=t.rangeSelector;M&&((v=M.minValue||u)&&a&&(v=this._castAsDate(v,M.dateFormat||t.dateFormat)),(N=M.maxValue||g)&&a&&(N=this._castAsDate(N,M.dateFormat||t.rangeSelector)),u<v&&(u=v),g<v&&(g=N),N<u&&(u=v),N<g&&(g=N));var b,A,w=t.unitInterval;a&&(A="hour"==(b=(b=t.baseUnit)||this._getBestDTUnit(u,g,e,i))||"minute"==b||"second"==b||"millisecond"==b);var S=1==t.logarithmicScale,C=t.logarithmicScaleBase;(isNaN(C)||C<=1)&&(C=10);w=t.unitInterval;S?w=1:(isNaN(w)||w<=0)&&(w=this._estAxisInterval(u,g,e,i,b));var k,D,F={min:u,max:g},T=this.seriesGroups[e];return S?(u||(u=1,g&&g<u&&(u=g)),F={min:u,max:g=g||u},k=ce.jqx._rnd(ce.jqx.log(u,C),1,!1),D=ce.jqx._rnd(ce.jqx.log(g,C),1,!0),g=Math.pow(C,D),u=Math.pow(C,k)):a||!T.polar&&!T.spider||(u=ce.jqx._rnd(u,w,!1),g=ce.jqx._rnd(g,w,!0)),{min:u,max:g,logAxis:{enabled:S,base:C,minPow:k,maxPow:D},dsRange:{min:d,max:f},filterRange:F,useIndeces:m,isDateTime:a,isTimeUnit:A,dateTimeUnit:b,interval:w}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i="year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()};return i},_getDTIntCnt:function(e,t,i,r){var s=0,a=new Date(e),n=(n=new Date(t)).valueOf();if(i<=0)return 1;for(;a.valueOf()<n;)"millisecond"==r?a=new Date(a.valueOf()+i):"second"==r?a=new Date(a.valueOf()+1e3*i):"minute"==r?a=new Date(a.valueOf()+6e4*i):"hour"==r?a=new Date(a.valueOf()+6e4*i*24):"day"==r?a.setDate(a.getDate()+i):"month"==r?a.setMonth(a.getMonth()+i):"year"==r&&a.setFullYear(a.getFullYear()+i),s++;return s},_estAxisInterval:function(e,t,i,r,s,a){if(isNaN(e)||isNaN(t))return NaN;var n,o=[1,2,5,10,15,20,50,100,200,500],l=0,h=r/(!isNaN(a)&&0<a?a:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)&&(0!=(n=Math.max(1,this._renderData[i].xAxis.avgWidth))&&isNaN(a)&&(h=.9*r/n)),h<=1)return Math.abs(t-e);for(;;){var d=o.length<=l?Math.pow(10,3+l-o.length):o[l];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,s):(t-e)/d)<=h)break;l++}var f=this.seriesGroups[i];return(f.spider||f.polar)&&t-e<2*d&&(d=t-e),d},_getPaddingSize:function(e,t,i,r,s,a,n){var o=e.min,l=e.max;e.logAxis.enabled&&(o=e.logAxis.minPow,l=e.logAxis.maxPow);var h=e.interval,d=e.dateTimeUnit;if(s){var f=r/Math.max(1,l-o+h)*h;return a?{left:0,right:f}:i?{left:0,right:0}:{left:f/2,right:f/2}}if(i&&!n)return{left:0,right:0};if(this._isDate(o)&&this._isDate(l)){var u,g=this._getDTIntCnt(o,l,Math.min(h,l-o),d);return{left:(u=r/Math.max(2,g))/2,right:u/2}}if(1!=(g=Math.max(1,l-o)))return{left:(u=r/(g+1))/2,right:u/2};var c=r/4;return{left:c,right:c}},_calculateXOffsets:function(e,t){var i=this.seriesGroups[e],r=this._getXAxis(e),s=[],a=[],n=this._getDataLen(e),o=this._getXAxisStats(e,r,t),l=o.min,h=o.max,d=o.isDateTime,f=o.isTimeUnit,u=this._hasColumnSeries(),g=i.polar||i.spider,c=this._get([i.startAngle,i.minAngle,0]),m=this._get([i.endAngle,i.maxAngle,360]),_=g&&!(1e-4<Math.abs(Math.abs(m-c)-360)),p=this._alignValuesWithTicks(e),x=this._getPaddingSize(o,r,p,t,g,_,u),y=h-l,v=o.filterRange;0==y&&(y=1);var N=t-x.left-x.right;g&&p&&!_&&(x.left=x.right=0);for(var M=-1,b=-1,A=0;A<n;A++){var w=void 0===r.dataField?A:this._getDataValue(A,r.dataField,e);if(o.useIndeces){if(A<v.min||A>v.max){s.push(NaN),a.push(void 0);continue}S=x.left+(A-l)/y*N,1==o.logAxis.enabled&&(C=o.logAxis.base,S=this._jqxPlot.scale(w,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:C},{min:0,max:N,flip:!1})),s.push(ce.jqx._ptrnd(S)),a.push(w),-1==M&&(M=A),(-1==b||b<A)&&(b=A)}else{var S,C,w=d?this._castAsDate(w,r.dateFormat):this._castAsNumber(w);isNaN(w)||w<v.min||w>v.max?(s.push(NaN),a.push(void 0)):(S=0,S=1==o.logAxis.enabled?(C=o.logAxis.base,this._jqxPlot.scale(w,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:C},{min:0,max:N,flip:!1})):!d||d&&f?(w-l)*N/y:(w.valueOf()-l.valueOf())/(h.valueOf()-l.valueOf())*N,S=ce.jqx._ptrnd(x.left+S),s.push(S),a.push(w),-1==M&&(M=A),(-1==b||b<A)&&(b=A))}}if(1==r.flip)for(A=0;A<s.length;A++)isNaN(s[A])||(s[A]=t-s[A]);(f||d)&&(y=this._getDateDiff(l,h,r.baseUnit),y=ce.jqx._rnd(y,1,!1));var k=Math.max(1,y),D=N/k;return M==b&&1==k&&(s[M]=x.left+N/2),{axisStats:o,data:s,xvalues:a,first:M,last:b,length:-1==b?0:b-M+1,itemWidth:D,intervalWidth:D*o.interval,rangeLength:y,useIndeces:o.useIndeces,padding:x,axisSize:N}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],r=i.series[t];return 1==r.greyScale||0!=r.greyScale&&(1==i.greyScale||0!=i.greyScale&&1==this.greyScale)},_getSeriesColors:function(e,t,i){var r=this._getSeriesColorsInternal(e,t,i);if(this._isGreyScale(e,t))for(var s in r)r[s]=ce.jqx.toGreyScale(r[s]);return r},_getColorFromScheme:function(e,t,i){var r="#000000",s=this.seriesGroups[e],a=s.series[t];if(this._isPieGroup(e))var n=this._getDataLen(e),r=this._getItemColorFromScheme(a.colorScheme||s.colorScheme||this.colorScheme,t*n+i,e,t);else{for(var o=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(s.colorScheme&&(d=s.colorScheme,0),null!=d&&""!=d||(d=this.colorSchemes[0].name),!d)return r;for(l=0;l<this.colorSchemes.length;l++){var f=this.colorSchemes[l];if(f.name==d){for(;o>f.colors.length;)o-=f.colors.length,++l>=this.colorSchemes.length&&(l=0),f=this.colorSchemes[l];r=f.colors[o%f.colors.length]}}}return r},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(e,t,i){var r=this.seriesGroups[e],s=r.series[t];ce.isFunction(s.colorFunction)||"pie"==r.type||"donut"==r.type||(i=NaN);var a=e+"_"+t+"_"+(isNaN(i)?"NaN":i);if(this._colorsCache.get(a))return this._colorsCache.get(a);var n,o={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(ce.isFunction(s.colorFunction)){var l=isNaN(i)?NaN:this._getDataValue(i,s.dataField,e);if(-1==r.type.indexOf("range")||isNaN(i)||(l={from:this._getDataValue(i,s.dataFieldFrom,e),to:this._getDataValue(i,s.dataFieldTo,e)}),"object"==typeof(n=s.colorFunction(l,i,s,r)))for(var h in n)o[h]=n[h];else o.fillColor=n}else{for(var h in o)s[h]&&(o[h]=s[h]);s.fillColor||s.color?s.fillColor=s.fillColor||s.color:o.fillColor=this._getColorFromScheme(e,t,i)}var d={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var h in o)"object"==typeof n&&n[h]||s[h]&&(o[h]=s[h]);for(var h in o)"object"==typeof n&&n[h]||s[h]||(o[h]=ce.jqx.adjustColor(o[d[h].baseColor],d[h].adjust));return this._colorsCache.set(a,o),o},_getItemColorFromScheme:function(e,t,i,r){null!=e&&""!=e||(e=this.colorSchemes[0].name);for(var s=0;s<this.colorSchemes.length&&e!=this.colorSchemes[s].name;s++);for(var a=0;a<=t;){s==this.colorSchemes.length&&(s=0);var n=this.colorSchemes[s].colors.length;if(!(a+n<=t)){var o=this.colorSchemes[s].colors[t-a];return this._isGreyScale(i,r)&&0==o.indexOf("#")&&(o=ce.jqx.toGreyScale(o)),o}a+=n,s++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(e,t,i,r,s,a){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!ce.isFunction(i))return e.toString();try{return i(e,a,s,r)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_getFormattedValue:function(e,t,i,r,s,a){var n=this.seriesGroups[e],o=n.series[t],l="",h=r,d=(d=s)||(o.formatFunction||n.formatFunction),h=h||(o.formatSettings||n.formatSettings);!o.formatFunction&&o.formatSettings&&(d=void 0);var f={},u=0;for(var g in o)0==g.indexOf("dataField")&&(f[g.substring(9).toLowerCase()]=this._getDataValue(i,o[g],e),u++);if(0==u&&(f=this._getDataValue(i,void 0,e)),-1!=n.type.indexOf("waterfall")&&this._isSummary(e,i)&&(f=this._renderData[e].offsets[t][i].value,u=0),d&&ce.isFunction(d))try{return d(1==u?f[""]:f,i,o,n)}catch(e){return e.message}if(1==u&&this._isPieGroup(e))return this._formatValue(f[""],h,d,e,t,i);if(0<u){var c=0;for(var g in f){0<c&&""!=l&&(l+="<br>");var m="dataField"+(0<g.length?g.substring(0,1).toUpperCase()+g.substring(1):""),_=o["displayText"+(0<g.length?g.substring(0,1).toUpperCase()+g.substring(1):"")]||o[m],p=f[g];null!=p&&(p=this._formatValue(p,h,d,e,t,i),l+=!0===a?p:_+": "+p,c++)}}else null!=f&&(l=this._formatValue(f,h,d,e,t,i));return l||""},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=ce.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=ce.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats)for(var r=0;r<this._autoDateFormats.length;r++)if(i=ce.jqx.dataFormat.parsedate(e,this._autoDateFormats[r]),this._isDate(i))return i;var s=this._detectDateFormat(e);return s&&(i=ce.jqx.dataFormat.parsedate(e,s),this._isDate(i))?(this._autoDateFormats.push(s),i):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0),i)}},_castAsNumber:function(e){return e instanceof Date&&!isNaN(e)?e.valueOf():("string"==typeof e&&(this._isNumber(e)?e=parseFloat(e):/[a-zA-Z]/.test(e)||null!=(t=new Date(e))&&(e=t.valueOf())),e);var t},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||ce.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=ce.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",r="",s=this;s.localization&&(i=s.localization.decimalSeparator||s.localization.decimalseparator||i,r=s.localization.thousandsSeparator||s.localization.thousandsseparator||r),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(r=t.thousandsSeparator);var a=t.prefix||"",n=t.sufix||"",o=t.decimalPlaces;isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3));var l=t.negativeWithBrackets||!1,h=e<0;h&&l&&(e*=-1);var d,f=e.toString(),u=Math.pow(10,o),f=(Math.round(e*u)/u).toString();if(isNaN(f)&&(f=""),d=f.lastIndexOf("."),0<o)for(d<0?d=(f+=i).length-1:"."!==i&&(f=f.replace(".",i));f.length-1-d<o;)f+="0";d=-1<(d=f.lastIndexOf(i))?d:f.length;for(var g=f.substring(d),c=0,m=d;0<m;m--,c++)c%3==0&&m!==d&&(!h||1<m||h&&l)&&(g=r+g),g=f.charAt(m-1)+g;return f=g,h&&l&&(f="("+f+")"),a+f+n},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],r=e[t+1],s=e[t+2],a=e[t+3],n=e[t+4],o=e[t+5],l=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-r,2)),h=l+Math.sqrt(Math.pow(n-s,2)+Math.pow(o-a,2));0==h&&(h=1);var d=.4*l/h,f=.4-d;return[s+d*(i-n),a+d*(r-o),s-f*(i-n),a-f*(r-o)]},_getBezierPoints:function(e){for(var t="",i=[],r=[],s=e.split(" "),a=0;a<s.length;a++){var n=s[a].split(",");i.push(parseFloat(n[0])),i.push(parseFloat(n[1])),isNaN(i[i.length-1])||isNaN(i[i.length-2])}var o=i.length;if(o<=1)return"";if(2==o)return t="M"+ce.jqx._ptrnd(i[0])+","+ce.jqx._ptrnd(i[1])+" L"+ce.jqx._ptrnd(i[0]+1)+","+ce.jqx._ptrnd(i[1]+1)+" ";for(a=0;a<o-4;a+=2)r=r.concat(this._calculateControlPoints(i,a));for(a=2;a<o-5;a+=2)t+=" C"+ce.jqx._ptrnd(r[2*a-2])+","+ce.jqx._ptrnd(r[2*a-1])+" "+ce.jqx._ptrnd(r[2*a])+","+ce.jqx._ptrnd(r[2*a+1])+" "+ce.jqx._ptrnd(i[a+2])+","+ce.jqx._ptrnd(i[a+3])+" ";return t=o<=4||Math.abs(i[0]-i[2])<3||Math.abs(i[1]-i[3])<3||this._isVML?"M"+ce.jqx._ptrnd(i[0])+","+ce.jqx._ptrnd(i[1])+" L"+ce.jqx._ptrnd(i[2])+","+ce.jqx._ptrnd(i[3])+" "+t:"M"+ce.jqx._ptrnd(i[0])+","+ce.jqx._ptrnd(i[1])+" Q"+ce.jqx._ptrnd(r[0])+","+ce.jqx._ptrnd(r[1])+" "+ce.jqx._ptrnd(i[2])+","+ce.jqx._ptrnd(i[3])+" "+t,4<=o&&(Math.abs(i[o-2]-i[o-4])<3||Math.abs(i[o-1]-i[o-3])<3||this._isVML)?t+=" L"+ce.jqx._ptrnd(i[o-2])+","+ce.jqx._ptrnd(i[o-1])+" ":5<=o&&(t+=" Q"+ce.jqx._ptrnd(r[2*o-10])+","+ce.jqx._ptrnd(r[2*o-9])+" "+ce.jqx._ptrnd(i[o-2])+","+ce.jqx._ptrnd(i[o-1])+" "),t},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,r,s,a,n){r<0&&(r=0),null==n&&(n="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:r,fn:s,context:a,easing:n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){var e;this._animtimer||((e=this)._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt))},_runAnimation:function(e){if(this._animGroups){var t=(new Date).getTime(),i={};for(var r in this._animGroups){for(var s=this._animGroups[r].animations,a=this._animGroups[r].startTick,n=0,o=0;o<s.length;o++){var l=s[o],h=t-a;l.duration>n&&(n=l.duration);var d=0<l.duration?h/l.duration:1,f=d;if(l.easing&&0!=l.duration&&(f=ce.easing[l.easing](d,h,0,1,l.duration)),1<d&&(f=d=1),l.fn)l.fn(l.key,l.context,f);else{for(var u={},r=0;r<l.properties.length;r++){var g=l.properties[r],c=0,c=1==d?g.to:f*(g.to-g.from)+g.from;u[g.key]=c}this.renderer.attr(l.key,u)}}t<a+n&&(i[r]={startTick:a,animations:s})}this._animGroups=i,this.renderer instanceof ce.jqx.HTML5Renderer&&this.renderer.refresh()}for(var r in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;var i=e.x;e.x=e.y,e.y=i+this._plotRect.y-this._plotRect.x;i=e.width;return e.width=e.height,e.height=i,e},getItemCoord:function(e,t,i){var r=this;if(r._isPieGroup(e)&&(!r._isSerieVisible(e,t,i)||!r._renderData||r._renderData.length<=e))return{x:NaN,y:NaN};if(!r._isSerieVisible(e,t)||!r._renderData||r._renderData.length<=e)return{x:NaN,y:NaN};var s,a,n,o,l,h=r.seriesGroups[e],d=h.series[t],f=r._getItemCoord(e,t,i);if(r._isPieGroup(e)){if(isNaN(f.x)||isNaN(f.y)||isNaN(f.fromAngle)||isNaN(f.toAngle))return{x:NaN,y:NaN};var u,g=this._plotRect,c=f.fromAngle*(Math.PI/180),m=f.toAngle*(Math.PI/180),_=g.x+f.center.x+Math.cos(c)*f.outerRadius,p=g.x+f.center.x+Math.cos(m)*f.outerRadius,x=g.y+f.center.y-Math.sin(c)*f.outerRadius,y=g.y+f.center.y-Math.sin(m)*f.outerRadius,v=Math.min(_,p),N=Math.abs(p-_);return f={x:v,y:u=Math.min(x,y),width:N,height:Math.abs(y-x),center:f.center,centerOffset:f.centerOffset,innerRadius:f.innerRadius,outerRadius:f.outerRadius,selectedRadiusChange:f.selectedRadiusChange,fromAngle:f.fromAngle,toAngle:f.toAngle}}return-1!=h.type.indexOf("column")||-1!=h.type.indexOf("waterfall")?(s=this._getColumnSerieWidthAndOffset(e,t),f.height=Math.abs(f.y.to-f.y.from),f.y=Math.min(f.y.to,f.y.from),f.x+=s.offset,f.width=s.width):-1!=h.type.indexOf("ohlc")||-1!=h.type.indexOf("candlestick")?(s=this._getColumnSerieWidthAndOffset(e,t),u=f.y,a=Math.min(u.Open,u.Close,u.Low,u.High),n=Math.max(u.Open,u.Close,u.Low,u.High),f.height=Math.abs(n-a),f.y=a,f.x+=s.offset,f.width=s.width):-1!=h.type.indexOf("line")||-1!=h.type.indexOf("area")?(f.width=f.height=0,f.y=f.y.to):-1==h.type.indexOf("bubble")&&-1==h.type.indexOf("scatter")||(f.center={x:f.x,y:f.y.to},o=f.y.radius,"circle"!=d.symbolType&&null!=d.symbolType&&(o/=2),f.y=f.y.to,f.radius=o,f.width=2*o,f.height=2*o),f=this._fixCoords(f,e),(h.polar||h.spider)&&(l=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,f.x,f.y),f.x=l.x,f.y=l.y,f.center&&(f.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,f.center.x,f.center.y))),-1==h.type.indexOf("bubble")&&-1==h.type.indexOf("scatter")||(f.x-=o,f.y-=o),f},_getItemCoord:function(e,t,i){var r=this.seriesGroups[e];if(!r||!this._renderData)return{x:NaN,y:NaN};if(!r.series[t])return{x:NaN,y:NaN};var s=this._plotRect;if(this._isPieGroup(e)){var a=this._renderData[e].offsets[t][i];if(!a)return{x:NaN,y:NaN};var n,o,l=(a.fromAngle+a.toAngle)/2*(Math.PI/180);return{x:n=s.x+a.x+Math.cos(l)*a.outerRadius,y:o=s.y+a.y-Math.sin(l)*a.outerRadius,center:{x:a.x,y:a.y},centerOffset:a.centerOffset,innerRadius:a.innerRadius,outerRadius:a.outerRadius,selectedRadiusChange:a.selectedRadiusChange,fromAngle:a.fromAngle,toAngle:a.toAngle}}if(n=s.x+this._renderData[e].xoffsets.data[i],o=this._renderData[e].offsets[t][i],isNaN(n)||!o)return{x:NaN,y:NaN};var h={};for(var d in o)h[d]=o[d];return{x:n,y:h}},getXAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var r=this._getXAxis(t),s=this._plotRect,a=0,n=NaN,o=this._renderData[0].xoffsets.axisStats,l=0,h=0;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var d=this._getPolarAxisCoords(t,s);if(ce.jqx._ptdist(e.x,e.y,d.x,d.y)>d.r)return NaN;var f=Math.atan2(d.y-e.y,e.x-d.x);(f=Math.PI/2-f)<0&&(f=2*Math.PI+f),n=f*d.r;var u=d.startAngle+Math.PI/2,g=d.endAngle+Math.PI/2,l=u*d.r,h=g*d.r,a=(g-u)*d.r,c=this._getPaddingSize(o,r,r.valuesOnTicks,a,!0,d.isClosedCircle,this._hasColumnSeries());d.isClosedCircle?(a-=c.left+c.right,h-=c.left+c.right):r.valuesOnTicks||(l+=c.left,h-=c.right)}else{if("horizontal"!=i.orientation){if(e<s.x||e>s.x+s.width)return NaN;n=e-s.x,a=s.width}else{if(e<s.y||e>s.y+s.height)return NaN;n=e-s.y,a=s.height}this._renderData[t]&&this._renderData[t].xoffsets&&(a-=(c=this._renderData[t].xoffsets.padding).left+c.right,n-=c.left),h=a}return this._jqxPlot.scale(n,{min:l,max:h},{min:o.min.valueOf(),max:o.max.valueOf(),type:o.logAxis.enabled?"logarithmic":"linear",base:o.logAxis.base,flip:r.flip})}},getValueAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var r=this._getValueAxis(t),s=this._plotRect,a=0,n=NaN;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var o=this._getPolarAxisCoords(t,s),n=ce.jqx._ptdist(e.x,e.y,o.x,o.y);n=(a=o.r)-n}else if("horizontal"==i.orientation){if(e<s.x||e>s.x+s.width)return NaN;n=e-s.x,a=s.width}else{if(e<s.y||e>s.y+s.height)return NaN;n=e-s.y,a=s.height}var l=this._stats.seriesGroups[t];return this._jqxPlot.scale(n,{min:0,max:a},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logarithmic?"logarithmic":"linear",base:l.logBase,flip:!r.flip})}},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};t&&(i=ce.extend({},i,t));var r=[];for(var s in ce.isArray(e)?r=e:r.push(e),i)i[s]={format:i[s],count:0};for(var a=0;a<r.length;a++){var n=r[a];if(null!=n&&null!=n)for(var s in i){null!=ce.jqx.dataFormat.parsedate(n,i[s].format)&&i[s].count++}}var o={key:void 0,count:0};for(var s in i)i[s].count>o.count&&(o.key=s,o.count=i[s].count);return o.key?i[o.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),r=t._getDataLen(e),s={};if(t.localization&&t.localization.patterns)for(var a in t.localization.patterns)s["local_"+a]=t.localization.patterns[a];for(var n=[],o=0;o<r&&o<10;o++){var l=t._getDataValue(o,i.dataField,e);null!=l&&null!=l&&n.push(l)}return t._detectDateFormat(n,s)}})}(jqxBaseFramework);