!function(l){l.jqx.jqxWidget("jqxTimePicker","",{}),l.extend(l.jqx._jqxTimePicker.prototype,{defineInstance:function(){var e={autoSwitchToMinutes:!1,footer:!1,footerTemplate:null,format:"12-hour",minuteInterval:1,selection:"hour",value:new Date,view:"portrait",width:500,height:500,animation:!0,disabled:!1,readonly:!1,unfocusable:!1,name:"",_events:["change"]};return this===l.jqx._jqxTimePicker.prototype||l.extend(!0,this,e),e},createInstance:function(){this._createTimePicker()},_createTimePicker:function(){this.widgetID=this.element.id;var e=this,t='<div class="'+e.toThemeProperty("jqx-container jqx-rc-all jqx-widget")+'"><div class="'+e.toThemeProperty("jqx-header jqx-unselectable jqx-widget-header")+'"><div class="'+e.toThemeProperty("jqx-hour-minute-container")+'"><div class ="'+e.toThemeProperty("jqx-hour-container")+'"></div><div>:</div><div class="'+e.toThemeProperty("jqx-minute-container")+'"></div></div><div class="'+e.toThemeProperty("jqx-am-pm-container")+'"><div class="'+e.toThemeProperty("jqx-am-container")+'">AM</div><div class="'+e.toThemeProperty("jqx-pm-container")+'">PM</div></div></div><div class="'+e.toThemeProperty("jqx-main-container jqx-widget-content")+'"><div class="'+e.toThemeProperty("jqx-svg-container jqx-item")+'"><div class="'+e.toThemeProperty("jqx-svg-picker jqx-fill-state-normal jqx-item")+'"></div></div><div class="'+e.toThemeProperty("jqx-footer")+'"></div></div><input name="'+this.name+'" type="hidden"></div>';e.element.innerHTML=t,e.element.className+=e.toThemeProperty("jqx-time-picker jqx-rc-all jqx-widget"),e.element.setAttribute("view",e.view),e._container=e.element.getElementsByTagName("div")[0],e._header=e.element.getElementsByClassName("jqx-header")[0],e._hourMinuteContainer=e.element.getElementsByClassName("jqx-hour-minute-container")[0],e._hourContainer=e.element.getElementsByClassName("jqx-hour-container")[0],e._minuteContainer=e.element.getElementsByClassName("jqx-minute-container")[0],e._ampmContainer=e.element.getElementsByClassName("jqx-am-pm-container")[0],e._amContainer=e.element.getElementsByClassName("jqx-am-container")[0],e._pmContainer=e.element.getElementsByClassName("jqx-pm-container")[0],e._main=e.element.getElementsByClassName("jqx-main-container")[0],e._svgContainer=e.element.getElementsByClassName("jqx-svg-container")[0],e._picker=e.element.getElementsByClassName("jqx-svg-picker")[0],e._footer=e.element.getElementsByClassName("jqx-footer")[0],e._hiddenInput=e.element.getElementsByTagName("input")[0],e.footer&&e.element.setAttribute("footer",""),e.readonly&&e.element.setAttribute("readonly",""),e.disabled&&e.element.setAttribute("disabled",""),e.coerce=!0,e.min=0,e._drawMin="0",e.startAngle=-270,e.endAngle=90,e._angleDifference=e.endAngle-e.startAngle,e.ticksVisibility="none",e._tickIntervalHandler={},e._tickIntervalHandler.labelsSize={},e._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},e._measurements={},l(e.element).css({width:e.width,height:e.height}),l.jqx.utilities.resize(e.host,function(){e._resizeHandler()}),e._validateInitialPropertyValues(),e._applyInitialSettings(),e._isVisible()?(e._setPickerSize(),l(e._picker).jqxDraw(),e._draw=l(e._picker).jqxDraw("getInstance"),e._getMeasurements(),e._getAngleRangeCoefficient(),e._renderSVG(),e._setFocusable(),e._addEventHandlers()):e._renderingSuspended=!0},_getAngleRangeCoefficient:function(){var e=this;e._angleRangeCoefficient=e._angleDifference/e._range},_getAngleByValue:function(e,t,a){var n=this;!1!==t&&n.logarithmicScale&&(e=Math.log10(e));var i=(e-n._drawMin)*n._angleRangeCoefficient,r=n.inverted?n.startAngle+i:n.endAngle-i;return a?r:r*Math.PI/180+Math.PI/2},_addGaugeTicksAndLabels:function(){var e,t,n=this,a=Math.max(n._tickIntervalHandler.labelsSize.minLabelSize,n._tickIntervalHandler.labelsSize.maxLabelSize),i=n._majorTicksInterval,r=n._minorTicksInterval,o={},l=n._distance,s=n._measurements.radius,d=s-l.majorTickDistance,u=s-l.minorTickDistance,m="none"!==n.ticksVisibility&&!1!==n._plotTicks?(e=function(e){n._drawTick(e,d,"major")},function(e){n._drawTick(n._getAngleByValue(e,!0),u,"minor")}):(e=function(){},function(){}),c="none"!==n.labelsVisibility&&!1!==n._plotLabels?function(e,t,a){n._drawLabel(e,t,l.labelDistance,a)}:function(){},_=n.inverted?(t=n.startAngle,n.endAngle):(t=n.endAngle,n.startAngle),h=n._getAngleByValue(n._drawMin,!1);e(h),o[n._drawMin]=!0,c(h,n.min,!1);var g,v=n._drawMin-n._drawMin%i;0<=n._drawMin&&(v+=i);for(var p=v;p>=n._drawMin;p-=r)g=p;for(e(h=n._getAngleByValue(v,!1)),o[v]=!0,2*Math.PI*n._measurements.innerRadius*(this._getAngleDifference(t,n._getAngleByValue(v,!1,!0))/360)>a&&c(h,n._getActualValue(v),v<n._drawMax),p=v+i;p<n._drawMax-i;p+=i)e(h=n._getAngleByValue(p,!1)),o[p]=!0,c(h,n._getActualValue(p),!0);if(void 0===o[p]&&p<=n._drawMax&&(e(h=n._getAngleByValue(p,!1)),o[p]=!0,2*Math.PI*n._measurements.innerRadius*(this._getAngleDifference(_,n._getAngleByValue(p,!1,!0))/360)>=a&&c(h,n._getActualValue(p),!0),n._normalizedStartAngle!==n.endAngle&&(e(h=n._getAngleByValue(n._drawMax,!1)),o[n._drawMax]=!0,2*Math.PI*n._measurements.innerRadius*(this._getAngleDifference(_,t)/360)>=a&&c(h,n.max,!1))),n.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(o,i,m);else for(var f=g;f<n._drawMax;f+=r)o[f]||m(f)},_getAngleDifference:function(e,t){var a=Math.abs(t-e)%360;return 180<a?360-a:a},_getActualValue:function(e){return this.logarithmicScale?Math.pow(10,e):e},_computeArrowBodyPoints:function(e,t,a,n){var i=Math.sin(t),r=Math.cos(t),o=e-a*r+n*i,l=e+a*i+n*r,s=e+a*r+n*i,d=e-a*i+n*r,u="M "+(e+a*r)+","+(e-a*i)+" L "+(e-a*r)+","+(e+a*i)+" L "+o+","+l+" "+s+","+d;return this._headCenter={x:(o+s)/2,y:(l+d)/2},u},_documentMoveHandler:function(e){this._dragging&&this._changeSelection(e,!0)},_documentUpHandler:function(){var e=this;e._dragging&&(e._inInnerCircle=!1,e._dragging=!1,e.autoSwitchToMinutes&&"hour"===e.selection&&(e.animation?(l(e._picker).addClass("animate"),setTimeout(function(){e.selection="minute",e._changeToMinuteSelection()},250),setTimeout(function(){l(e._picker).removeClass("animate")},550)):(e.selection="minute",e._changeToMinuteSelection())))},_drawArrow:function(t,a,e){var n,i,r,o,l=this,s="hour"===l.selection,d="12-hour"===l.format,u=l._oldTimePart;delete l._oldTimePart,void 0===a&&(s?(a=l.value.getHours(),d&&12<a&&(a-=12)):a=l.value.getMinutes()),void 0!==u&&!e&&l.animation?!s||d?(s?(n=.2,a%=i=12,u%=i):(n=1,i=60),(r=a-u)<0&&(r+=i),(o=u-a)<0&&(o+=i),o<r&&(n*=-1),l._animationFrameId=requestAnimationFrame(function e(){u+=n,(u=parseFloat((u%i).toFixed(1)))<0&&(u+=i),l._drawArrowSVG(t,u),u!==a%i&&(l._animationFrameId=requestAnimationFrame(e))})):l._animate24HourView(u,a):l._drawArrowSVG(t,a)},_animate24HourView:function(a,n){var i=this,r=.2;i._inInnerCircle=!1;var e=0===a||12<a,t=0===n||12<n;if(e!=t){if(a=e?Math.abs(a-12):(a+12)%24,i._inInnerCircle=t,i._drawArrowSVG(!0,a),a===n)return}else i._inInnerCircle=t;var o=a,l=n;i._inInnerCircle&&(0===l&&o<18?l=12:0===o&&l<18&&(o=12));var s=l-o,d=o-l;s<0&&(s+=12),d<0&&(d+=12),d<s&&(r*=-1),i._animationFrameId=requestAnimationFrame(function(){!function e(t){(i._inInnerCircle=t)?((a=parseFloat((a+r).toFixed(1)))<0?a+=24:a<1&&(a+=12),12!==a&&24!==a||(a=0)):(12!==(a+=r)&&(a=parseFloat((a%12).toFixed(1))),a<=0&&(a+=12)),i._drawArrowSVG(!0,a),a!==n?i._animationFrameId=requestAnimationFrame(function(){e(t)}):i._inInnerCircle=!1}(i._inInnerCircle)})},_drawArrowSVG:function(e,t){var a=this,n=a._measurements,i=a._getAngleByValue(t),r=a._inInnerCircle?a._computeArrowBodyPoints(n.radius,i,1,n.innerRadius-a._largestLabelSize/2-45):a._computeArrowBodyPoints(n.radius,i,1,n.innerRadius-a._largestLabelSize/2);e?(a._arrow.setAttribute("d",r),a._head.setAttribute("cx",a._headCenter.x),a._head.setAttribute("cy",a._headCenter.y),a._head.setAttribute("r",a._largestLabelSize),a._headRect=a._head.getBoundingClientRect(),t%1==0&&a._highlightLabel(t)):(a._arrow=a._draw.path(r,{class:a.toThemeProperty("jqx-needle jqx-widget-header")}),a._head=a._draw.circle(a._headCenter.x,a._headCenter.y,a._largestLabelSize,{class:a.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),a._headRect=a._head.getBoundingClientRect())},_drawLabel:function(e,t,a){var n=this,i=n._measurements,r=i.radius,o={class:n.toThemeProperty("jqx-label jqx-unselectable jqx-item"),"font-size":i.fontSize,"font-family":i.fontFamily,"font-weight":i.fontWeight,"font-style":i.fontStyle};"hour"===n.selection?n._plotInnerCircle?0<t?t+=12:t="00":0===t&&(t=12):1===t.toString().length&&(t="0"+t);var l=n._draw.measureText(t,0,o),s=r-a-n._largestLabelSize/2,d=r+s*Math.sin(e),u=r+s*Math.cos(e);n._draw.text(t,Math.round(d)-l.width/2,Math.round(u)-l.height/2,l.width,l.height,0,o).setAttribute("value",parseFloat(t))},_getCenterCoordinates:function(){var e=this._picker.getBoundingClientRect(),t=this._measurements.radius,a=document.body.scrollLeft||document.documentElement.scrollLeft,n=document.body.scrollTop||document.documentElement.scrollTop;return{x:e.left+a+t,y:e.top+n+t}},_headerClickHandler:function(e){var t,a=this;if(!a.disabled&&!a.readonly)switch(e.target){case a._hourContainer:"hour"!==a.selection&&(a.selection="hour",a._changeToHourSelection());break;case a._minuteContainer:"minute"!==a.selection&&(a.selection="minute",a._changeToMinuteSelection());break;case a._amContainer:l(a._amContainer).hasClass("jqx-selected")||(a._selectAmPm("am"),t=new Date(a.value.getTime()),a.value.setHours(a.value.getHours()-12),a._hiddenInput.value=a.value,a._raiseEvent("0",{value:a.value,oldValue:t}));break;case a._pmContainer:l(a._pmContainer).hasClass("jqx-selected")||(a._selectAmPm("pm"),t=new Date(a.value.getTime()),a.value.setHours(a.value.getHours()+12),a._hiddenInput.value=a.value,a._raiseEvent("0",{value:a.value,oldValue:t}))}},_highlightLabel:function(e){var t,a,n,i,r=this;if(r._highlightedLabel){if(parseFloat(r._highlightedLabel.getAttribute("value"))===e)return;var o,l;-1<r._highlightedLabel.className.baseVal.indexOf(r.toThemeProperty("jqx-selected"))&&(o=r._highlightedLabel.className.baseVal,t=o,a=r.toThemeProperty("jqx-selected"),n=new RegExp("\\s?"+a+"\\s?","gm"),l=t.replace(n,""),r._highlightedLabel.className.baseVal=l),r._highlightedLabel=void 0}"hour"===r.selection?(void 0===e&&(e=r.value.getHours()),"12-hour"===r.format&&(0===e?e=12:12<e&&(e-=12)),i=e):(void 0===e&&(e=r.value.getMinutes()),60===(i=5*Math.round(e/5))&&(i=0));var s=r._picker.querySelector('.jqx-label[value="'+i+'"]');s&&(i===e||r._overlapsLabel(s))&&((r._highlightedLabel=s).className.baseVal+=" "+r.toThemeProperty("jqx-selected"))},_isVisible:function(){var e=this.host[0];return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_getMeasurements:function(){var e,t,a,n,i,r,o=this,l=o._measurements,s=document.createElement("div");s.className="jqx-label",s.style.position="absolute",s.style.visibility="hidden",o._svgContainer.appendChild(s),"hour"===o.selection?(e="1",t="23",o.max=12,o._drawMax="12",o._range=12):(e="00",t="55",o.max=60,o._drawMax="60",o._range=60),s.innerHTML=e,a=s.offsetWidth,i=s.offsetHeight,s.innerHTML=t,n=s.offsetWidth,r=s.offsetHeight,o._largestLabelSize=Math.max(a,i,n,r),o._tickIntervalHandler.labelsSize.minLabelSize=i,o._tickIntervalHandler.labelsSize.maxLabelSize=r;var d=window.getComputedStyle(s);l.fontSize=d.fontSize,l.fontFamily=d.fontFamily,l.fontWeight=d.fontWeight,l.fontStyle=d.fontStyle,o._svgContainer.removeChild(s)},_renderHours:function(){var e=this;e._highlightedLabel=void 0,e._majorTicksInterval=1,e._addGaugeTicksAndLabels(),"24-hour"===e.format&&(e._plotInnerCircle=!0,e._distance.labelDistance=55,e._addGaugeTicksAndLabels(),e._plotInnerCircle=!1,e._distance.labelDistance=10)},_renderMinutes:function(){this._highlightedLabel=void 0,this._majorTicksInterval=5,this._addGaugeTicksAndLabels()},_renderSVG:function(){var e,t=this;t._isVisible()&&!t._renderingSuspended?(t._centralCircle=t._draw.circle(t._measurements.radius,t._measurements.radius,4,{class:t.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),"hour"===t.selection&&"24-hour"===t.format&&(0===t.value.getHours()||12<t.value.getHours())&&(t._inInnerCircle=!0),t._drawArrow(!1),t._inInnerCircle=!1,"hour"===t.selection?(t.interval=1,t._renderHours(),e=t.value.getHours(),"12-hour"===t.format&&12<e&&(e-=12),t._highlightLabel(e)):(t.interval=t.minuteInterval,t._renderMinutes(),t._highlightLabel(t.value.getMinutes()))):t._renderingSuspended=!0},_selectAmPm:function(e){var t=this;"am"===e?(t._ampm="am",l(t._pmContainer).removeClass(t.toThemeProperty("jqx-selected")),l(t._amContainer).addClass(t.toThemeProperty("jqx-selected"))):(t._ampm="pm",l(t._amContainer).removeClass(t.toThemeProperty("jqx-selected")),l(t._pmContainer).addClass(t.toThemeProperty("jqx-selected")))},_setFocusable:function(){var e=this;if(e.disabled||e.unfocusable)return e._hourContainer.removeAttribute("tabindex"),e._minuteContainer.removeAttribute("tabindex"),e._amContainer.removeAttribute("tabindex"),e._pmContainer.removeAttribute("tabindex"),void e._picker.removeAttribute("tabindex");var t=0<e.tabIndex?e.tabIndex:0;e._hourContainer.tabIndex=t,e._minuteContainer.tabIndex=t,e._amContainer.tabIndex=t,e._pmContainer.tabIndex=t,e._picker.tabIndex=t},_setPickerSize:function(){var e=this,t=e._svgContainer.offsetWidth,a=e._svgContainer.offsetHeight,n=.9*Math.min(t,a);void 0!==e._pickerSize&&e._pickerSize!==n?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=n,e._measurements.radius=n/2,e._measurements.innerRadius=e._measurements.radius-10,n+="px",e._picker.style.width=n,e._picker.style.height=n},refresh:function(e){!0!==e&&this.render()},setHours:function(e){var t=this;if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setHours method required a parameter. Its type should be number.";(e=24===e?0:Math.max(0,Math.min(e,23)))<12?t._selectAmPm("am"):t._selectAmPm("pm"),"12-hour"===t.format&&(0===e?e=12:12<e&&(e-=12)),t._updateHours(e,arguments[1]),"hour"===t.selection&&(t._inInnerCircle="24-hour"===t.format&&(0===e||12<e),t._drawArrow(!0,e,arguments[2]),t.animation||(t._inInnerCircle=!1))},setMinutes:function(e){if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setMinutes method required a parameter. Its type should be number.";e=60===e?0:Math.max(0,Math.min(e,59)),this._updateMinutes(e),"minute"===this.selection&&this._drawArrow(!0,e,arguments[1])},propertyChangedHandler:function(e,t,a,n){var i=e;if(a!=n||n instanceof Object)switch(t){case"disabled":i.disabled?(i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.element.setAttribute("disabled","")):(i.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),i.element.removeAttribute("disabled")),i._setFocusable();break;case"footer":case"view":i._resizeHandler();break;case"footerTemplate":i._validateFooterTemplate();break;case"format":var r=i.value.getHours();"12-hour"===n?(i._ampmContainer.removeClass("jqx-hidden"),i.value.getHours()<12?i._selectAmPm("am"):i._selectAmPm("pm"),0===r?r=12:12<r&&(r-=12)):i._ampmContainer.addClass("jqx-hidden"),i._hourContainer.innerHTML=r,"hour"===i.selection&&(i._draw.clear(),i._renderSVG());break;case"minuteInterval":var o=Math.max(1,Math.min(n,60));o!==n&&(i.minuteInterval=o),"minute"===i.selection&&(i.interval=o);break;case"selection":"hour"===n?i._changeToHourSelection():i._changeToMinuteSelection();break;case"value":i._oldValue=a,i._validateValue();var l=i.value.getHours()===a.getHours(),s=i.value.getMinutes()===a.getMinutes();l&&s||(s?i.setHours(i.value.getHours()):(l||i.setHours(i.value.getHours(),!0),i.setMinutes(i.value.getMinutes()))),delete i._oldValue}},_applyInitialSettings:function(){var e=this,t=e.value,a=t.getHours(),n=t.getMinutes();"12-hour"===e.format?a<12?(e._ampm="am",e._amContainer.className+=" "+e.toThemeProperty("jqx-selected"),0===a&&(a=12)):(e._ampm="pm",e._pmContainer.className+=" "+e.toThemeProperty("jqx-selected"),12<a&&(a-=12)):e._ampmContainer.className+=" "+e.toThemeProperty("jqx-hidden"),1===(n=n.toString()).length&&(n="0"+n),e._hourContainer.innerHTML=a,e._minuteContainer.innerHTML=n,"hour"===e.selection?e._hourContainer.className+=" "+e.toThemeProperty("jqx-selected"):e._minuteContainer.className+=" "+e.toThemeProperty("jqx-selected")},_getValueByAngle:function(e,t){for(var a,n,i=this,r=i.inverted?(a=e,i._normalizedStartAngle):(a=i.endAngle,e);a<r;)a+=360;if(n=(a-r)/i._angleDifference*i._range+parseFloat(i._drawMin),i.logarithmicScale){if(i.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(n,!0)).toFixed(12));n=Math.pow(10,n)}return t&&!i.coerce?Math.round(n):this._getCoercedValue(n,!1)},_getCoercedValue:function(e,t,a){var n=this;if(!n.coerce)return e;var i=!n.logarithmicScale,r=parseFloat(n.min),o=parseFloat(n.max),l=e-r,s=l%parseFloat(n.interval);if(0==s)return e;var d=parseFloat((l-s).toFixed(12)),u=d+parseFloat(n.interval);if(n.max-n.min<=parseFloat(n.interval)&&i)return r+(o-r)/2<=e?o:r;if(Math.abs(l-d)<Math.abs(l-u))return d+r;var m=u+r;return o<m?d+r:m},_changeSelection:function(e,t){var a=this,n=e.pageX,i=e.pageY,r=a._getCenterCoordinates(),o=Math.sqrt(Math.pow(r.x-n,2)+Math.pow(r.y-i,2));if(a._measurements.center=r,"mousedown"===e.type){if(o>a._measurements.radius)return void e.stopPropagation();a._dragging=!0}"24-hour"===a.format&&"hour"===a.selection&&o<a._measurements.radius-50?a._inInnerCircle=!0:a._inInnerCircle=!1;var l=-1*Math.atan2(i-r.y,n-r.x)*180/Math.PI;l<0&&(l+=360),a._angle=l;var s=a._getValueByAngle(a._angle);"hour"===a.selection?("24-hour"===a.format&&a._inInnerCircle?0!==s&&12!==s?s+=12:s=0:0===s&&(s=12),a._updateHours(s)):(60===s&&(s=0),a._updateMinutes(s)),void 0!==a._oldTimePart&&(cancelAnimationFrame(a._animationFrameId),a._drawArrow(!0,s,t))},_changeToHourSelection:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;cancelAnimationFrame(e._animationFrameId),e.interval=1,l(e._hourContainer).addClass(e.toThemeProperty("jqx-selected")),l(e._minuteContainer).removeClass(e.toThemeProperty("jqx-selected")),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderHours(),"24-hour"===e.format&&(0===e.value.getHours()||12<e.value.getHours())&&(e._inInnerCircle=!0),e._drawArrow(!0,void 0,!0),e._inInnerCircle=!1},_changeToMinuteSelection:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;e._inInnerCircle=!1,cancelAnimationFrame(e._animationFrameId),e.interval=e.minuteInterval,l(e._hourContainer).removeClass(e.toThemeProperty("jqx-selected")),l(e._minuteContainer).addClass(e.toThemeProperty("jqx-selected")),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderMinutes(),e._drawArrow(!0,void 0,!0)},_overlapsLabel:function(e){var t=e.getBoundingClientRect(),a=this._headRect;return!(t.right-10<a.left||t.left+10>a.right||t.bottom-10<a.top||t.top+10>a.bottom)},_parseDateString:function(e,t){var a=e.indexOf("Date("),n=e.indexOf(")"),i=e;if(-1!==a&&-1!==n){if(""===(i=(i=e.slice(a+5,n)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new Date;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(i))return(i=(i=i.replace(/\s/g,"")).split(",")).map(function(e,t){i[t]=parseInt(e)}),i.unshift(null),i=new(Function.prototype.bind.apply(Date,i))}if(""===i.trim())return t;if(!isNaN(i))return new Date(parseInt(i,10));try{i=new Date(i)}catch(e){i=t}return isNaN(i.getTime())?t:i},_updateHours:function(e,t){var a=this,n=e;"12-hour"===a.format?"am"===a._ampm?12===n&&(n=0):n<12&&(n+=12):n=e;var i=void 0!==a._oldValue?a._oldValue:new Date(a.value.getTime()),r=i.getHours();n!==r?(a._oldTimePart=r,void 0===a._oldValue&&a.value.setHours(n),a._hourContainer.innerHTML=e,!0!==t&&(a._hiddenInput.value=a.value,a._raiseEvent("0",{value:a.value,oldValue:i}))):delete a._oldTimePart},_updateMinutes:function(e){var t=this,a=void 0!==t._oldValue?t._oldValue:new Date(t.value.getTime()),n=a.getMinutes();e!==n?(t._oldTimePart=n,void 0===t._oldValue&&t.value.setMinutes(e),1===(e=e.toString()).length&&(e="0"+e),t._minuteContainer.innerHTML=e,t._hiddenInput.value=t.value,t._raiseEvent("0",{value:t.value,oldValue:a})):delete t._oldTimePart},_validateFooterTemplate:function(){var e,t=this,a=t.footerTemplate,n=window.navigator.userAgent,i=-1<n.indexOf("MSIE")||-1<n.indexOf("NET");if(null===a||i)t._footer.innerHTML="";else{if(a instanceof HTMLTemplateElement?e=a:"string"==typeof a&&((e=document.getElementById(a))instanceof HTMLTemplateElement||(e=void 0)),void 0===e)return t.footerTemplate=null,void(t._footer.innerHTML="");var r=document.importNode(e.content,!0);t._footer.appendChild(r)}},_validateInitialPropertyValues:function(){this._validateFooterTemplate(),this.minuteInterval=Math.max(1,Math.min(this.minuteInterval,60)),this._validateValue()},_validateValue:function(){var e=this,t=e.value,a=void 0!==e._oldValue?this._oldValue:new Date;if(!(t instanceof Date))if("string"==typeof t){if(/^\d{1,2}:\d{1,2}$/.test(t)){var n=t.split(":");return void(e.value=new Date(a.getFullYear(),a.getMonth(),a.getDate(),parseFloat(n[0]),parseFloat(n[1])))}e.value=e._parseDateString(t,a)}else e.value=a},destroy:function(){var e=this;e._removeEventHandlers(),e._draw.clear(),e.host.removeData(),e.host.removeClass(),e.host.remove(),delete e.element,delete e.host},_keydownHandler:function(e){var t,a,n,i,r,o=this;o._dragging||(t=o.enableShadowDOM&&o.shadowRoot.activeElement||document.activeElement,a=e.key,!o._header.contains(t)||"Enter"!==a&&" "!==a?t!==o._picker||e.altKey||("ArrowRight"===a||"ArrowUp"===a?n=1:"ArrowLeft"!==a&&"ArrowDown"!==a||(n=-1),n&&(e.preventDefault(),"hour"===o.selection?(0===(i=o.value.getHours())&&-1===n?i=23:23===i&&1===n?i=0:i+=n,"12-hour"===o.format&&(12<=i&&l(o._amContainer).hasClass("jqx-selected")?i-=12:i<12&&l(o._pmContainer).hasClass("jqx-selected")&&(i+=12)),o.setHours(i,void 0,!0)):(60<=(r=o.value.getMinutes())+(n*=o.minuteInterval)?r=0:r<-1*n?r=60%n==0?60+n:60-60%n:r+=n,o.setMinutes(r,!0)))):(e.preventDefault(),o._headerClickHandler({target:t})))},_resizeHandler:function(){var e=this,t=!1;e._isVisible()?(t=!(e._renderingSuspended=!1),e._getMeasurements(),e._getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1,e._draw.refresh()):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())):e._renderingSuspended=!0},_pickerDownHandler:function(e){this.disabled||this.readonly||!jqx.mobile.isTouchDevice()&&1!==e.which||this._changeSelection(e)},_pickerMoveHandler:function(e){},_addEventHandlers:function(){var e=this;e.addHandler(l(e.element),"keydown.timepicker"+e.widgetID,e._keydownHandler.bind(this)),e.addHandler(l(e.element),"resize.timepicker"+e.widgetID,e._resizeHandler.bind(this)),e.addHandler(l(e._header),"click.timepicker"+e.widgetID,e._headerClickHandler.bind(this)),e.addHandler(l(e._picker),"mousedown.timepicker"+e.widgetID,e._pickerDownHandler.bind(this)),e.addHandler(l(document),"mousemove.timepicker"+e.widgetID,e._documentMoveHandler.bind(this)),e.addHandler(l(document),"mouseup.timepicker"+e.widgetID,e._documentUpHandler.bind(this))},_removeEventHandlers:function(){var e=this;e.removeHandler(l(e.element),"keydown.timepicker"+e.widgetID),e.removeHandler(l(e.element),"resize.timepicker"+e.widgetID),e.removeHandler(l(e._header),"click.timepicker"+e.widgetID),e.removeHandler(l(e._picker),"mousedown.timepicker"+e.widgetID),e.removeHandler(l(e._picker),"mousemove.timepicker"+e.widgetID),e.removeHandler(l(document),"mousemove.timepicker"+e.widgetID),e.removeHandler(l(document),"mouseup.timepicker"+e.widgetID)},_raiseEvent:function(e,t){var a,n=this._events[e],i=new l.Event(n);i.owner=this,i.args=t;try{a=this.host.trigger(i)}catch(e){}return a},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework);