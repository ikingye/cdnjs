!function(j){j.jqx.jqxWidget("jqxRibbon","",{}),j.extend(j.jqx._jqxRibbon.prototype,{defineInstance:function(){var e={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===j.jqx._jqxRibbon.prototype||j.extend(!0,this,e),e},createInstance:function(){var e=this;"none"!==e.host.css("display")&&!1!==document.body.contains(e.element)||(e._initiallyHidden=!0),e._browser=j.jqx.browser,"popup"!==e.mode&&-1===e.selectedIndex&&(e.selectedIndex=0),e._originalHTML=e.element.innerHTML,e._render(!0)},render:function(){this._render()},refresh:function(e){!0!==e&&this._render()},destroy:function(){this._removeHandlers(),this.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(e){var t=this;t._items[e]._disabled=!0,j(t._items[e]).addClass(t.toThemeProperty("jqx-fill-state-disabled")),e===t.selectedIndex&&t._clearSelection()},enableAt:function(e){var t=this;t._items[e]._disabled=!1,j(t._items[e]).removeClass(t.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){var t=this;t._items[e].style.display="none",t._checkScrollButtons(),e===t.selectedIndex?t._clearSelection():t._updatePositions()},showAt:function(e){var t=this;"horizontal"===t._orientation?t._items[e].style.display="inline-block":t._items[e].style.display="inherit",t._checkScrollButtons(),t._updatePositions()},val:function(e){if(!e)return this.selectedIndex;this._selectAt(e)},addAt:function(e,t){var o=this,n="jqx-ribbon-item jqx-ribbon-item-"+o.position,i="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+o.position;o._removeHandlers();var s=document.createElement("li");s.innerHTML=t.title;var r=document.createElement("div");if("string"==typeof t.content)r.innerHTML=t.content;else if(void 0!==t.content.length)try{if(void 0!==window.$&&t.content instanceof window.$)j(r).append(t.content);else if(j.isArray(t.content))for(var a=0;a<t.content.length;a++)t.content[a].appendTo(r);else for(;0<t.content.length;)r.appendChild(t.content[0])}catch(e){}else r.appendChild(t.content);switch(o.position){case"top":n+=" jqx-rc-t",i+=" jqx-rc-b";break;case"bottom":n+=" jqx-rc-b",i+=" jqx-rc-t";break;case"left":n+=" jqx-rc-l",i+=" jqx-rc-r";break;case"right":n+=" jqx-rc-r",i+=" jqx-rc-l"}"popup"===o.mode&&(i+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+o._orientation+"-popup"),!0===o.rtl&&(n+=" jqx-ribbon-item-rtl"),s.className=o.toThemeProperty(n),r.className=o.toThemeProperty(i),o._items.length-1>=e?(o._headerElement.insertBefore(s,o._items[e]),o._contentElement.insertBefore(r,o._contentSections[e])):(o._headerElement.appendChild(s),o._contentElement.appendChild(r)),o._updateItems(),o._addHandlers(),o._checkScrollButtons(),e<=o.selectedIndex&&o.selectedIndex<o._items.length-1&&o.selectedIndex++,o._updatePositions(),o.selectedIndex<0||(o._suppressSelectionEvents=!0,o._selectAt(o.selectedIndex,o.selectedIndex,!0))},removeAt:function(e){var t=this;e===t.selectedIndex&&t._clearSelection(),j(t._items[e]).remove(),j(t._contentSections[e]).remove(),t._updateItems(!0),t._updatePositions(),t._checkScrollButtons()},updateAt:function(e,t){var o=this,n=o._items[e];n.innerHTML=t.newTitle,o._contentSections[e].innerHTML=t.newContent,n._isInitialized=!1,o.initContent&&e===o.selectedIndex&&(o.initContent(e),n._isInitialized=!0),o._updatePositions()},setPopupLayout:function(e,t,o,n){var i=this,s=i._contentSections[e];"popup"===i.mode&&(s.getAttribute("data-width")||(s.style.width&&s.setAttribute("data-width",s.style.width),s.style.height&&s.setAttribute("data-height",s.style.height)),o&&(s.style.width=i._toPx(o)),n&&(s.style.height=i._toPx(n)),s._layout=t,i._positionContent(e))},propertiesChangedHandler:function(e,t,o){o&&o.width&&o.height&&2===Object.keys(o).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(e,t,o,n){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length)&&n!==o)switch(t){case"width":case"height":e.element.style[t]=e._toPx(n),e._updateSize();break;case"position":e._render();break;case"mode":e._contentElement.style.width="auto",e._removeHandlers(null,o),e._render();break;case"selectedIndex":e._selectAt(n,o);break;case"selectionMode":e._removeHandlers(o),e._addHandlers();break;case"scrollPosition":var i=e._scrollButtonNear,s=e._scrollButtonFar;j(i).removeClass(e.toThemeProperty("jqx-ribbon-scrollbutton-"+o+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),j(s).removeClass(e.toThemeProperty("jqx-ribbon-scrollbutton-"+o+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),i.className+=" "+e.toThemeProperty("jqx-ribbon-scrollbutton-"+n),s.className+=" "+e.toThemeProperty("jqx-ribbon-scrollbutton-"+n),e._scrollButtonRc(i,s),e._checkScrollButtons(),e._updatePositions();break;case"disabled":!0===n?(e._removeHandlers(),e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled")):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e._addHandlers());break;case"theme":j.jqx.utilities.setTheme(o,n,e.host);break;case"rtl":if(!0===n){e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-rtl");for(var r=0;r<e._items.length;r++)e._items[r].className+=" "+e.toThemeProperty("jqx-ribbon-item-rtl")}else{e._header.removeClass(e.toThemeProperty("jqx-ribbon-header-rtl"));for(var a=0;a<e._items.length;a++)j(e._items[a]).removeClass(e.toThemeProperty("jqx-ribbon-item-rtl"))}e._positionSelectionToken(e.selectedIndex)}},_raiseEvent:function(e,t){var o,n=this.events[e],i=new j.Event(n);i.owner=this,i.args=t;try{o=this.host.trigger(i)}catch(e){}return o},_render:function(e){var t,o=this;switch(!0!==e&&o._removeHandlers(),o._selectionTokenOffsetY=0,o._browser.browser){case"mozilla":o._browserWidthRtlFlag=0,o._browserScrollRtlFlag=1,o._selectionTokenOffsetX=1;break;case"msie":o._browserWidthRtlFlag=0,o._browserScrollRtlFlag=-1,"8.0"===o._browser.version?o._selectionTokenOffsetX=1:"7.0"===o._browser.version?(o._selectionTokenOffsetX=0,"popup"!==o.mode||"bottom"!==o.position&&"right"!==o.position||(o._selectionTokenOffsetY=2)):o._selectionTokenOffsetX=0;break;default:o._browserWidthRtlFlag=1,o._browserScrollRtlFlag=1,o._selectionTokenOffsetX=0}!0===e&&(t=o.host.children(),o._headerElement=t[0],o._header=j(t[0]),o._contentElement=t[1],o._content=j(t[1]),o._checkStructure(t),o._refreshBarPosition()),o._headerElement.style.float="none",o._contentElement.style.padding="0px",o.element.style.width=o._toPx(o.width),o.element.style.height=o._toPx(o.height),"bottom"!==o.position&&"right"!==o.position||o.element.insertBefore(o._contentElement,o._headerElement),"top"===o.position||"bottom"===o.position?o._orientation="horizontal":o._orientation="vertical","right"===o.position?o._headerElement.style.float="right":"left"===o.position&&(o._headerElement.style.float="left"),o._contentSections=o._content.children(),j.each(o._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),!0===e&&(o._selectionToken=document.createElement("div"),o._selectionToken.className=o.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+o.position),o.element.appendChild(o._selectionToken)),o._updateItems(),!0!==o._initiallyHidden&&o._addClasses(),!0===e&&(o._appendScrollButtons(),o._checkScrollButtons()),o._allowSelection=!0,-1!==o.selectedIndex&&(o._items[o.selectedIndex].className+=" "+o.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),o._positionSelectionToken(o.selectedIndex),o._contentSections[o.selectedIndex].style.display="block",o.initContent&&(o.initContent(o.selectedIndex),o._items[o.selectedIndex]._isInitialized=!0)),o.disabled?o.element.className+=" "+o.toThemeProperty("jqx-fill-state-disabled"):o._addHandlers(),j.jqx.utilities.resize(o.host,function(){o._initiallyHidden&&(o._initiallyHidden=!1,o._addClasses(),-1!==o.selectedIndex&&(o._items[o.selectedIndex].className+=" "+o.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),o._updateSize(!0)}),"popup"===o.mode&&""!==o.theme&&setTimeout(function(){o._positionPopup(),o._positionSelectionToken(o.selectedIndex)},30)},_updateSize:function(e){var t,o=this;"7.0"===o._browser.version&&"msie"===o._browser.browser&&("horizontal"===o._orientation?(o._header.css("width",o.host.width()-parseInt(o._header.css("padding-left"),10)-parseInt(o._header.css("padding-right"),10)-parseInt(o._header.css("border-left-width"),10)-parseInt(o._header.css("border-right-width"),10)),o._contentSections.width(o._content.width()-parseInt(o._contentSections.css("border-left-width"),10)-parseInt(o._contentSections.css("border-right-width"),10)-parseInt(o._contentSections.css("padding-left"),10)-parseInt(o._contentSections.css("padding-right"),10)),"default"===o.mode&&"string"==typeof o.height&&-1!==o.height.indexOf("%")&&o._contentSections.height(o._content.height()-o._header.height()-parseInt(o._contentSections.css("border-bottom-width"),10)-parseInt(o._contentSections.css("border-top-width"),10)-1)):(o._header.css("height",o.host.height()-parseInt(o._header.css("padding-top"),10)-parseInt(o._header.css("padding-bottom"),10)-parseInt(o._header.css("border-top-width"),10)-parseInt(o._header.css("border-bottom-width"),10)),o._contentSections.height(o._content.height()-parseInt(o._contentSections.css("border-top-width"),10)-parseInt(o._contentSections.css("border-bottom-width"),10)-parseInt(o._contentSections.css("padding-top"),10)-parseInt(o._contentSections.css("padding-bottom"),10)),"default"===o.mode&&"string"==typeof o.width&&-1!==o.height.indexOf("%")&&(t="left"===o.position?parseInt(o._contentSections.css("border-left-width"),10)+parseInt(o._contentSections.css("border-right-width"),10)+1:0,o._contentSections.width(o._content.width()-o._header.width()-t)))),o._checkScrollButtons(!0),o._updatePositions(void 0,e),"popup"===o.mode&&o._positionPopup(),o._refreshBarPosition()},_stopAnimation:function(){var e,t=this;t._allowSelection||(t.selectedIndex=t._animatingIndex,e=j(t._contentSections[t._animatingIndex]),t._initAnimate(e),e.animate("finish"),t._clearSelection(!0,t._animatingIndex),t._allowSelection=!0)},_refreshBarPosition:function(){var e,n=this;this.bar||(e=j("<span></span>"),j(this.host).append(e),e.addClass(this.toThemeProperty("jqx-tabs-bar")),this.bar=e),setTimeout(function(){var e=parseInt(j(n._headerElement).css("left"),10)-n._headerElement.scrollLeft,t=parseInt(j(n._headerElement).css("top"),10)-n._headerElement.scrollTop,o=void 0!==n._animatingIndex?n._animatingIndex:n.selectedIndex;n._items[o]&&n.bar&&("top"===n.position||"bottom"===n.position?(n.bar.css("left",n._items[o].offsetLeft+e),"top"===n.position?n.bar.css("top",n._items[o].offsetTop+t+n._items[o].offsetHeight):n.bar.css("top",t),n.bar.width(j(n._items[o]).outerWidth()-2),n.bar.removeClass(n.toThemeProperty("vertical"))):("left"===n.position?n.bar.css("left",n._items[o].offsetLeft+e+n._items[o].offsetWidth):n.bar.css("left",n._items[o].offsetLeft+e),n.bar.css("top",t+n._items[o].offsetTop),n.bar.height(j(n._items[o]).outerHeight()-2),n.bar.addClass(n.toThemeProperty("vertical"))))})},_selectAt:function(e,t,o){var n,i,s,r=this;if(void 0===t&&(t=r.selectedIndex),(e!==t||!0===o)&&(r._stopAnimation(),r._refreshBarPosition(),r._allowSelection)){if(r._animatingIndex=e,-1!==r.selectedIndex&&r._clearSelection(!0,t),r._allowSelection=!1,r._selecting=e,"click"===r.selectionMode&&j(r._items[e]).removeClass(r.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===r.mode&&r._roundedCorners){switch(r._header.removeClass(r.toThemeProperty("jqx-rc-all")),r.position){case"top":n="jqx-rc-t",i="jqx-rc-b";break;case"bottom":n="jqx-rc-b",i="jqx-rc-t";break;case"left":n="jqx-rc-l",i="jqx-rc-r";break;case"right":n="jqx-rc-r",i="jqx-rc-l"}r._headerElement.className+=" "+r.toThemeProperty(n);for(var a=0;a<r._items.length;a++)r._items[a].className+=" "+r.toThemeProperty(n),r._contentSections[a].className+=" "+r.toThemeProperty(i)}switch(r._items[e].className+=" "+r.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),r._selectionToken.style.display="block",r._updatePositions(e),r.animationType){case"fade":s=j(r._contentSections[e]),r._initAnimate(s),"none"===s.css("display")?s.fadeIn({duration:r.animationDelay,complete:function(){r._animationComplete(e,t)}}):s.fadeOut({duration:r.animationDelay,complete:function(){r._animationComplete(e,t)}});break;case"slide":s=j(r._contentSections[e]);var l=r.position;"top"===l?l="up":"bottom"===l&&(l="down"),r.slideAnimation=r._slide(s,{mode:"show",direction:l,duration:r.animationDelay},e,t);break;case"none":r._contentSections[e].style.display="block",r._animationComplete(e,t)}}},_clearSelection:function(e,t){var o=this;if("popup"===o.mode&&o._roundedCorners&&(o._headerElement.className+=" "+o.toThemeProperty("jqx-rc-all")),o._selecting=-1,void 0===t&&(t=o.selectedIndex),j(o._items[t]).removeClass(o.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),o._selectionToken.style.display="none",!0!==e&&"none"!==o.animationType){var n,i=j(o._contentSections[t]);"fade"===o.animationType?(o._initAnimate(i),i.fadeOut({duration:o.animationDelay,complete:function(){o._clearSelectionComplete(t)}})):"slide"===o.animationType&&("top"===(n=o.position)?n="up":"bottom"===n&&(n="down"),o._stopAnimation(),t=o.selectedIndex,o.slideAnimation=o._slide(i,{mode:"hide",direction:n,duration:o.animationDelay},t),o.selectedIndex=-1)}else{if(-1===t)return;o._contentSections[t].style.display="none",o._clearSelectionComplete(t,e)}},_addHandlers:function(){var r,a=this,s=a.element.id,l=!1;function e(e){var t=a._closest(e.target,"li"),o=t._index;a._items[o]._disabled||(o!==a.selectedIndex?a._selectAt(o):"popup"===a.mode&&"none"!==a.popupCloseMode&&(t.className+=" "+a.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),a._clearSelection()))}function t(e){if(!0===a.reorder&&!0===l){for(var t=a._closest(e.target,"li")._index,o=a._items[r].innerHTML,n=a._contentSections[r].childNodes,i=[];0<n.length;)i.push(j(n[0]).detach());a._suppressSelectionEvents=!0,a._oldReorderIndex=r,a.removeAt(r),a.clearSelection(),a.addAt(t,{title:o,content:i}),a.selectAt(t),setTimeout(function(){j(a._items[t]).trigger("mousedown")},0)}else{var s=a._closest(e.target,"li");m(s._index)&&(s.className+=" "+a.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}function o(e){var t=a._closest(e.target,"li");m(t._index)&&j(t).removeClass(a.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}function n(e){var t;"#document"!==e.target.nodeName&&(t=a._closest(e.target,"li"),!0!==a.reorder&&!0!==a._removeByDrag||t._index!==a.selectedIndex||(l=!0,r=t._index,t.style.cursor="move"))}function i(){"mouseLeave"===a.popupCloseMode&&"popup"===a.mode&&a._clearSelection()}function c(e){var t=a._closest(e.target,"li")._index;a._items[t]._disabled||t===a.selectedIndex||a._selectAt(t)}function d(e){var t=a._closest(e.target,"li")._index;a._items[t]._disabled||"popup"===a.mode&&"none"!==a.popupCloseMode&&a._clearSelection()}function h(){"mouseLeave"===a.popupCloseMode&&"popup"===a.mode&&a._clearSelection()}function _(e){if("click"===a.popupCloseMode&&"popup"===a.mode&&-1!==a.selectedIndex){if("svg"===e.target.tagName)return;var t=a._closest(e.target,void 0,"jqx-ribbon");if(void 0!==t&&t.getAttribute("id")!==s)return void a._clearSelection();if(void 0===e.target.className||-1!==e.target.className.indexOf("jqx-ribbon-content-popup"))return void a._clearSelection();if(j(e.target).ischildof(a.host))return;var o=!1,n=[],i=function(e){e.parentElement&&(n.push(e.parentElement),i(e.parentElement))};i(e.target),j.each(n,function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return!(o=!0);if(-1!==this.className.indexOf("jqx-ribbon"))return s===this.id&&(o=!0),!1}}),o||a._clearSelection()}}if("click"===a.selectionMode){for(var m=function(e){return(a._selecting!==e&&!1===a._allowSelection||(-1===a._selecting||a.selectedIndex!==e)&&!0===a._allowSelection)&&!a._items[e]._disabled},p=0;p<a._items.length;p++){var b=a._items[p];a.addHandler(b,"click.ribbon"+s,e),a.addHandler(b,"mouseenter.ribbon"+s,t),a.addHandler(b,"mouseleave.ribbon"+s,o),a.addHandler(b,"mousedown.ribbon"+s,n)}if("popup"===a.mode){a.addHandler(a.host,"mouseleave.ribbon"+s,function(){"mouseLeave"===a.popupCloseMode&&"popup"===a.mode&&a._clearSelection()});for(var u=0;u<a._contentSections.length;u++)a.addHandler(a._contentSections[u],"mouseleave.ribbon"+s,i);a.addHandler(j(document),"mousedown.ribbon"+s,function(e){_(e)})}if(!0===a._removeByDrag)for(var f=0;f<a._items.length;f++)a._items[f].className+=" "+a.toThemeProperty("jqx-ribbon-item-docking-layout");a.addHandler(document,"mouseup.ribbon"+s,function(){l=!1;for(var e=0;e<a._items.length;e++)a._items[e].style.cursor=""}),a.addHandler(a._header,"mouseleave.ribbon"+s,function(e){!0===a._removeByDrag&&!0===l&&(a._raiseEvent("3",{draggedIndex:r,x:e.pageX,y:e.pageY}),1<a._items.length&&a.removeAt(r),l=!1,e.target.style.cursor="")})}else if("hover"===a.selectionMode){for(var x=0;x<a._items.length;x++){var g=a._items[x];a.addHandler(g,"mouseenter.ribbon"+s,c),"popup"===a.mode&&a.addHandler(g,"click.ribbon"+s,d)}if("popup"===a.mode){a.addHandler(a.host,"mouseleave.ribbon"+s,function(){"mouseLeave"===a.popupCloseMode&&"popup"===a.mode&&a._clearSelection()});for(var v=0;v<a._contentSections.length;v++)a.addHandler(a._contentSections,"mouseleave.ribbon"+s,h);a.addHandler(j(document),"mousedown.ribbon"+s,function(e){_(e)})}}var y,w=j.jqx.mobile.isTouchDevice()?(y="touchstart","touchend"):(y="mousedown","mouseup");a.addHandler(a._scrollButtonNear,y+".ribbon"+s,function(){return"horizontal"===a._orientation?a._timeoutNear=setInterval(function(){var e=a._headerElement.scrollLeft,t=a.rtl&&"msie"===a._browser.browser?-1:1;a._headerElement.scrollLeft=e-a.scrollStep*t,a._updatePositions()},a.scrollDelay):a._timeoutNear=setInterval(function(){var e=a._headerElement.scrollTop;a._headerElement.scrollTop=e-a.scrollStep,a._updatePositions()},a.scrollDelay),!1}),a.addHandler(a._scrollButtonFar,y+".ribbon"+s,function(){return"horizontal"===a._orientation?a._timeoutFar=setInterval(function(){var e=a._headerElement.scrollLeft,t=a.rtl&&"msie"===a._browser.browser?-1:1;a._headerElement.scrollLeft=e+a.scrollStep*t,a._updatePositions()},a.scrollDelay):a._timeoutFar=setInterval(function(){var e=a._headerElement.scrollTop;a._headerElement.scrollTop=e+a.scrollStep,a._updatePositions()},a.scrollDelay),!1}),a.addHandler(j(document),w+".ribbon"+s,function(){clearInterval(a._timeoutNear),clearInterval(a._timeoutFar)})},_removeHandlers:function(e,t){var o=this,n=o.element.id;e=e||o.selectionMode,t=t||o.mode;for(var i=0;i<o._items.length;i++){var s=o._items[i];o.removeHandler(s,"mouseenter.ribbon"+n),"click"===e&&(o.removeHandler(s,"click.ribbon"+n),o.removeHandler(s,"mouseleave.ribbon"+n),o.removeHandler(s,"mousedown.ribbon"+n))}"click"===e?(o.removeHandler(document,"mouseup.ribbon"+n),o.removeHandler(o._header,"mouseleave.ribbon"+n)):"hover"===e&&"popup"===t&&o.removeHandler(o.host,"mouseleave.ribbon"+n);var r,a=j.jqx.mobile.isTouchDevice()?(r="touchstart","touchend"):(r="mousedown","mouseup");o.removeHandler(o._scrollButtonNear,r+".ribbon"+n),o.removeHandler(o._scrollButtonFar,r+".ribbon"+n),o.removeHandler(j(document),a+".ribbon"+n)},_checkStructure:function(e){if(2!==e.length)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");if(this._header.children().length!==this._content.children().length)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var e=this,t="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+e.position,o="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+e._orientation,n="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+e._orientation,i="jqx-ribbon-item jqx-ribbon-item-"+e.position;if(e._content.removeClass(),e._header.removeClass(e.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+e._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),e.host.removeClass(),e._roundedCorners)switch(e.position){case"top":n+=" jqx-rc-t",i+=" jqx-rc-t",t+=" jqx-rc-b";break;case"bottom":n+=" jqx-rc-b",i+=" jqx-rc-b",t+=" jqx-rc-t";break;case"left":n+=" jqx-rc-l",i+=" jqx-rc-l",t+=" jqx-rc-r";break;case"right":n+=" jqx-rc-r",i+=" jqx-rc-r",t+=" jqx-rc-l"}else switch(e.position){case"top":i+=" jqx-rc-t";break;case"bottom":i+=" jqx-rc-b";break;case"left":i+=" jqx-rc-l";break;case"right":i+=" jqx-rc-r"}!0===e.rtl&&(n+=" jqx-ribbon-header-rtl",i+=" jqx-ribbon-item-rtl"),e.element.className+=" "+e.toThemeProperty("jqx-widget jqx-ribbon"),e._headerElement.className+=" "+e.toThemeProperty(n),e._contentElement.className+=" "+e.toThemeProperty(o);for(var s,r,a,l=0;l<e._items.length;l++){var c=j(e._contentSections[l]),d=j(e._items[l]);c.removeClass(),d.removeClass(e.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+e.position)),"popup"===e.mode&&(t+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+e.position+" jqx-ribbon-content-section-"+e._orientation+"-popup"),e._contentSections[l].className+=" "+e.toThemeProperty(t),e._items[l].className+=" "+e.toThemeProperty(i)}"popup"===e.mode?(-1===e.selectedIndex&&e._roundedCorners&&(e.element.className+=" "+e.toThemeProperty("jqx-rc-all"),e._headerElement.className+=" "+e.toThemeProperty("jqx-rc-all")),e.element.className+=" "+e.toThemeProperty("jqx-ribbon-popup"),e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-"+e._orientation+"-popup"),e._contentElement.className+=" "+e.toThemeProperty("jqx-ribbon-content-popup"),e._positionPopup()):("horizontal"===e._orientation?"auto"!==e.height?(r=e._headerElement.offsetHeight,"top"===e.position?e._contentElement.style.paddingTop=e._toPx(r):e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-bottom")):e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===e._orientation&&("auto"!==e.width?(s=e._headerElement.offsetWidth,"left"===e.position?e._contentElement.style.paddingLeft=e._toPx(s):(e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-right"),e._contentElement.style.paddingRight=e._toPx(s))):(e.element.className+=" "+e.toThemeProperty("jqx-ribbon-auto"),e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-auto"),e._contentElement.className+=" "+e.toThemeProperty("jqx-ribbon-content-auto-width"))),this.host.addClass("jqx-tabs-header-position-"+this.position)),j(e._headerElement).addClass(e.toThemeProperty("jqx-ribbon-header-"+e.position)),"7.0"===e._browser.version&&"msie"===e._browser.browser&&("horizontal"===e._orientation?(e._header.css("width",e.host.width()-parseInt(e._header.css("padding-left"),10)-parseInt(e._header.css("padding-right"),10)-parseInt(e._header.css("border-left-width"),10)-parseInt(e._header.css("border-right-width"),10)),e._items.height(e._items.height()-parseInt(e._items.css("padding-top"),10)-parseInt(e._items.css("padding-bottom"),10)-parseInt(e._items.css("border-top-width"),10)-parseInt(e._items.css("border-bottom-width"),10)),e._contentSections.width(e._contentSections.width()-parseInt(e._contentSections.css("border-left-width"),10)-parseInt(e._contentSections.css("border-right-width"),10)-parseInt(e._contentSections.css("padding-left"),10)-parseInt(e._contentSections.css("padding-right"),10)),"default"===e.mode&&"auto"!==e.height&&("top"===e.position?e._contentSections.css("padding-top",r):e._contentSections.css("padding-bottom",r),e._content.css("height",e.host.height()+2),e._contentSections.css("height",e._content.height()-parseInt(e._contentSections.css("border-bottom-width"),10)-parseInt(e._contentSections.css("border-top-width"),10)-1))):(a="left"===e.position?(e._contentElement.className+=" "+e.toThemeProperty("jqx-ribbon-content-left"),parseInt(e._contentSections.css("border-left-width"),10)+parseInt(e._contentSections.css("border-right-width"),10)+1):(e._contentElement.className+=" "+e.toThemeProperty("jqx-ribbon-content-right"),0),e._header.css("height",e.host.height()-parseInt(e._header.css("padding-top"),10)-parseInt(e._header.css("padding-bottom"),10)-parseInt(e._header.css("border-top-width"),10)-parseInt(e._header.css("border-bottom-width"),10)),e._items.width(e._items.width()-parseInt(e._items.css("padding-left"),10)-parseInt(e._items.css("padding-right"),10)-parseInt(e._items.css("border-left-width"),10)-parseInt(e._items.css("border-right-width"),10)),e._contentSections.height(e._contentSections.height()-parseInt(e._contentSections.css("border-top-width"),10)-parseInt(e._contentSections.css("border-bottom-width"),10)-parseInt(e._contentSections.css("padding-top"),10)-parseInt(e._contentSections.css("padding-bottom"),10)),"default"===e.mode&&"auto"!==e.width&&("left"===e.position?e._contentSections.css("padding-left",s):e._contentSections.css("padding-right",s),e._contentSections.width(e._content.width()-e._header.width()-a)))),"bottom"===e.position&&e._content.css("padding-bottom",r)},_positionPopup:function(){var e=this,t="7.0"===e._browser.version&&"msie"===e._browser.browser;switch(e.position){case"top":e._contentElement.style.top=e._toPx(e._headerElement.offsetHeight);break;case"bottom":e._contentElement.style.bottom=t?e._toPx(e._height(e._headerElement)):e._toPx(e._headerElement.offsetHeight);break;case"left":e._contentElement.style.left=e._toPx(e._headerElement.offsetWidth);break;case"right":e._contentElement.style.right=e._header.outerWidth()+"px"}},_appendScrollButtons:function(){var n=this,e="horizontal"===n._orientation?["left","right"]:["up","down"];function t(e,t,o){e.className=n.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+n.position+" jqx-ribbon-scrollbutton-"+n.scrollPosition+" jqx-widget-header "+t),e.innerHTML='<div class="'+n.toThemeProperty("jqx-ribbon-scrollbutton-inner "+o)+'"></div>',"horizontal"===n._orientation?e.style.height=n._toPx(n._height(n._headerElement)):e.style.width=n._toPx(n._width(n._headerElement)),n.element.appendChild(e)}var o=document.createElement("div");t(o,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+e[0]);var i=document.createElement("div");if(t(i,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+e[1]),n._scrollButtonRc(o,i),n._scrollButtonNear=o,n._scrollButtonFar=i,n.roundedCorners)switch(n.position){case"top":case"bottom":o.style.marginLeft="-1px",i.style.marginRight="-1px";break;case"right":case"left":o.style.marginTop="-1px",i.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){var o=this;if(o.roundedCorners)switch(o.position){case"top":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-tl")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-bl")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-tl")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-tr")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){o._items[n]._index===o.selectedIndex&&(o.selectedIndex=n)}var o=this;o._items=o._header.children(),o._contentSections=o._content.children();for(var n=0;n<o._items.length;n++){var i=o._items[n];i.setAttribute("unselectable","on"),void 0===i._index&&(i._disabled=!1,i._isInitialized=!1,o._contentSections[n]._layout="default"),!0===e&&t(),i._index=n,!0!==e&&t(),o._contentSections[n]&&(o._contentSections[n]._index=n)}},_positionContent:function(e){function t(e){e<0?e=0:o<e+r&&(e=o-r),l.style[c]=a._toPx(e)}var o,n,i,s,r,a=this,l=a._contentSections[e],c="horizontal"===a._orientation?(o=a.element.offsetWidth,n=a.host.offset().left,i=a._items[e].offsetWidth,s=j(a._items[e]).offset().left,r=l.offsetWidth||parseInt(l.style.width,10),"left"):(o=a.element.offsetHeight,n=a.host.offset().top,i=a._items[e].offsetHeight,s=j(a._items[e]).offset().top,r=l.offsetHeight||parseInt(l.style.height,10),"top");switch(l._layout){case"near":t(s-n);break;case"far":t(s-n-(r-i));break;case"center":t(s-n-(r-i)/2);break;default:if("right"===a.position)for(var d=0;d<a._contentSections.length;d++)a._contentSections[d].style.right="1px";else l.style[c]=""}},_checkScrollButtons:function(e){var t=this,o=0;j.each(t._items,function(){var e=j(this);"none"!==e.css("display")&&(o+="horizontal"===t._orientation?e.outerWidth(!0):e.outerHeight(!0))});var n,i,s="horizontal"===t._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],r="horizontal"===t._orientation?t._width(t._headerElement):t._height(t._headerElement);if(t._itemMargins||(t._itemMargins=[],t._itemMargins.push(j(t._items[0]).css(s[0])),t._itemMargins.push(j(t._items[t._items.length-1]).css(s[1]))),r<o){t._scrollButtonNear.style.display="block",t._scrollButtonFar.style.display="block";var a=t.rtl?t._itemMargins[0]:17,l=t.rtl?t._itemMargins[0]:17;switch(t.scrollPosition){case"near":l=0,a=34;break;case"far":l=34,a=17}t._items[0]&&(t._items[0].style[s[0]]=t._toPx(a)),t._items[t._items.length-1]&&(t._items[t._items.length-1].style[s[1]]=t._toPx(l))}else t._items[0]&&(t._items[0].style[s[0]]=t._toPx(t._itemMargins[0])),t._items[t._items.length-1]&&(t._items[t._items.length-1].style[s[1]]=t._toPx(t._itemMargins[1])),t._scrollButtonNear.style.display="none",t._scrollButtonFar.style.display="none";!0===e&&("horizontal"===t._orientation?(n=t._toPx(t._height(t._headerElement)),t._scrollButtonNear.style.height=n,t._scrollButtonFar.style.height=n):(i=t._toPx(t._width(t._headerElement)),t._scrollButtonNear.style.width=i,t._scrollButtonFar.style.width=i))},_positionSelectionToken:function(e){var t=this;if(-1!==e){var o,n,i,s,r,a,l,c,d,h=j(t._items[e]);if(0===h.length)return;"horizontal"===t._orientation?(i=!0===t.rtl?(n=1===t._browserWidthRtlFlag?t._headerElement.scrollWidth-t._headerElement.clientWidth:0,t._browserScrollRtlFlag):(n=0,1),s=h[0].offsetLeft+n-t._headerElement.scrollLeft*i-t._selectionTokenOffsetX+2,r=t._headerElement.offsetHeight-1,a=t._width(h[0])+parseInt(h.css("padding-left"),10)+parseInt(h.css("padding-right"),10),l="top"===t.position?(o=r-t._selectionTokenOffsetY,""):(o="",r-t._selectionTokenOffsetY),t._selectionToken.style.top=t._toPx(o),t._selectionToken.style.bottom=t._toPx(l),t._selectionToken.style.left=t._toPx(s),t._selectionToken.style.width=t._toPx(a)):(o=h[0].offsetTop-t._headerElement.scrollTop-t._selectionTokenOffsetX+2,r=t._headerElement.offsetWidth-1,c=t._height(h[0])+parseInt(h.css("padding-top"),10)+parseInt(h.css("padding-bottom"),10),d="left"===t.position?(s=r-t._selectionTokenOffsetY,""):(s="",r-t._selectionTokenOffsetY),t._selectionToken.style.top=t._toPx(o),t._selectionToken.style.left=t._toPx(s),t._selectionToken.style.right=t._toPx(d),t._selectionToken.style.height=t._toPx(c))}},_updatePositions:function(e,t){var o,n=this;isNaN(e)&&(e=!0===t&&null!==n._selecting&&0<=n._selecting?n._selecting:n.selectedIndex),-1!==e&&(n._positionSelectionToken(e),"popup"===n.mode&&"default"!==n._contentSections[e]._layout&&n._positionContent(e),"popup"!==n.mode||"left"!==n.position&&"right"!==n.position||(n._contentElement.style.width="auto",o=n._contentSections[e].style.width&&0<=n._contentSections[e].style.width.indexOf("%"),n._contentElement.style.width=o?n._toPx(n._width(n._contentSections[e])-n._width(n._headerElement)):n._toPx(n._width(n._contentSections[e]))),n._refreshBarPosition())},_animationComplete:function(e,t){var o=this,n=-1!==t?t:null;o._contentElement.style.pointerEvents="auto",o.selectedIndex=e,!0!==o._suppressSelectionEvents?(o._raiseEvent("0",{selectedIndex:e}),o._raiseEvent("2",{unselectedIndex:n,selectedIndex:e})):(!0!==o._suppressReorder&&void 0!==o._oldReorderIndex&&e!==o._oldReorderIndex&&o._raiseEvent("4",{newIndex:e,oldIndex:o._oldReorderIndex}),o._suppressSelectionEvents=!1,o._suppressReorder=!1),o.initContent&&!1===o._items[e]._isInitialized&&(o.initContent(e),o._items[e]._isInitialized=!0),o._allowSelection=!0,o._selecting=null,o._refreshBarPosition()},_clearSelectionComplete:function(e,t){var o=this;o._selecting=null,void 0===e&&(e=o.selectedIndex),-1!==e&&(o._contentElement.style.pointerEvents="none",!0!==o._suppressSelectionEvents&&o._raiseEvent("1",{unselectedIndex:e})),!0!==t&&(o.selectedIndex=-1)},_slide:function(e,t,o,n){var i=this;if(i.activeAnimations||(i.activeAnimations=[]),0<i.activeAnimations.length)for(var s=0;s<i.activeAnimations.length;s++)i.activeAnimations[s].clearQueue(),i.activeAnimations[s].finish();else e.clearQueue(),e.animate("finish");var r,a="ui-effects-",l=function(e,t){for(var o=0;o<t.length;o++)null!==t[o]&&0<e.length&&e.data(a+t[o],e[0].style[t[o]])},c=function(e,t){for(var o,n=0;n<t.length;n++)null!==t[n]&&(void 0===(o=e.data(a+t[n]))&&(o=""),e.css(t[n],o))},d=function(o){if(o.parent().is(".ui-effects-wrapper"))return o.parent();var n={width:o.outerWidth(!0),height:o.outerHeight(!0),float:o.css("float")},e=j("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:o.width(),height:o.height()},i=document.activeElement;try{i.id}catch(e){i=document.body}return o.wrap(e),o[0]!==i&&!j.contains(o[0],i)||j(i).focus(),e=o.parent(),"static"===o.css("position")?(e.css({position:"relative"}),o.css({position:"relative"})):(j.extend(n,{position:o.css("position"),zIndex:o.css("z-index")}),j.each(["top","left","bottom","right"],function(e,t){n[t]=o.css(t),isNaN(parseInt(n[t],10))&&(n[t]="auto")}),o.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),o.css(t),e.css(n).show()},h=function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==t&&!j.contains(e[0],t)||j(t).focus()),e},_=["position","top","bottom","left","right","width","height"],m=t.mode,p="show"===m,b=t.direction||"left",u="up"===b||"down"===b?"top":"left",f="up"===b||"left"===b,x={};l(e,_),e.show(),r=t.distance||e["top"==u?"outerHeight":"outerWidth"](!0),d(e).css({overflow:"hidden"}),p&&e.css(u,f?isNaN(r)?"-"+r:-r:r),x[u]=(p?f?"+=":"-=":f?"-=":"+=")+r;return i.activeAnimations.push(e),e.animate(x,{duration:t.duration,easing:t.easing,complete:function(){i.activeAnimations.pop(e),"show"===m?i._animationComplete(o,n):"hide"===m&&(e.hide(),i._clearSelectionComplete(o)),c(e,_),h(e)}}),function(){e.clearQueue(),e.stop(!0,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(e){var t=j(e),o=t.css("border-left-width"),n=t.css("border-right-width"),i=parseInt(t.css("padding-left"),10),s=parseInt(t.css("padding-right"),10),r="none"===t.css("display");r&&(e.style.display="block"),o=-1===o.indexOf("px")?1:parseInt(o,10),n=-1===n.indexOf("px")?1:parseInt(n,10);var a=e.offsetWidth-(o+n+i+s);return r&&(e.style.display="none"),Math.max(0,a)},_height:function(e){var t=j(e),o=t.css("border-top-width"),n=t.css("border-bottom-width"),i=parseInt(t.css("padding-top"),10),s=parseInt(t.css("padding-bottom"),10),o=-1===o.indexOf("px")?1:parseInt(o,10),n=-1===n.indexOf("px")?1:parseInt(n,10),r=e.offsetHeight-(o+n+i+s);return Math.max(0,r)},_closest:function(e,t,o){if(t){if(e.nodeName.toLowerCase()===t)return e;for(var n=e.parentNode;null!==n&&"#document"!==n.nodeName;){if(n.nodeName.toLowerCase()===t)return n;n=n.parentNode}}if(o){if(-1<(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+o+" "))return e;for(var i=e.parentNode;null!==i&&"#document"!==i.nodeName;){if(-1<(" "+i.className+" ").replace(/[\n\t]/g," ").indexOf(" "+o+" "))return i;i=i.parentNode}}},_initAnimate:function(e){if(e.initAnimate){if(e.animate)return;e.initAnimate()}}})}(jqxBaseFramework);