!function(p){p.jqx.jqxWidget("jqxProgressBar","",{}),p.extend(p.jqx._jqxProgressBar.prototype,{defineInstance:function(){var t={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===p.jqx._jqxProgressBar.prototype||p.extend(!0,this,t),t},createInstance:function(t){var e=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),p.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")||null==this.width||isNaN(this.width),this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")||null==this.height||isNaN(this.height),this.host.height(this.height),this.valueDiv=p("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=p("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=p("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),p.jqx.utilities.resize(this.host,function(){e.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var t="vertical"==this.orientation,e=this.colorRanges,i=e.length,s=0;s<i;s++){var h=e[s].stop,a=e[s].color;this._createColorElements(h,a,t,i-s,s)}},_refreshColorElements:function(){for(var t=this.host.outerWidth(),e=this.host.outerHeight(),i="vertical"==this.orientation,s=0;s<this.colorRanges.length;s++){var h=this.colorRanges[s].element;if(!h)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var a=this.colorRanges[s].stop;a>Math.min(this.max,this.value)&&(a=Math.min(this.max,this.value));var r=100*(a-this.min)/(this.max-this.min),o=i?e*r/100:t*r/100;o+="px",i?(h.css("height",o),"reverse"==this.layout?h.css("bottom",0):h.css("top",0)):(h.css("width",o),!this.rtl&&"reverse"!=this.layout||h.css("right","0px"))}},_createColorElements:function(t,e,i,s,h){t>Math.min(this.max,this.value)&&(t=Math.min(this.max,this.value));var a=100*t/this.max,r=(this.host.width(),this.host.height(),i?this.host.outerHeight()*a/100:this.host.outerWidth()*a/100);r+="px";var o,n=p(this.valueDiv).parent()[0];n.style.position="relative",(i=i||!1)?((o=p("<div/>")).attr("class","jqx-progressbar-range"),o.css("width","100%"),o.css("height",r),o.css("background-color",e),o.css("position","absolute"),o.css("z-index",s),"reverse"==this.layout?o.css("bottom",0):o.css("top",0)):((o=p("<div/>")).attr("class","jqx-progressbar-range"),o.css("width",r),o.css("height","100%"),o.css("background-color",e),o.css("position","absolute"),o.css("z-index",s),o.css("top","0px"),this.rtl&&o.css("right","0px")),o.appendTo(n),this.colorRanges[h].element=o},resize:function(t,e){this.width=t,this.height=e,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(t,e,i){if(null!=this.isInitialized&&1==this.isInitialized){var s=this.events[t],h=new p.Event(s);return h.previousValue=e,h.currentValue=i,(h.owner=this).host.trigger(h)}},actualValue:function(t){return void 0===t||(p.jqx.aria(this,"aria-valuenow",t),p.jqx.setvalueraiseevent(this,"value",t)),this._value()},val:function(t){return 0==arguments.length||"object"==typeof t?this.actualValue():this.actualValue(t)},propertiesChangedHandler:function(t,e,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(t.host.width(i.width),t.host.height(i.height),t.refresh())},propertyChangedHandler:function(t,e,i,s){var h;this.isInitialized&&i!=s&&(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||(h=this,"colorRanges"==e&&(t.host.find(".jqx-progressbar-range").remove(),t._addRanges()),("min"==e&&t.value<s||"max"==e&&t.value>s)&&(t.value=s),"value"===e&&null!=h.value&&(h.value=s,h.oldValue=i,p.jqx.aria(t,"aria-valuenow",s),(s<h.min||s>h.max)&&h._raiseevent(1,i,s),h.refresh()),"theme"==e&&p.jqx.utilities.setTheme(i,s,t.host),"renderText"==e||"orientation"==e||"layout"==e||"showText"==e||"min"==e||"max"==e?h.refresh():"width"==e&&null!=h.width?null==h.width||isNaN(h.width)||(h.host.width(h.width),h.refresh()):"height"==e&&null!=h.height&&(null==h.height||isNaN(h.height)||(h.host.height(h.height),h.refresh())),"disabled"==e&&h.refresh()))},_value:function(){var t,e=this.value;return"number"!=typeof e&&(t=parseInt(e),e=isNaN(t)?0:t),Math.min(this.max,Math.max(this.min,e))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(t){var e=p("<span>"+t+"</span>");p(this.host).append(e);var i=e.width();return e.remove(),i},_textheight:function(t){var e=p("<span>"+t+"</span>");p(this.host).append(e);var i=e.height();return e.remove(),i},_initialRender:!0,refresh:function(t){if(!0!==t){var e=this.actualValue(),i=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),p(this.element.children[0]).show(),!isNaN(e)&&!isNaN(i)){this.oldValue!==e&&(this._raiseevent(0,this.oldValue,e),this._raiseevent(3,this.oldValue,e),this.oldValue=e);var s=this.oldValue,h=this.host.outerHeight(),a=this.host.outerWidth();null!=this.width&&(a=parseInt(this.width)),null!=this.height&&(h=parseInt(this.height)),this._refreshColorElements();var r=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight());isNaN(i)&&(i=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical")));var o=this;try{var n,l,d=this.element.children[0];p(d)[0].style.position="relative","horizontal"==this.orientation?(p(d).toggle(e>=this.min),a=this.host.outerWidth()*i/100,n=0,"reverse"!=this.layout&&!this.rtl||(this._initialRender&&(p(d)[0].style.left=this.host.width()+"px",p(d)[0].style.width=0),n=this.host.outerWidth()-a),p(d).stop(),p(d).animate({width:a,left:n+"px"},this.animationDuration,function(){o._value()===o.max&&o._raiseevent(2,s,o.max)})):(p(d).toggle(e>=this.min),h=this.host.height()*i/100,l=0,"reverse"==this.layout&&(this._initialRender&&(p(d)[0].style.top=this.host.height()+"px",p(d)[0].style.height=0),l=this.host.height()-h),p(d).stop(),p(d).animate({height:h,top:l+"px"},this.animationDuration,function(){var t=o._percentage();isNaN(t)&&(t=0),t.toFixed(0)==o.min&&(p(d).hide(),o._value()===o.max&&o._raiseevent(2,s,o.max))}))}catch(t){}this._initialRender=!1,this.feedbackElement.html(i.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(i.toFixed(0)+"%",i)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),0<this.colorRanges.length&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var u=this.feedbackElement.height(),v=this.feedbackElement.width(),c=Math.floor(r-parseInt(v)/2);this.feedbackElement.css({left:c,"margin-top":-parseInt(u)/2+"px"})}}}})}(jqxBaseFramework);