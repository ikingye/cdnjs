!function(e){e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.jqxWidget("jqxScheduler","",{}),e.extend(e.jqx._jqxScheduler.prototype,{defineInstance:function(){var t={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:235,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new e.jqx.date(0),max:new e.jqx.date(9999,12,31),date:new e.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1,ICSXWRCALNAME:"jqxScheduler",ICSXWRCALDESC:"jqxScheduler Description"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:469,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===e.jqx._jqxScheduler.prototype?t:(e.extend(!0,this,t),this.that=this,t)},_applyThemeSettings:function(){const e=this;var t=window.getComputedStyle(e.element),i=t.getPropertyValue("--jqx-grid-row-height"),o=t.getPropertyValue("--jqx-grid-column-height");t.getPropertyValue("--jqx-scrollbar-size");i&&(e.rowsHeight=parseInt(i)),o&&(e.columnsHeight=parseInt(o))},createInstance:function(t){var i=this;i._views=new Array,i._view=i.view,this._applyThemeSettings();for(var o=0;o<i.views.length;o++)"string"===e.type(i.views[o])?i._views.push({type:i.views[o]}):i._views.push(i.views[o]);for(o=0;o<i._views.length;o++)if(i._views[o].type==i.view){i._view=o;break}15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var n=i.source._source.datafields;n&&n.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-scheduler")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content jqx-disableselect")),i._testmodules()||(i.overlay=e("<div style='z-index: 999; position:absolute;'></div>"),i.overlay.hide(),i.overlay.appendTo(i.host),i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),o=e(window).height();i._hostWidth=null,i._hostHeight=null;var n=i.host.width(),r=i.host.height();i._hostWidth=n,i._hostHeight=r,i._lastHostWidth==n&&i._lastHostHeight==r||i._updatesize(i._lastHostWidth!=n,i._lastHostHeight!=r),i._lastWidth=t,i._lastHeight=o,i._lastHostWidth=n,i._lastHostHeight=r}),i.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this;t.editRecurrenceDialog=null;var i=e("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");t.editRecurrenceDialog=i,e(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1});var o=i.find("button");o.jqxButton({theme:t.theme,width:"50%"});var n=!1;o.mousedown(function(){n=!0,this.id.indexOf("editRecurringAppointmentOccurrence")>=0?t.editSeries(!1):t.editSeries(!0),e(i).jqxWindow("close")}),this.addHandler(e(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(e(i),"keydown",function(t){if(13==t.keyCode&&e(document.activeElement).ischildof(e(i))&&"button"==document.activeElement.nodeName.toLowerCase())return e(document.activeElement).trigger("mousedown"),e(document.activeElement).trigger("mouseup"),!0}),this.addHandler(e(i),"close",function(e){if(!n)return t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1;n=!1,t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,o=this._views[this._view];switch(i){case"dayView":t=1;break;case"timelineDayView":t=1,o.days&&(t=o.days);break;case"weekView":case"timelineWeekView":t=7,o.days&&(t=o.days);break;case"monthView":t=41;break;case"timelineMonthView":t=41,o.days&&(t=o.days);break;case"agendaView":t=7,o.days&&(t=o.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||i>6)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){var e=this.date;e<this.min&&(e=this.min),e>this.max&&(e=this.max);var t=this._views[this._view].type;this._views[this._view];switch(e=e.clearTime(),t){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return e}var i=e.day();return e=e.addDays(1-i)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var o=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(o=!0),o?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=function(){""!=t.length&&(t+=",")};this.host.jqxScrollBar||(i(),t+=" jqxscrollbar.js"),this.host.jqxButton||(i(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(i(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(i(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(i(),t+=" jqxcalendar.js");try{Globalize||(i(),t+=" globalize.js")}catch(e){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var e=this;return setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;this.host.focus();e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updatesize:function(t,i){if(!this._loading){var o=this,n=o.host.width(),r=o.host.height();o._oldWidth||(o._oldWidth=n),o._oldHeight||(o._oldHeight=r),null!=o._resizeTimer&&(clearTimeout(o._resizeTimer),o._resizeTimer=null);var s=function(){o._resizeTimer&&clearTimeout(o._resizeTimer),o.resizingGrid=!0,e.jqx.isHidden(o.host)||(o._updatecolumnwidths(),o.refresh(),o._oldWidth=n,o._oldHeight=r,o.resizingGrid=!1)};s(),o._resizeTimer=setTimeout(function(){var e=o.host.width(),t=o.host.height();o._oldWidth==e&&o._oldHeight==t||s()},300)}},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchMode?(t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t):0==this.touchMode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=t){for(var o in this.schedulerLocalization)t[o]&&(this.schedulerLocalization[o]=t[o]);t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this;("auto"===i.width||null===i.width||i.autowidth)&&999999==i.maxWidth&&(t=!0);var o=i._views[i._view].type,n=i._views[i._view];if("monthView"==o&&i.resources&&"none"==i.resources.orientation&&!n.monthRowAutoHeight){var r=i.vScrollBar[0].style.visibility;return i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(r!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths())}var s=parseInt(i.scrollBarSize),a=i.table?i.table.height():0,l=0,d="inherit";r=i.vScrollBar[0].style.visibility,i.hScrollBar[0].style.visibility;if(e)h=e;else var h=i.host.height();i.columnGroups?h-=i.showHeader?i.columnsheader.height():0:h-=i.showHeader?i.columnsHeight:0,i.filterable&&(h-=i.filter.height()),i.pageable&&(h-=i.pagerHeight,"both"===i.pagerPosition&&(h-=i.pagerHeight)),i.showToolbar&&(h-=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(h-=i.legendHeight);var c=!1;("auto"===i.height||null===i.height||i.autoheight)&&999999==i.maxHeight&&(c=!0),!c&&a>h&&i.getRows().length>0?(i.vScrollBar[0].style.visibility=d,l=4+parseInt(s),i.vScrollBar.jqxScrollBar({max:a-h})):i.vScrollBar[0].style.visibility="hidden",r!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths();var u=i.table?i.table.width():0;u>4&&(u-=4);var p=parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width")),m=p+i.host.width()-l;if(u>m&&!t){if(i.hScrollBar[0].style.visibility=d,i.hScrollBar.jqxScrollBar({max:2+p+u-m}),l=4+parseInt(s),0==s&&(l=0),!c&&a!=h){if(a>h-l+4&&i.getRows().length>0){i.hScrollBar.jqxScrollBar({max:p+u-m});var f="hidden"===i.vScrollBar[0].style.visibility;i.vScrollBar[0].style.visibility=d,i._updatecolumnwidths(),f&&i.hScrollBar.jqxScrollBar({max:u-m+p});var g=i.table?i.table.width():0;g>3&&(g-=3),g!=u&&(g<m?(i.hScrollBar.jqxScrollBar({max:p+g-m}),i.hScrollBar[0].style.visibility="hidden",l=0):f?g>m&&i.hScrollBar.jqxScrollBar({max:p+g-m}):i.hScrollBar.jqxScrollBar({max:u-m+p-s}))}a-h>0?i.vScrollBar.jqxScrollBar({max:a-h+l}):i.vScrollBar[0].style.visibility="hidden"}}else i.hScrollBar[0].style.visibility="hidden";0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var o=i.outerWidth()+20;return i.remove(),o},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this._hostHeight=null,this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showLegend&&this._resources.length>0?this.legendHeight:0,i+=this.showToolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var o=this.filter.find(".filterrow"),n=1;this.filter.find(".filterrow-hidden").length>0&&(n=0),i+=this.filterHeight-1+this.filterHeight*o.length*n}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var t=0,i=0;i<this.columns.records.length;i++){var o=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==o?o=this._measureElementWidth(this.columns.records[i].text):o)}var n=t;return n+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(n+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&this._resources.length>0&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var e=this.legendHeight;0==this._resources.length&&(e=0);var t=this._hostWidth?this._hostWidth:this.host.width(),i=this._hostHeight?this._hostHeight:this.host.height(),o=i;this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden";var n=0;if(this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",n+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition){this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=n+"px"&&(this.legendbartop[0].style.top=n+"px");var r=n+e+"px";n+=e,this.content[0].style.top!=r&&(this.content[0].style.top=n+"px")}this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(o);var s=parseInt(this.scrollBarSize),a=2,l=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(l=s+4),"hidden"!=this.hScrollBar[0].style.visibility&&(a=s+4+2),0==s&&(a=0,l=0),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var d=this._arrangeAutoHeight(a-2),h=this._arrangeAutoWidth(l+1);if((d||h)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),d){var c=this._measureTopAndHeight();n=c.top,i=c.height}}var u=0;this.showLegend&&"bottom"==this.legendPosition?(a+=e,u+=e):this.showLegend&&(a+=e),this.hScrollBar[0].style.height!=s+"px"&&(this.hScrollBar[0].style.height=parseInt(s)+"px"),this.hScrollBar[0].style.top==n+i-4-s-u+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=n+i-4-s-u-1+"px",this.hScrollBar[0].style.left="0px");var p=this.hScrollBar[0].style.width,m=!1,f=!1;0==l?p!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",m=!0):p!=t-s-4+"px"&&(this.hScrollBar[0].style.width=t-s-4+"px",m=!0),this.vScrollBar[0].style.width!=s+"px"&&(this.vScrollBar[0].style.width=s+"px",f=!0),this.vScrollBar[0].style.height!=parseInt(i)-a+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-a+"px",f=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(s)-4+"px"&&this.vScrollBar[0].style.top==n+"px"||(this.vScrollBar[0].style.top=n+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(s)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:n}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:s+2}));var g=this.vScrollInstance;g.disabled=this.disabled;var w=this.hScrollInstance;w.disabled=this.disabled,m&&w.refresh(),f&&g.refresh();var v;"hidden"!=(v=this).vScrollBar[0].style.visibility&&"hidden"!=v.hScrollBar[0].style.visibility?(v.bottomRight[0].style.visibility="inherit",v.bottomRight[0].style.left=1+parseInt(v.vScrollBar.css("left"))+"px",v.bottomRight[0].style.top=parseInt(v.hScrollBar.css("top"))+"px",v.rtl&&v.bottomRight.css("left","0px"),v.bottomRight[0].style.width=parseInt(s)+3+"px",v.bottomRight[0].style.height=parseInt(s)+4+"px"):v.bottomRight[0].style.visibility="hidden",this.content[0].style.width!=t-l+"px"&&(this.content[0].style.width=t-l+"px"),this.content[0].style.height!=i-a+3+"px"&&(this.content[0].style.height=i-a+3+"px"),this.content[0].style.top!=n+"px"&&(this.content[0].style.top=parseInt(n)+"px"),this.rtl&&this.content.css("left",l),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",n-1+i-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=o;var y=this.schedulercontent.coord();this._tableOffset=y}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)t=e.left,e=e.top;null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,o){if(!0!==this.loadingstate){var n=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var r=this;null==t&&(t={}),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);null!=t&&(null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new e.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,this.dataview.scheduler=this,this.resourcesDataView.scheduler=this,this._loading=!0,this.appointments=new Array,this.uiappointments=new Array;var s=1;this.resources&&this.resources.source&&(s=2);var a=0,l=function(){if(a==s){r._resourcesBinding=!1;var t=r._resources.length>1?r._resources.length:1;if(r.resources&&"horizontal"===r.resources.orientation?(r.tableColumns=t,r.tableRows=1):r.resources&&"vertical"===r.resources.orientation?(r.tableRows=t,r.tableColumns=1):(r.tableColumns=1,r.tableRows=1),r._render(),r.autoShowLoadElement&&!r._loading&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r._updateTouchScrolling(),r._raiseEvent("bindingComplete"),o&&o(),!r.initializedcall){if(r.initializedcall=!0,r.isInitialized=!0,(null!=r.width&&-1!=r.width.toString().indexOf("%")||null!=r.height&&-1!=r.height.toString().indexOf("%"))&&r._updatesize(!0),r.ready&&r.ready(),r._rendercelltexts&&r._rendercelltexts(),r._gridRenderElement){e(r._gridRenderElement).show("slow");var i=6e3+Math.floor(4e3*Math.random()+1),l=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();n[e.camelCase(l)](function(){e(r._gridRenderElement).hide("slow",function(){e(r._gridRenderElement).remove()})},i)}if("hidden"==r.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==r.vScrollBar.css("visibility")&&r.vScrollBar.css("visibility","inherit"),"visible"==r.hScrollBar.css("visibility")&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){"visible"==r.host.css("visibility")&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)}}}};this._resourcesBinding=!1,this.dataview.update=function(t){r._loading=!1,r.appointmentsByKey=new Array,r.appointments=new Array,r.uiappointments=new Array;r.source._source.datafields;for(var i=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],o=new Array,n=0;n<r.source.records.length;n++){var s=r.source.records[n],d={};for(var h in r.appointmentDataFields){var c=s[r.appointmentDataFields[h]];if("from"!=h&&"to"!=h||(c=new e.jqx.date(c)),"style"==h&&c){var u=r.getAppointmentColors(c);d.color=u.color,d.background=u.background,d.borderColor=u.border}if("recurrencePattern"==h&&c&&((c=new e.jqx.scheduler.recurrencePattern(c)).timeZone=s.timeZone||r.timeZone),"recurrenceException"==h){var p=new Array;if(c){c.indexOf("EXDATE:")>=0&&(c=c.substring(c.indexOf("EXDATE:")+7));var m=new Array;c.indexOf(",")>=0?m=c.split(","):m.push(c);for(var f=0;f<m.length;f++){var g=m[f];if(g.indexOf(";")>=0){var w=g.split(";")[1];g=g.split(";")[0],w.toLowerCase().indexOf("display")>=0&&w.toLowerCase().indexOf("none")&&(d.hidden=!0)}try{"Invalid Date"!=(v=e.jqx.scheduler.utilities.untilStringToDate(g))&&(v=d.timeZone?new e.jqx.date(v,d.timeZone):r.timeZone?v.toTimeZone(r.timeZone):new e.jqx.date(v))}catch(t){var v=new e.jqx.date(g,r.timeZone)}p.push(v)}}c=p}d[h]=c}for(var y in i){if(null==d[h=i[y]]){c="";if("originalData"==h)continue;"ownerId"==h&&(c=null),"timeZone"==h&&(c=null),"recurrencePattern"==h&&(c=null),"recurrenceException"==h&&(c=[]),"allDay"==h&&(c=!1),"draggable"==h&&(c=!0),"resizable"==h&&(c=!0),"hidden"==h&&(c=!1),"resourceId"==h&&(c=null),"from"==h&&(c=new e.jqx.date),"to"==h&&(c=(new e.jqx.date).addHours(1)),d[h]=c}}d.originalData=s,r.resources&&!r.resources.source&&(r._resourcesBinding||-1==o.indexOf(d.resourceId)&&o.push(d.resourceId)),r.appointmentsByKey[s.uid]=d,r.appointments.push(d);var x=new e.jqx.scheduler.appointment(d);if(d.timeZone&&(x.from=x.from.toTimeZone(d.timeZone),x.to=x.to.toTimeZone(d.timeZone)),r.timeZone?(d.timeZone||(x.timeZone=r.timeZone),x.from=x.from.toTimeZone(r.timeZone),x.to=x.to.toTimeZone(r.timeZone)):(x.from=x.from.toTimeZone(null),x.to=x.to.toTimeZone(null)),d.jqxAppointment=x,d.recurrenceException)for(var b=0;b<d.recurrenceException.length;b++){v=x.recurrenceException[b];var A=x.clone();A.occurrenceFrom=v;var T=x.duration();r.allDay&&(T=new e.jqx.timeSpan(1e4*(r.to-r.from))),A.from=v,A.to=v.add(T),A.rootAppointment=x,A.hidden=!0,x.exceptions.push(A)}x.boundAppointment=d,x.scheduler=r,r.uiappointments.push(x)}r._resourcesBinding||(r._resources=o),a++,l()},this.resourcesDataView.update=function(e){if(r.resources.dataField){r._resources=new Array;for(var t=0;t<e.length;t++)r._resources.indexOf(e[t][r.resources.dataField])>=0||e[t][r.resources.dataField]&&r._resources.push(e[t][r.resources.dataField])}else r._resources=e;null==r.resources.orientation&&(r.resources.orientation="none"),a++,l()},this.dataview.databind(t),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source))}},_raiseEvent:function(t,i){null==i&&(i={owner:null});var o=t,n=i;n.owner=this;var r=new e.Event(o);r.owner=this,r.args=n;var s=this.host.trigger(r);return i=r.args,s},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!t)return!1;var i=this.getViewStart(),o=this.getViewEnd();if(!e.jqx.scheduler.utilities.rangeIntersection(t.from,t.to,i,o))return this.navigateTo(t.from),this._ensureAppointmentVisible(t);var n=t.id,r=e('[data-key="'+n+'"]');if(r.length>0)var s=r[0];else{if(!(t.elements&&t.elements.length>0))return!1;s=t.elements[0].element}var a=this.vScrollInstance.value,l=this.hScrollInstance.value;if(this.rtl)l=this.hScrollInstance.max-l;var d=this.element.clientHeight,h=this.element.clientWidth,c=0;this.columnGroups?c+=this.showHeader?this.columnsheader.height():0:c+=this.showHeader?this.columnsHeight:0;var u=this._views[this._view].type,p=this._views[this._view],m=0;if("dayView"==u||"weekView"==u){var f=this.showAllDayRow;!p.timeRuler||"dayView"!==u&&"weekView"!==u||null!=p.timeRuler.showAllDayRow&&(f=p.timeRuler.showAllDayRow),f&&(m=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight);var g=t.duration().days()>=1||t.allDay;if(g&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(c+=this.toolbarHeight),d-=c,this.showLegend&&this._resources.length>0&&(d-=this.legendHeight);var w,v=a-0,y=d+v-m,x=l-0,b=h+x,A=s,T=((A=e(A))[0].clientHeight,A.position().top-m);T<=v?((w=T)<0&&(w=0),(!g||g&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",w)):T>=y&&((w=T)<0&&(w=0),(!g||g&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",w-2));var _=A.position().left;_=Math.round(_),A.outerWidth();if(0===Math.round(A.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),_<=x){var S=_-A.outerWidth()+0;S<0&&(S=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-_):this.hScrollBar.jqxScrollBar("setPosition",_)}_>b&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-_):this.hScrollBar.jqxScrollBar("setPosition",_))},ensureVisible:function(t,i){for(var o=this,n="date"==e.type(t)?t:t.toDate(),r=0;r<o.rows.length;r++)for(var s=0;s<o.rows[r].cells.length;s++){var a=o.rows[r].cells[s];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date");if(o._getDateByString(l).valueOf()==n.valueOf())return o._ensureVisible(a)}}},_ensureVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var i=this.vScrollBar.jqxScrollBar("value"),o=this.hScrollBar.jqxScrollBar("value");this.rtl&&(o=this.hScrollBar.jqxScrollBar("max")-o);var n=this._hostHeight,r=this._hostWidth,s=0;this.columnGroups?s+=this.showHeader?this.columnsheader.height():0:s+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(s+=this.toolbarHeight),n-=s,this.showLegend&&this._resources.length>0&&(n-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(n-=20);var a=this._views[this._view].type,l=this._views[this._view],d=0;if("dayView"==a||"weekView"==a){var h=this.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow),h&&(d=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight)}var c=i-0,u=n+c-d,p=o-0,m=r+p,f=t,g=(f=e(f)).position().top-d,w=g+f.outerHeight(),v=f.position().left,y=(v=Math.round(v))+f.outerWidth();if(0===Math.round(f.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),v<=p){var x=v-f.outerWidth()+0;x<0&&(x=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-x):this.hScrollBar.jqxScrollBar("setPosition",x)}y>=m&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+y-r)):this.hScrollBar.jqxScrollBar("setPosition",2+y-r));var b=f.parent().index();if(this.tableRows>0&&b--,0===Math.round(f.position().top)||0===b)return this.vScrollBar.jqxScrollBar("setPosition",0);var A=this.table[0].rows.length-1;if(this.table[0].rows[A][0]===f.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(g<=c){var T=g;return T<0&&(T=0),this.vScrollBar.jqxScrollBar("setPosition",T)}return w>=u?this.vScrollBar.jqxScrollBar("setPosition",4+w-n+d):void 0},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var o=this.getColumn(e);if(null!=o){o[t];o[t]=i;var n=this.getColumn(e);switch(null!=n&&(n[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(o._width=null,o._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){var i=this;if(e.jqx.isHidden(i.host))return;i.table[0].style.top="0px",i.vScrollInstance.setPosition(0),i._renderrows(),i._arrange(),i._renderhorizontalscroll(),i._updateTouchScrolling(),i._refreshToolBar(),i._updateFocusedCell()}},_updateFocusedCell:function(){var e=this;if(e.focusedCell)e._updateCellsSelection();else{var t=e._views[e._view].type,i=e._views[e._view],o=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||null!=i.timeRuler.showAllDayRow&&(o=i.timeRuler.showAllDayRow),!o||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")>=0){e.focusedCell=null;for(var n=0;n<this.rows.length;n++){for(var r=0;r<this.rows[n].cells.length;r++){var s=this.rows[n].cells[r];if(-1==s.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=s;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),o=e.jqx.mobile.getTouchEventName("touchend"),n=e.jqx.mobile.getTouchEventName("touchmove");t.schedulercontent&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,n+".touchScroll"),t.removeHandler(t.table,o+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(!t.dragOrResize){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date}},this.element.id,this.hScrollBar,this.vScrollBar))}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var o=this.host.find("#verticalScrollBar"+this.element.id),n=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=o.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=n.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var r=this.source.datafields;if(null==r&&this.source._source&&(r=this.source._source.datafields),r)for(var s=0;s<this.columns.length;s++){var a=this.columns[s];if(a&&a.cellsFormat&&a.cellsFormat.length>2)for(var l=0;l<r.length;l++)if(r[l].name==a.datafield&&!r[l].format){r[l].format=a.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var d=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.schedulercontent&&(d.schedulercontent[0].scrollLeft=0,d.schedulercontent[0].scrollTop=0),!1}),!0!==t&&this._render()},_render:function(){var t=this;if(null!=t.dataview&&!t._loading){(25!=t.columnsHeight||t.columnGroups)&&t._measureElement("column"),t.rowinfo=new Array,t._removeHandlers(),null==t.columns?t.columns=new e.jqx.schedulerDataCollection(t.element):t._initializeColumns(),t.host.height(t.height),t.host.width(t.width),e.jqx.utilities.html(t.content,""),t.columnsheader=t.columnsheader||e('<div style="overflow: hidden;"></div>'),t.columnsheader.remove(),t.columnsheader.addClass(t.toTP("jqx-widget-header")),t.columnsheader.addClass(t.toTP("jqx-grid-header")),t.showHeader?t.columnsheader&&t.columnsheader.css("display","block"):t.columnsheader.css("display","none"),t.schedulercontent=t.schedulercontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),t.schedulercontent.remove();var i=t.columnsHeight;i=t._preparecolumnGroups(),t.columnsheader.height(i),t.content.append(t.columnsheader),t.content.append(t.schedulercontent),t._rendercolumnheaders(),t.tableheight=null,t.schedulercontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),null!=t.pinnedtable&&(t.pinnedtable.remove(),t.pinnedtable=null),t.table=e('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.pinnedtable=e('<div id="contenttable2'+t.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),t.schedulercontent.addClass(t.toTP("jqx-grid-content")),t.schedulercontent.addClass(t.toTP("jqx-widget-content")),t.schedulercontent.append(t.table),1==t.tableRows&&t.schedulercontent.append(t.pinnedtable),t._renderrows(),t._arrange(),t._resourcesElements=new Array;var o=function(i,o){i.children().remove();i=e("<div style='margin:5px; position: relative;'></div>").appendTo(i);t._resourcesElements[o]=new Array,e.each(t._resources,function(n){var r=t.getColors(n),s=this.toString(),a=e("<div data-toggle='on' style='border-color: "+r.border+"; background: "+r.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>");a.appendTo(i);var l=e("<div class='"+t.toThemeProperty("jqx-scheduler-legend-label")+"'>"+s+"</div>");l.appendTo(i),t._resourcesElements[o][s]=a;var d=function(){"on"==a.attr("data-toggle")?t.hideAppointmentsByResource(s):t.showAppointmentsByResource(s)};t.addHandler(a,"mousedown",function(){return d(),!1}),t.addHandler(l,"mousedown",function(){return d(),!1})})};o(t.legendbarbottom,"bottom"),o(t.legendbartop,"top"),"top"==t.legendPosition?t.legendbarbottom.hide():t.legendbartop.hide(),0==t._resources.length&&(t.legendbarbottom.hide(),t.legendbartop.hide()),t.renderToolBar?t.renderToolBar(t.toolbar):t._renderToolBar(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._renderhorizontalscroll(),t._addHandlers(),t.clearSelection();var n=t._views[t._view].type,r=t._views[t._view],s=t.showAllDayRow;!r.timeRuler||"dayView"!==n&&"weekView"!==n||null!=r.timeRuler.showAllDayRow&&(s=r.timeRuler.showAllDayRow),t.focusedCell=!s||"dayView"!=n&&"weekView"!=n?t.rows[0].cells[0]:t.rows[1].cells[0],t._lastSelectedCell=t.focusedCell,t._updateCellsSelection()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var t=null;e.className.indexOf("jqx-scheduler-appointment")>=0&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e);for(var i=e,o=0;o<4&&i.parentNode;o++)i.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");if(t.indexOf(".")>=0)var i=t.substring(0,t.indexOf(".")),o=(t.substring(t.indexOf(".")+1),this.appointmentsByKey[i].jqxAppointment.renderedAppointments[t]);else o=this.appointmentsByKey[t].jqxAppointment;return o},_renderToolBar:function(){var t=this,i=e('<div style="width: 100%; height: 100%; position: relative;"></div>'),o=(this.toolbarHeight-20)/2;i.css("top",o),t.toolbarLeftButton=e('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-left: 3px; margin-right: 3px; height: 24px; width: 27px; float: left;"></div>'),t.toolbarRightButton=e('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-right: 3px; width: 27px; height: 24px; float: left;"></div>'),t.toolbarLeftButton.attr("title",t.schedulerLocalization.toolBarPreviousButtonString),t.toolbarRightButton.attr("title",t.schedulerLocalization.toolBarNextButtonString),t.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.dateTimeInput=e('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),t.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var n=e("<div style='outline: none;  width: 15px; height: 15px;'></div>");n.addClass(t.toThemeProperty("jqx-icon-arrow-left")),t.toolbarLeftButton.wrapInner(n);var r=e("<div style='outline: none; width: 15px; height: 15px;'></div>");r.addClass(t.toThemeProperty("jqx-icon-arrow-right")),t.toolbarRightButton.wrapInner(r),t.rtl&&(t.toolbarLeftButton.css("float","right"),t.toolbarRightButton.css("float","right"),t.dateTimeInput.css("float","right")),t.addHandler(t.toolbarRightButton,"mouseenter",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseenter",function(){n.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mouseleave",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseleave",function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mousedown",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarRightButton,"mouseup",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarLeftButton,"mousedown",function(){n.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarLeftButton,"mouseup",function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(e(document),"mouseup.pagerbuttons"+t.element.id,function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),n.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarRightButton,"click",function(){t.toolbarRightButton.jqxButton("disabled")||(t.rtl?t.navigateBackward():t.navigateForward(),t.focus())}),t.addHandler(t.toolbarLeftButton,"click",function(){t.toolbarLeftButton.jqxButton("disabled")||(t.rtl?t.navigateForward():t.navigateBackward(),t.focus())}),t.toolbar.children().remove(),t.toolbar.append(i),t.rtl?(i.append(t.toolbarRightButton),i.append(t.dateTimeInput),i.append(t.toolbarLeftButton)):(i.append(t.toolbarLeftButton),i.append(t.dateTimeInput),i.append(t.toolbarRightButton)),t.toolbarDetails=e('<div class="'+t.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),t.toolbarViews=e('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),t.rtl&&(t.toolbarDetails.css("float","right"),t.toolbarDetails.css("margin-left","0px"),t.toolbarDetails.css("margin-right","7px"),t.toolbarViews.css("margin-left","10px"),t.toolbarViews.css("margin-right","0px"),t.toolbarViews.css("float","left"));var s=new Array;t.rtl?(s.push(t.toolbarRightButton),s.push(t.dateTimeInput),s.push(t.toolbarLeftButton)):(s.push(t.toolbarLeftButton),s.push(t.dateTimeInput),s.push(t.toolbarRightButton));var a=t._views.length-1;e.each(t._views,function(i){var o="",n=i;if(t.rtl&&(n=a-i),null!=t._views[n].text)o=t._views[n].text;else switch(t._views[n].type){case"dayView":o=t.schedulerLocalization.dayViewString;break;case"weekView":o=t.schedulerLocalization.weekViewString;break;case"monthView":o=t.schedulerLocalization.monthViewString;break;case"agendaView":o=t.schedulerLocalization.agendaViewString;break;case"timelineDayView":o=t.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":o=t.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":o=t.schedulerLocalization.timelineMonthViewString}var r='<span data-type="'+t._views[n].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+o+"</span>",l=e(r);l.addClass(t.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),s.push(l),0==n&&(t.rtl?l.addClass(t.toTP("jqx-rc-r")):l.addClass(t.toTP("jqx-rc-l"))),n==t._views.length-1&&(t.rtl?l.addClass(t.toTP("jqx-rc-l")):l.addClass(t.toTP("jqx-rc-r"))),n===t._view&&l.addClass(t.toTP("jqx-fill-state-pressed")),l.mouseenter(function(){l.addClass(t.toTP("jqx-fill-state-hover"))}),l.mouseleave(function(){l.removeClass(t.toTP("jqx-fill-state-hover"))}),l.mousedown(function(){t._setView(n),t.focus()}),e(t.toolbarViews).append(l)}),i.append(t.toolbarDetails),i.append(t.toolbarViews),t._views.length<2&&t.toolbarViews.hide(),t.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:t.rtl,localization:t._getDateTimeInputLocalization(),firstDayOfWeek:t.schedulerLocalization.firstDay,todayString:t.schedulerLocalization.todayString,clearString:t.schedulerLocalization.clearString,showFooter:!0,height:25,width:25,renderMode:"simple"}),t.addHandler(t.dateTimeInput,"change",function(i){t.fromNavigate||(t.navigateTo(new e.jqx.date(i.args.date,t.timeZone)),t.focus())}),t.tabKeyElements=s;var l=t._views[t._view].type,d=function(i){var o=e.jqx.formatDate(t.getViewStart().toDate(),i,t.schedulerLocalization),n=e.jqx.formatDate(t.getViewEnd().toDate(),i,t.schedulerLocalization);"dayView"===l||"timelineDayView"===l?t.toolbarDetails.html(o):t.toolbarDetails.html(o+" - "+n),t.rtl?(t.toolbarDetails.addClass("jqx-rtl"),t.toolbarDetails.html("<span style='direction:rtl;'>"+n+"<span> - <span style='direction:rtl;'>"+o+"</span>")):t.toolbarDetails[0].style.direction="ltr"};d(t.toolBarRangeFormat);var h=t.toolbarViews.width()+t.toolbarDetails.width()+120;t.toolBarRangeFormat;h>t.host.width()?(d(t.toolBarRangeFormatAbbr),(h=t.toolbarViews.width()+t.toolbarDetails.width()+120)>t.host.width()&&(t.toolbarDetails.hide(),(h=t.toolbarViews.width()+120)>t.host.width()&&t.toolbarViews.hide())):t.currentToolbarFormat=t.toolBarRangeFormat},_setView:function(t){var i=this;if(i.toolbarViews.find(".jqx-fill-state-pressed").removeClass(i.toTP("jqx-fill-state-pressed")),i.rtl?e(i.toolbarViews.children()[i._views.length-1-t]).addClass(i.toTP("jqx-fill-state-pressed")):e(i.toolbarViews.children()[t]).addClass(i.toTP("jqx-fill-state-pressed")),i._view!==t){i.vScrollBar[0].style.visibility&&(i._scrollPosition||(i._scrollPosition=new Array),i._scrollPosition[i._view]=i.vScrollInstance.value);var o=i.hScrollBar[0].style.visibility;o&&(i._hscrollPosition||(i._hscrollPosition=new Array),i._hscrollPosition[i._view]=i.hScrollInstance.value);var n=i._views[i._view].type,r=i._views[t].type;i._view=t,i._refreshColumns(),i.refresh(),o!==i.hScrollBar[0].style.visibility&&(i._renderrows(),i._updateTouchScrolling()),i._scrollPosition[i._view]&&i.vScrollInstance.setPosition(i._scrollPosition[i._view]),i._hscrollPosition[i._view]&&i.hScrollInstance.setPosition(i._hscrollPosition[i._view]),i.selectedJQXAppointment&&i._ensureAppointmentVisible(i.selectedJQXAppointment);var s=i.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("viewChange",{date:i.date,from:s,to:a,oldViewType:n,newViewType:r})}},_getDateTimeInputLocalization:function(){var e=this,t={};return t.backString=e.schedulerLocalization.backString,t.forwardString=e.schedulerLocalization.forwardString,t.todayString=e.schedulerLocalization.todayString,t.clearString=e.schedulerLocalization.clearString,t.calendar=e.schedulerLocalization,t},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var t=this._views[this._view].type,i=this._views[this._view],o=new e.jqx.date(this.date,this.timeZone);switch(t){case"dayView":case"timelineDayView":o=o.addDays(1),o=function(){for(;(0==o.dayOfWeek()||6==o.dayOfWeek())&&!1===i.showWeekends;)o=o.addDays(1);return o}();break;case"weekView":case"timelineWeekView":o=o.addDays(7);break;case"monthView":case"timelineMonthView":o.day();var n=o.month(),r=o.year(),s=new e.jqx.date(r,n,1);s.timeZone=this.timeZone,o=s.addMonths(1);break;case"agendaView":o=i.days?o.addDays(i.days):o.addDays(7)}return this.navigateTo(o)},navigateBackward:function(){var t=this._views[this._view].type,i=this._views[this._view],o=new e.jqx.date(this.date,this.timeZone);switch(t){case"dayView":case"timelineDayView":o=o.addDays(-1),o=function(){for(;(0==o.dayOfWeek()||6==o.dayOfWeek())&&!1===i.showWeekends;)o=o.addDays(-1);return o}();break;case"weekView":case"timelineWeekView":o=o.addDays(-7);break;case"monthView":case"timelineMonthView":o.day();var n=o.month(),r=o.year(),s=new e.jqx.date(r,n,1);s.timeZone=this.timeZone,o=s.addMonths(-1);break;case"agendaView":o=i.days?o.addDays(-i.days):o.addDays(-7)}return this.navigateTo(o)},_refreshToolBar:function(t){var i=this,o=i.getViewStart(),n=i.getViewEnd(),r=function(t){var r=e.jqx.formatDate(o.toDate(),t,i.schedulerLocalization),s=e.jqx.formatDate(n.toDate(),t,i.schedulerLocalization),a=i._views[i._view].type;if(!1===i._views[i._view].showWeekends){0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(1)),0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(1)),0!=n.dayOfWeek()&&6!=n.dayOfWeek()||(n=n.addDays(-1)),0!=n.dayOfWeek()&&6!=n.dayOfWeek()||(n=n.addDays(-1));r=e.jqx.formatDate(o.toDate(),t,i.schedulerLocalization),s=e.jqx.formatDate(n.toDate(),t,i.schedulerLocalization)}"dayView"===a||"timelineDayView"===a?i.toolbarDetails.html(r):i.toolbarDetails.html(r+" - "+s),i.rtl?(i.toolbarDetails.addClass("jqx-rtl"),i.toolbarDetails.html("<span style='direction:rtl;'>"+s+"<span> - <span style='direction:rtl;'>"+r+"</span>")):i.toolbarDetails[0].style.direction="ltr"};t?r(i._lastFormatString||i.toolBarRangeFormat):(r(i.toolBarRangeFormat),i.toolbarDetails.show(),i.toolbarViews.show(),i.toolbarViews.width()+i.toolbarDetails.width()+120>i.host.width()&&(r(i.toolBarRangeFormatAbbr),i.toolbarViews.width()+i.toolbarDetails.width()+120>i.host.width()&&(i.toolbarDetails.hide(),i.toolbarViews.width()+120>i.host.width()&&i.toolbarViews.hide())))},navigateTo:function(t){var i=this;if("date"==e.type(t)&&(t=new e.jqx.date(t)),!(t<this.min||t>this.max)){t.timeZone=i.timeZone,i.date=t,i._refreshToolBar(!0),i.fromNavigate=!0,i.dateTimeInput.val(t.toDate()),i.fromNavigate=!1,i._refreshColumnTitles(),i._renderrows(),i._updateFocusedCell(),i.resources&&i._renderhorizontalscroll();var o=i.getViewStart(),n=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("dateChange",{date:t,from:o,to:n})}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var o=function(e){for(var i=0;i<t.columnGroups.length;i++){var o=t.columnGroups[i];if(o.name===e)return o}return null};for(i=0;i<this.columnGroups.length;i++){if((d=this.columnGroups[i]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup)(n=o(d.parentgroup))&&(d.parent=n,n.groups||(n.groups=new Array),-1===n.groups.indexOf(d)&&n.groups.push(d))}for(i=0;i<this.columns.records.length;i++){var n;if((d=this.columns.records[i]).columngroup)(n=o(d.columngroup))&&(n.groups||(n.groups=new Array),d.parent=n,-1===n.groups.indexOf(d)&&n.groups.push(d))}var r=0;for(i=0;i<this.columns.records.length;i++){var s=d=this.columns.records[i];for(d.level=0;s.parent;)s=s.parent,d.level++;s=d;var a=d.level;for(r=Math.max(r,d.level);s.parent;)(s=s.parent)&&(s.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var o=l(e.groups[i]),n=0;n<o.length;n++)t.push(o[n]);return t};for(i=0;i<this.columnGroups.length;i++){var d=this.columnGroups[i],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+r,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(t._editDialog&&t._editDialog.jqxWindow("isOpen"))return!0;if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var o=t._handleDelta(i);return o&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!o&&(o=!1,e.returnValue=o,o)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){var t=this;t._mousewheelfunc&&t.removeHandler(this.host,"mousewheel",t._mousewheelfunc),t.removeHandler(e(document),"keydown.scheduler"+t.element.id),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"selectstart."+t.element.id),t.removeHandler(e(window),"jqxReady."+t.element.id),t.removeHandler(t.host,"mousewheel",t._mousewheelfunc);var i="mousedown";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown")),t.table&&t.removeHandler(t.table,"mouseleave");var o="mousemove.scheduler"+t.element.id,n="mouseup.scheduler"+t.element.id;if(t.isTouchDevice()&&!0!==t.touchMode&&(o=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+t.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+t.element.id),t.removeHandler(e(document),o),t.removeHandler(e(document),n),!t.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null;window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)&&t.removeHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id)}}catch(e){}t.removeHandler(t.host,o),t.removeHandler(e(document),"keydown.jqxscheduler"+t.element.id),t.removeHandler(t.host,"keydown"),t.table&&(t.removeHandler(t.table,"dblclick"),t.removeHandler(t.pinnedtable,i),t.removeHandler(t.table,i))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(t,i,o){if(t){var n=this;n.selectedAppointment&&n.clearAppointmentsSelection();var r=t.id,s=e('[data-key="'+r+'"]');if(s.length>0){n.selectedJQXAppointment=t,n.selectedAppointment=e(i||s[0]);var a=n._views[n._view].type;n._views[n._view];if("agendaView"==a)return void n.clearSelection();switch(s.addClass(n.toTP("jqx-scheduler-selected-appointment")),t.resizable&&s.find(".jqx-scheduler-appointment-resize-indicator").show(),a){case"dayView":e(s).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e(s).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":s.length>1&&e.each(s,function(t){n.rtl?(t>0&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),t<s.length-1&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(t>0&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),t<s.length-1&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==o)return void n.clearSelection()}n.clearSelection()}},clearAppointmentsSelection:function(){var t=this;if(t.selectedAppointment){var i=t.selectedAppointment.attr("data-key"),o=e('[data-key="'+i+'"]');o.removeClass(t.toTP("jqx-scheduler-selected-appointment")),o.find(".jqx-scheduler-appointment-resize-indicator").hide(),t.selectedAppointment=null,t.selectedJQXAppointment=null}},selectCell:function(e,t,i){for(var o=this,n=e.toDate(),r=0;r<o.rows.length;r++)for(var s=0;s<o.rows[r].cells.length;s++){var a=o.rows[r].cells[s];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),d=o._getDateByString(l);if(t&&a.getAttribute("data-end-date")){if(d.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(d.valueOf()==n.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}}o._updateCellsSelection()},selectRange:function(e,t,i,o){var n=this;e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var r=e.toDate(),s=t.toDate(),a=!1,l=0;l<n.rows.length;l++)for(var d=0;d<n.rows[l].cells.length;d++){var h=n.rows[l].cells[d];if(!o||h.getAttribute("data-view")===o){var c=h.getAttribute("data-date"),u=n._getDateByString(c);if(i&&h.getAttribute("data-end-date"))u.valueOf()>=r.valueOf()&&u.valueOf()<=s.valueOf()&&h.setAttribute("data-selected","true");else if(!i&&h.getAttribute("data-end-date"))continue;u.valueOf()>=r.valueOf()&&u.valueOf()<=s.valueOf()&&(h.setAttribute("data-selected","true"),a||(n._lastSelectedCell=h,n.focusedCell=h,a=!0))}}n._updateCellsSelection()},_selectRange:function(t,i){var o=this;if("agendaView"!=o._views[o._view].type){var n=t,r=i.getAttribute("data-view");if(t.getAttribute("data-view")===r){var s=i.getAttribute("data-date"),a=n.getAttribute("data-date");if(null!=s&&null!=a){var l=i.getAttribute("data-end-date"),d=n.getAttribute("data-end-date"),h=null!=l||null!=d,c=null!=l&&null!=d,u=o._getDateByString(s),p=o._getDateByString(a);u<this.min.toDate()&&(u=this.min.toDate()),p<this.min.toDate()&&(p=this.min.toDate()),u>this.max.toDate()&&(u=this.max.toDate()),p>this.max.toDate()&&(p=this.max.toDate());var m=Math.min(u,p),f=Math.max(u,p),g=o.rows,w=0,v=0;w>0&&o.rtl&&(w=0,v=1);var y=g.length;if(h&&(y=1,null==t.getAttribute("data-end-date"))){p.setHours(0,0,0,0);var x=new e.jqx.date(p,o.timeZone).toString();e(n).parent().index();e.each(g[0].cells,function(){if(this.getAttribute("data-date")===x){t=this,c=null!=i.getAttribute("data-end-date")&&null!=t.getAttribute("data-end-date");var e=i.getAttribute("data-date"),n=t.getAttribute("data-date"),r=o._getDateByString(e),s=o._getDateByString(n);return m=Math.min(r,s),f=Math.max(r,s),!1}})}for(var b=0;b<y;b++){var A=g[b];if(h&&this.tableRows>1){var T=(-1+parseInt(t.getAttribute("data-view")))*(g.length/o.tableRows);_=g[T],A=g[T]}for(var _=A.cells,S=w;S<_.length-v;S++)if(_[S].getAttribute("data-view")===r&&(_[S].removeAttribute("data-selected"),c||!_[S].getAttribute("data-end-date"))){var D=_[S].getAttribute("data-date"),j=o._getDateByString(D).valueOf();m<=j&&j<=f&&_[S].setAttribute("data-selected","true")}}o._updateCellsSelection()}}}},findCell:function(e,t){var i=this,o=null;if(!i._tableOffset){var n=i.schedulercontent.coord();i._tableOffset=n}var r=i._tableOffset,s=r.top,a=r.left;if(t<s)return null;if(e<a)return null;if(t>s+i._hostHeight)return null;if(e>a+i._hostWidth)return null;for(var l=!1,d=i.rows,h=i._views[i._view],c=h.type,u=i.vScrollInstance.value,p=i.hScrollInstance.value,m=0;m<d.length&&!l;m++){var f=d[m].cells,g=!1;(0==m&&"dayView"==c||"weekView"==c)&&(g=i.showAllDayRow,!h.timeRuler||"dayView"!==c&&"weekView"!==c||null!=h.timeRuler.showAllDayRow&&(g=h.timeRuler.showAllDayRow),g&&i._allDayRowFullHeight);for(var w=0;w<f.length;w++){var v=f[w];if(0!=w||!v.getAttribute("data-time-slot")){if(v._left)y=v._left,x=v._top,b=v._width,A=v._height;else{var y=v.offsetLeft+a,x=v.offsetTop+s,b=v.offsetWidth,A=v.offsetHeight;v._left=y,v._top=x,v._width=b,v._height=A}if(v._left=y,v._top=x,v._width=b,v._height=A,0!==b&&0!==A){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(y-=i.hScrollInstance.max-p):y-=p,x-=u,0==m&&g&&(x+=u),!(x<=t&&t<x+A))break;if(y<=e&&e<y+b){o=v,l=!0;break}}}}}return o},_removeFeedbackAndStopResize:function(){var t=this;if(t.feedback){if(t.feedback.remove(),t.feedback=null,t.pinnedfeedback.remove(),t.pinnedfeedback=null,t.feedbacks)for(var i=0;i<t.feedbacks.length;i++)t.feedbacks[i].remove();if(t._resizeDays=0,t._resizeStep=0,t._lastX=null,t.feedbacks=new Array,t.leftResize=!1,t.rightResize=!1,t.topResize=!1,t.bottomResize=!1,t.overlay.hide(),t.resizing=!1,t.resizeFrom=null,t._dragCell=null,t._dragStartCell=null,t.resizeTo=null,t.dragOrResize=!1,t.isMouseDown=!1,t.selectedJQXAppointment)e('[data-key="'+t.selectedJQXAppointment.id+'"]').removeClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"));t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(t,i,o,n){if(!1===t)if(i.isException()){for(var r=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,s=0;s<r.length;s++)if(r[s].occurrenceFrom.equals(i.occurrenceFrom)){r[s]=i;break}}else i.rootAppointment.recurrenceException||(i.rootAppointment.recurrenceException=new Array),null!=i.rootAppointment?(i.rootAppointment.exceptions.push(i),i.rootAppointment.recurrenceException.push(i.occurrenceFrom)):(i.exceptions.push(i),i.recurrenceException.push(i.occurrenceFrom));else if(!0===t){if(i.isException())for(r=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,s=0;s<r.length;s++)if(r[s].occurrenceFrom.equals(i.occurrenceFrom)){for(var a=0;a<i.rootAppointment.recurrenceException.length;a++)if(i.rootAppointment.recurrenceException[a].equals(r[s].occurrenceFrom)){i.from;var l=new e.jqx.date(r[s].occurrenceFrom.year(),r[s].occurrenceFrom.month(),r[s].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());i.rootAppointment.recurrenceException[a]=l;break}r[s]=i;i.from,l=new e.jqx.date(r[s].occurrenceFrom.year(),r[s].occurrenceFrom.month(),r[s].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());r[s].occurrenceFrom=l;break}if(null!=i.rootAppointment){i.rootAppointment.recurrencePattern=i.rootAppointment.recurrencePattern.createNewPattern();var d=i.rootAppointment.from,h=i.rootAppointment.duration();l=null;switch(i.rootAppointment.recurrencePattern.freq){case"daily":case"weekly":case"monthly":case"yearly":l=new e.jqx.date(d.year(),d.month(),d.day(),i.from.hour(),i.from.minute(),i.from.second())}n?(i.rootAppointment.from=d,i.rootAppointment.to=d.add(i.duration())):(i.rootAppointment.from=l,i.rootAppointment.to=l.add(h)),i.rootAppointment.allDay=i.allDay,i.rootAppointment.resourceId=i.resourceId,i.rootAppointment.color=i.color,i.rootAppointment.borderColor=i.borderColor,i.rootAppointment.background=i.background,i.rootAppointment.timezone=i.timezone,i.rootAppointment.subject=i.subject,i.rootAppointment.description=i.description,i.rootAppointment.location=i.location,i.rootAppointment.category=i.category,i.rootAppointment.status=i.status,this.resizing?i.rootAppointment.recurrencePattern.setFrom(d):i.rootAppointment.recurrencePattern.setFrom(l)}else i.recurrencePattern=i.recurrencePattern.createNewPattern(),i.recurrencePattern.setFrom(i.from);var c=e(o).attr("data-view"),u=this._resources[parseInt(c)-1];null!=u&&(null!=i.rootAppointment?i.rootAppointment.resourceId=u:i.resourceId=u)}},_handleMouseUp:function(t,i,o){var n=this;clearInterval(n._verticalIntervalDragVelocity),clearInterval(n._horizontalIntervalDragVelocity),clearInterval(n._intervalDrag),clearInterval(n._horizontalIntervalDrag);var r=t,s=!1;if(o?n.resizeTo?r.to.equals(n.resizeTo)&&(s=!0):n.resizeFrom&&r.from.equals(n.resizeFrom)&&(s=!0):n._dragStartCell==i&&(s=!0),s)return e('[data-key="'+t.id+'"]').removeClass(n.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void n._removeFeedbackAndStopResize();var a=r.duration(),l=r.duration().days()>=1||r.allDay,d=function(t,r){if(r.allDay||l)var s=n.getMaxAllDayAppointments(n.appointmentsToRender);if(o)n.resizeTo?(n.resizeTo>n.max&&(n.resizeTo=n.max),n.resizeTo<n.min&&(n.resizeTo=n.min),r.to=n.resizeTo):n.resizeFrom&&(n.resizeFrom>n.max&&(n.resizeFrom=n.max),n.resizeFrom<n.min&&(n.resizeFrom=n.min),r.from=n.resizeFrom),0==r.from.hour()&&0==r.from.minute()&&23==r.to.hour()&&59==r.to.minute()&&(r.allDay=!0);else{var d=n._views[n._view].type,h=n._views[n._view],c=e(i).attr("data-date"),u=null!=e(i).attr("data-end-date"),p=new e.jqx.date(c,n.timeZone);if(p<n.min&&(p=n.min),p>n.max&&(p=n.max),n.rtl&&l&&u)r.to=e.jqx.scheduler.utilities.getEndOfDay(p);else if(!n.rtl||"monthView"!=d&&"timelineMonthView"!=d)if(!n.rtl||"timelineDayView"!=d&&"timelineWeekView"!=d)r.from=p;else{var m=n.getMinutesPerScale();r.to=p.addMinutes(m)}else r.to=e.jqx.scheduler.utilities.getEndOfDay(p);if("dayView"===d||"weekView"===d)if(l||u){if(!l&&u)r.to=e.jqx.scheduler.utilities.getEndOfDay(p),r.allDay=!0;else if(l&&u&&!n.rtl)r.to=p.add(a),0==r.from.hour()&&0==r.from.minute()&&23==r.to.hour()&&59==r.to.minute()&&(r.allDay=!0);else if(l&&u&&n.rtl)r.from=e.jqx.scheduler.utilities.getStartOfDay(r.to.add(new e.jqx.timeSpan(-a))),0==r.from.hour()&&0==r.from.minute()&&23==r.to.hour()&&59==r.to.minute()&&(r.allDay=!0);else if(l&&!u){var f=30;switch(h.timeRuler&&h.timeRuler.scale){case"sixtyMinutes":case"hour":f=60;break;case"fifteenMinutes":case"quarterHour":f=15;break;case"tenMinutes":f=10;break;case"fiveMinutes":f=5}r.to=p.addMinutes(f),r.allDay=!1}}else r.to=p.add(a),r.allDay=!1;else if("monthView"===d)n.rtl?r.from=e.jqx.scheduler.utilities.getStartOfDay(r.to.add(new e.jqx.timeSpan(-a))):r.to=p.add(a);else if("timelineDayView"===d||"timelineWeekView"===d||"timelineMonthView"===d)if(n.rtl)if("timelineMonthView"==d)r.from=e.jqx.scheduler.utilities.getStartOfDay(r.to.add(new e.jqx.timeSpan(-a)));else{m=n.getMinutesPerScale();r.from=p.addMinutes(m).add(new e.jqx.timeSpan(-a))}else r.to=p.add(a)}n._saveChangesAfterDragOrResize(t,r,i,n.resizing);d=e(i).attr("data-view");var g=n._resources[parseInt(d)-1];null!=g&&(r.resourceId=g),n.resizing=!1,n.resizeFrom=null,n._dragCell=null,n.resizeTo=null;var w={},v={};for(var y in n.appointmentDataFields){var x=n.appointmentDataFields[y],b=r[y];w[y]=b,"from"!=y&&"to"!=y||(b=b.toDate()),v[x]=b}if(w.jqxAppointment=r,w.originalData=v,r.boundAppointment=w,n._raiseEvent("appointmentChange",{appointment:r.boundAppointment}),n.changedAppointments[r.id]={type:"Update",appointment:r.boundAppointment},n.table.find(".jqx-icon-arrow-down").hide(),"monthView"==n._views[n._view].type&&n._views[n._view].monthRowAutoHeight)n._renderrows();else if("weekView"!=n._views[n._view].type&&"dayView"!=n._views[n._view].type||!r.allDay&&!l){A=n.getViewStart(),T=e.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd());n._prepareAppointmentsInView(A,T),n._renderAppointments(A,T)}else if(n.tableRows>1)n._renderrows();else{var A=n.getViewStart(),T=e.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd());n._prepareAppointmentsInView(A,T),n._renderAppointments(A,T);var _=n.getMaxAllDayAppointments(n.appointmentsToRender);if(_!=s){var S=_*(n._defaultRowHeight-2);S=n.isTouchDevice()?Math.max(22+n._defaultRowHeight,17+S):Math.max(3*n._defaultRowHeight,17+S),1==n.tableRows?e(e(n.table[0].rows[0]).find("td")).css("height",S+"px"):e(e(n.table[0].rows[1]).find("td")).css("height",S+"px"),e(n.oldRow).find("td").css("height",S+"px"),e(n.pinnedTableRow).find("td").css("height",S+"px"),n.pinnedtable.height(S),n._updateScrollbars(n._hostHeight?n._hostHeight:n.host.height())}}n._removeFeedbackAndStopResize()};r.isRecurrentAppointment()?d(!1,r):d(null,r)},_handleDayWeekViewResize:function(t,i,o,n,r){var s=this,a=(s._views[s._view].type,s._views[s._view]);if(r.duration().days()>=1||r.allDay||o.getAttribute("data-end-date")){var l=function(e){return!(e<s.cellWidth-10)},d=a.appointmentsRenderMode&&"exactTime"==a.appointmentsRenderMode;if(r.allDay||!d){if(s.leftResize){if(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2)l(c=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-n.left-s.cellWidth)&&(s.feedback.css("left",5+n.left+s.cellWidth),s.feedback.width(c-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+n.left+s.cellWidth),s.pinnedfeedback.width(c-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)).addDays(-1):s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone).addDays(1));else if(t<s._lastResizeX-e(o).width()/2)l(c=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-n.left)&&(s.feedback.css("left",5+n.left),s.feedback.width(c-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+n.left),s.pinnedfeedback.width(c-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)):s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone))}else if(s.rightResize){s._lastResizeX||(s._lastResizeX=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left);var h=e(o).width()/2;if(t>s._lastResizeX+h){H=e(o).width()+n.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;l(c=s.selectedAppointmentTableBounds.width+H)&&(s.feedback.hide(),s.feedback.width(c-6),s.feedback.css("left",5+n.left),s.pinnedfeedback.width(c-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+H+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)))}else if(t<s._lastResizeX-h){var c;H=n.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;l(c=s.selectedAppointmentTableBounds.width+H)&&(s.feedback.hide(),s.feedback.css("left",5+n.left),s.feedback.width(c-6),s.pinnedfeedback.width(c-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+H+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone).addDays(1):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone).addDays(-1)))}}}else{var u=new Array,p=new Array,m=-1,f=-1,g=this.host.coord().left,w=0,v=s.hScrollInstance.value;if(s.rtl)v=s.hScrollInstance.max-s.hScrollInstance.value;"hidden"==s.hScrollBar[0].style.visibility&&(v=0);var y=t+v-g;g=0;for(var x=0;x<this.columns.records.length;x++)this.columns.records[x].timeColumn&&(s.rtl||(g+=this.columns.records[x].width,w++));var b=s.getViewStart(),A=s.getViewEnd();for(x=0;x<this._getColumnsLengthPerView();x++){var T=this.columns.records[x+w].width;s.leftResize?(s.rtl||(u.push(g),p.push(b.addDays(x)),(0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&g<s.selectedAppointmentTableBounds.left&&g+T>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),p.push(r.from),m=u.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&g<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&g+T>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),p.push(r.to),f=u.length-1)),s.rtl&&(u.push(g),p.push(A.addDays(-x-1)),(0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&g<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&g+T>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),p.push(r.from),m=u.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&g<s.selectedAppointmentTableBounds.left&&g+T>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),p.push(r.to),f=u.length-1)),g+=T):s.rtl?((0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&g<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&g+T>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),p.push(r.from),m=u.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&g<s.selectedAppointmentTableBounds.left&&g+T>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),p.push(r.to),f=u.length-1),g+=T,u.push(g),p.push(A.addDays(-x-1))):((0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&g<s.selectedAppointmentTableBounds.left&&g+T>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),p.push(r.from),m=u.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&g<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&g+T>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),p.push(r.to),f=u.length-1),g+=T,u.push(g),p.push(b.addDays(x)))}if(s.leftResize){for(x=0;x<u.length;x++){n=u[x];if((k=u[x+1])||(k=n),x<u.length-1?y>=n&&y<=k:y>=n){T=-n+s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width;var _=s.pinnedfeedback.width(),S=s.pinnedfeedback.css("left"),D=s.resizeTo,j=s.resizeFrom;T>0&&(s.pinnedfeedback.css("left",n),s.pinnedfeedback.width(T),x==m?s.rtl?s.resizeTo=r.from:s.resizeFrom=r.from:x==f?s.rtl?s.resizeTo=r.to:s.resizeFrom=r.to:s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(p[x]):s.resizeFrom=p[x])}}var q=s.resizeFrom,C=s.resizeTo;s.rtl?q=r.from:C=r.to,new e.jqx.timeSpan(1e4*(C-q)).days()<1&&(s.pinnedfeedback.css("left",S),s.pinnedfeedback.width(_),s.resizeFrom=j,s.resizeTo=D)}else if(s.rightResize){for(x=0;x<u.length;x++){var k;n=u[x];if((k=u[x+1])||(k=n),x<u.length-1?t>=n-this.cellWidth/3&&t<=k-this.cellWidth/3:t>=n-this.cellWidth/3){T=n-s.selectedAppointmentTableBounds.left-15,_=s.pinnedfeedback.width();s.pinnedfeedback.width(T);D=s.resizeTo,j=s.resizeFrom;if(x==m){s.rtl?s.resizeFrom=r.from:s.resizeTo=r.from;T=n-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(T);break}if(x==f){s.rtl?s.resizeFrom=r.to:s.resizeTo=r.to;T=n-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(T);break}s.rtl?s.resizeFrom=p[x]:s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(p[x]);break}}q=s.resizeFrom,C=s.resizeTo;s.rtl?C=r.to:q=r.from,new e.jqx.timeSpan(1e4*(C-q)).days()<1&&(s.pinnedfeedback.width(_),s.resizeFrom=j,s.resizeTo=D)}}}else{var B=function(e){return!(e<10)},R=s.findCell(s.feedback.coord().left,i);if(s.topResize){if(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),i>s._lastResizeY+e(o).height()/2){if(B(P=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-n.top-e(o).height()-3)){s.feedback.css("top",2+n.top+e(o).height()),s.feedback.height(P),s._lastResizeY=s.feedback.coord().top;var z=new e.jqx.date(R.getAttribute("data-date"),s.timeZone);s.resizeFrom=z.addMinutes(s.getMinutesPerScale())}}else if(i<s._lastResizeY-e(o).height()/2)B(P=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-n.top-3)&&(s.feedback.css("top",2+n.top),s.feedback.height(P),s._lastResizeY=s.feedback.coord().top,s.resizeFrom=new e.jqx.date(R.getAttribute("data-date"),s.timeZone))}else if(s.bottomResize)if(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),i>s._lastResizeY+e(o).height()/2){var H=-5+e(o).height()+n.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top;B(P=s.selectedAppointmentTableBounds.height+H)&&(s.feedback.height(P),s._lastResizeY=s.selectedAppointmentTableBounds.height+H+s.feedback.coord().top,s.resizeTo=new e.jqx.date(R.getAttribute("data-date"),s.timeZone).addMinutes(s.getMinutesPerScale()))}else if(i<s._lastResizeY-e(o).height()/2){var P,H=-5+n.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top;B(P=s.selectedAppointmentTableBounds.height+H)&&(s.feedback.height(P),s._lastResizeY=s.selectedAppointmentTableBounds.height+H+s.feedback.coord().top,s.resizeTo=new e.jqx.date(R.getAttribute("data-date"),s.timeZone))}}},_handleTimelineMonthViewResize:function(t,i,o,n,r){var s=this,a=(s._views[s._view].type,s._views[s._view],function(e){return!(e<10)}),l=s.findCell(t,s.feedback.coord().top);if(r.allDay){if(s.leftResize){if(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2)a(h=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-n.left-e(o).width())&&(s.feedback.css("left",n.left+e(o).width()),s.feedback.width(h),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(-1)):s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(1));else if(t<s._lastResizeX-e(o).width()/2)a(h=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-n.left)&&(s.feedback.css("left",n.left),s.feedback.width(h),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone)):s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone))}else if(s.rightResize)if(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2){var d=e(o).width()+n.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;a(h=s.selectedAppointmentTableBounds.width+d-5)&&(s.feedback.width(h),s._lastResizeX=s.selectedAppointmentTableBounds.width+d+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone)))}else if(t<s._lastResizeX-e(o).width()/2){var h;d=n.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;a(h=s.selectedAppointmentTableBounds.width+d-5)&&(s.feedback.width(h),s._lastResizeX=s.selectedAppointmentTableBounds.width+d+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(1):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(-1)))}}else{for(var c=new Array,u=new Array,p=-1,m=-1,f=this.host.coord().left,g=0,w=0;w<this.columns.records.length;w++)this.columns.records[w].timeColumn&&(f+=this.columns.records[w].width,g++);var v=s.hScrollInstance.value;if(s.rtl)v=s.hScrollInstance.max-s.hScrollInstance.value;"hidden"==s.hScrollBar[0].style.visibility&&(v=0);var y=t+v-f;f=0;var x=s.getViewStart(),b=s.getViewEnd();for(this._getColumnsLengthPerView(),w=0;w<this._getColumnsLengthPerView();w++){var A=this.columns.records[w+g].width;s.leftResize?(c.push(f),s.rtl?u.push(b.addDays(-w)):u.push(x.addDays(w)),(0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&f<s.selectedAppointmentTableBounds.left&&f+A>s.selectedAppointmentTableBounds.left&&(c.push(s.selectedAppointmentTableBounds.left),u.push(r.from),p=c.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&f<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&f+A>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(c.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),u.push(r.to),m=c.length-1),f+=A):((0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&f<s.selectedAppointmentTableBounds.left&&f+A>s.selectedAppointmentTableBounds.left&&(c.push(s.selectedAppointmentTableBounds.left),u.push(r.from),p=c.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&f<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&f+A>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(c.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width),u.push(r.to),m=c.length-1),f+=A,c.push(f),s.rtl?u.push(b.addDays(-w-1)):u.push(x.addDays(w)))}if(s.leftResize){for(w=0;w<c.length;w++){var T=c[w];if((k=c[w+1])||(k=T),w<c.length-1?y>=T&&y<=k:y>=T){A=-T+s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width;var _=s.feedback.width(),S=s.feedback.css("left"),D=s.resizeTo,j=s.resizeFrom;s.feedback.css("left",T),s.feedback.width(A),w==p?s.rtl?s.resizeTo=r.from:s.resizeFrom=r.from:w==m?s.rtl?s.resizeTo=r.to:s.resizeFrom=r.to:s.rtl?s.resizeTo=u[w]:s.resizeFrom=u[w]}}var q=s.resizeFrom,C=s.resizeTo;s.rtl?q=r.from:C=r.to;new e.jqx.timeSpan(1e4*(C-q));s.feedback.width()<20&&(s.feedback.css("left",S),s.feedback.width(_),s.resizeFrom=j,s.resizeTo=D)}else if(s.rightResize){for(w=0;w<c.length;w++){var k;T=c[w];if((k=c[w+1])||(k=T),w<c.length-1?y>=T-this.cellWidth/3&&y<=k-this.cellWidth/3:y>=T-this.cellWidth/3){A=T-s.selectedAppointmentTableBounds.left-12,_=s.feedback.width();s.feedback.width(A);D=s.resizeTo,j=s.resizeFrom;if(w==p){s.rtl?s.resizeFrom=r.from:s.resizeTo=r.from;A=T-s.selectedAppointmentTableBounds.left;s.feedback.width(A);break}if(w==m){s.rtl?s.resizeFrom=r.to:s.resizeTo=r.to;A=T-s.selectedAppointmentTableBounds.left;s.feedback.width(A);break}s.rtl?s.resizeFrom=u[w]:s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(u[w]);break}}q=s.resizeFrom,C=s.resizeTo;s.rtl?C=r.to:q=r.from;new e.jqx.timeSpan(1e4*(C-q));s.feedback.width()<20&&(s.feedback.width(_),s.resizeFrom=j,s.resizeTo=D)}}},_handleMonthViewResize:function(t,i,o,n,r){var s=this;if(s.selectedJQXAppointment){s._views[s._view].type;var a=s._views[s._view],l=-5;s.tableColumns>1&&(l=parseInt(-5/s.tableColumns));for(var d=0;d<s.columns.records.length/s.tableColumns;d++)s.columns.records[d].timeColumn||(l+=s.columns.records[d].width);var h=s.selectedJQXAppointment.resourceId,c=s._resources.indexOf(h);s.resources&&"none"==s.resources.orientation&&(c=-1);var u="0px";-1!=c&&1==s.tableRows&&(u=l*c+"px"),a.showWeekNumbers&&(s.rtl||(u=parseInt(u)+s.columns.records[0].width+"px"));var p=o.offsetWidth,m=(o.offsetHeight,18);s.isTouchDevice()&&(m=2);for(d=0;d<6;d++)s.feedbacks[d][0].style.left=u,s.feedbacks[d][0].style.width=l+"px",s.feedbacks[d][0].style.display="block",s.feedbacks[d][0].style.top=parseInt(s.rows[d].top)+m+"px",s.tableRows>1&&(s.feedbacks[d][0].style.top=parseInt(s.rows[6*c+d].top)+m+"px"),e(s.feedbacks[d][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var f=s.selectedJQXAppointment.elements,g=(f[0].cells[0].cell,f[f.length-1]),w=g.lastCellY,v=g.lastCellX,y=f[0].cellY,x=f[0].cellX,b=parseInt(n.top),A=parseInt(n.left);if(s.rtl){if(s.leftResize){for(B=!1,d=0;d<6;d++){_=s.feedbacks[d],S=parseInt(_[0].style.top)-m,parseInt(_[0].style.left);if(S<b)_[0].style.width=l+"px";else for(D=0;D<f.length;D++){(k=f[D].cellY)==S&&(_[0].style.width=f[D].width+"px",_[0].style.top=f[D].y+"px")}j=f[0],q=parseInt(j.x);if(S==y)if(_[0].style.left=q+"px",b==y){if(_[0].style.left=1+n.left+"px",_[0].style.width=-1+j.x+j.width-n.left+"px",n.left>j.x+j.width&&(_[0].style.width=j.width+"px",_[0].style.left=j.x+"px"),"exactTime"==a.appointmentsRenderMode&&!s.selectedJQXAppointment.allDay)t-(R=s.host.coord().left)>=j.x-10&&t-R<=j.cellX+s.cellWidth&&(_[0].style.width=j.width+"px",_[0].style.left=j.x+"px",B=!0)}else b<y?(_[0].style.left=q+"px",_[0].style.width=j.width+"px"):b>y&&(_[0].style.left=u,_[0].style.width=j.x+j.width-parseInt(u)+"px");else S==b&&(_[0].style.width=l-n.left+parseInt(u)+"px",_[0].style.left=n.left+"px");if(S<y&&(_[0].style.display="none"),S>b&&(_[0].style.display="none"),b<y)for(D=0;D<f.length;D++){(k=f[D].cellY)==S&&(_[0].style.display="block",_[0].style.width=f[D].width+"px",_[0].style.left=f[D].x+"px")}if(b==y)for(D=0;D<f.length;D++){k=f[D].cellY;(b<y||b==y)&&k==S&&y!=w&&(_[0].style.left=1+n.left+parseInt(u)+"px",1+n.left+parseInt(u)>j.x+j.width&&(_[0].style.left=j.x+"px"),_[0].style.width=-1+j.x+j.width-n.left+"px")}}(z=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!B?s.resizeTo=z:s.resizeTo=s.selectedJQXAppointment.to}else if(s.rightResize){for(T=!1,d=0;d<6;d++){_=s.feedbacks[d],S=parseInt(_[0].style.top)-m,parseInt(_[0].style.left);S<b&&(_[0].style.width=l+"px");for(D=0;D<f.length;D++){(k=f[D].cellY)==S&&(_[0].style.top=f[D].y+"px")}j=f[0],q=parseInt(j.x);if(S==y)if(_[0].style.left=q+"px",b==y)if(A>=x){if(_[0].style.width=A+p-q-5+"px","exactTime"==a.appointmentsRenderMode&&!s.selectedJQXAppointment.allDay)t-(R=s.host.coord().left)>=j.lastCellX&&t-R<=j.x+j.width+15&&(_[0].style.width=j.width+"px",T=!0)}else _[0].style.width=j.width+"px";else b>y?(_[0].style.left=q+"px",_[0].style.width=j.width+"px"):b<y&&(_[0].style.left=q+"px",_[0].style.width=l-q+parseInt(u)+"px");else S==b&&(_[0].style.width=A+p-5-parseInt(u)+"px");if(S>w&&(_[0].style.display="none"),S<b&&(_[0].style.display="none"),b>w)for(D=0;D<f.length;D++){(k=f[D].cellY)==S&&(_[0].style.display="block"),S==w&&(_[0].style.width=f[D].width+"px",_[0].style.left=f[D].x+"px")}if(b<=w&&S==w)for(D=0;D<f.length;D++){k=f[D].cellY;S!=b&&k==S&&y!=w?(_[0].style.width=f[D].width+"px",_[0].style.left=f[D].x+"px"):S==b&&k==S&&y!=w&&(_[0].style.left=f[D].x+"px",_[0].style.width=A+p-5-parseInt(u)-f[D].x+"px")}}(z=new e.jqx.date(o.getAttribute("data-date"),s.timeZone))<s.selectedJQXAppointment.to&&!T?s.resizeFrom=z:s.resizeFrom=s.selectedJQXAppointment.from}}else if(s.leftResize){for(var T=!1,d=0;d<6;d++){var _=s.feedbacks[d],S=parseInt(_[0].style.top)-m;parseInt(_[0].style.left);if(S<b){_[0].style.width=l+"px";for(var D=0;D<f.length;D++){(k=f[D].cellY)==S&&(_[0].style.top=f[D].y+"px")}}else for(var D=0;D<f.length;D++){(k=f[D].cellY)==S&&(_[0].style.width=f[D].width+"px",_[0].style.top=f[D].y+"px")}var j=f[0],q=parseInt(j.x);if(S==y)if(_[0].style.left=q+"px",b==y){if(_[0].style.left=1+n.left+"px",_[0].style.width=-1+j.x+j.width-n.left+"px","exactTime"==a.appointmentsRenderMode&&!s.selectedJQXAppointment.allDay){var C=s.cellWidth-(j.x-x);t-(R=s.host.coord().left)>=j.x&&t-R<=j.x+C+2&&(_[0].style.left=q+"px",_[0].style.width=j.width+"px",T=!0)}}else b>y?(_[0].style.left=q+"px",_[0].style.width=j.width+"px"):b<y&&(_[0].style.left=u,_[0].style.width=j.x+j.width-parseInt(u)+"px");else S==b&&(_[0].style.width=l-n.left+parseInt(u)+"px",_[0].style.left=n.left+"px");if(S>w&&(_[0].style.display="none"),S<b&&(_[0].style.display="none"),b>=w)for(var D=0;D<f.length;D++){var k=f[D].cellY;b>w||b==w&&A>v?k==S&&(_[0].style.display="block",_[0].style.width=f[D].width+"px",_[0].style.left=f[D].x+"px"):b==w&&A<=v&&y!=w&&(_[0].style.width=f[D].width-n.left+parseInt(u)+"px")}}(z=new e.jqx.date(o.getAttribute("data-date"),s.timeZone))<s.selectedJQXAppointment.to&&!T?s.resizeFrom=z:s.resizeFrom=s.selectedJQXAppointment.from}else if(s.rightResize){for(var B=!1,d=0;d<6;d++){var _=s.feedbacks[d],S=parseInt(_[0].style.top)-m;parseInt(_[0].style.left);S<b&&(_[0].style.width=l+"px");for(var D=0;D<f.length;D++){(k=f[D].cellY)==S&&(_[0].style.top=f[D].y+"px")}var R,j=f[0],q=parseInt(j.x);if(S==y)if(_[0].style.left=q+"px",b==y)if(A>=x){if(_[0].style.width=A+p-q-5+"px","exactTime"==a.appointmentsRenderMode&&!s.selectedJQXAppointment.allDay)t-(R=s.host.coord().left)>=v&&t-R<=j.x+j.width+15&&(_[0].style.width=j.width+"px",B=!0)}else _[0].style.width=j.width+"px";else b<y?(_[0].style.left=q+"px",_[0].style.width=j.width+"px"):b>y&&(_[0].style.left=q+"px",_[0].style.width=l-q+parseInt(u)+"px");else S==b&&(_[0].style.width=A+p-5-parseInt(u)+"px");if(S<y&&(_[0].style.display="none"),S>b&&S>y&&(_[0].style.display="none"),b<=y)for(var D=0;D<f.length;D++){var k=f[D].cellY;(b<y||b==y&&A<x)&&k==S&&(_[0].style.display="block",_[0].style.width=f[D].width+"px")}}var z;(z=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!B?s.resizeTo=z:s.resizeTo=s.selectedJQXAppointment.to}var H=new Array;for(d=0;d<6;d++){"block"==(_=s.feedbacks[d])[0].style.display&&H.push(_)}e.each(H,function(t){s.rtl?(t>0&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(t>0&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(t,i,o,n,r){var s=this,a=(s._views[s._view].type,s._views[s._view],s.getMinutesPerScale()),l=function(e){return!(e<10)},d=s.findCell(t,s.feedback.coord().top);if(s.leftResize)s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2?l(c=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-n.left-e(o).width())&&(s.feedback.css("left",2+n.left+e(o).width()),s.feedback.width(c),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone):s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a)):t<s._lastResizeX-e(o).width()/2&&l(c=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-n.left)&&(s.feedback.css("left",2+n.left),s.feedback.width(c),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a):s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone));else if(s.rightResize)if(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2){var h=e(o).width()+n.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;l(c=s.selectedAppointmentTableBounds.width+h)&&(s.feedback.width(c),s._lastResizeX=s.selectedAppointmentTableBounds.width+h+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone):s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a))}else if(t<s._lastResizeX-e(o).width()/2){var c;h=n.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;l(c=s.selectedAppointmentTableBounds.width+h)&&(s.feedback.width(c),s._lastResizeX=s.selectedAppointmentTableBounds.width+h+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a):s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone))}},_handleResize:function(t,i,o,n,r){var s=this,a=s._views[s._view].type,l=s._views[s._view];"dayView"===a||"weekView"===a?s._handleDayWeekViewResize(t,i,o,n,r):"timelineMonthView"===a?s._handleTimelineMonthViewResize(t,i,o,n,r):"monthView"===a?s._handleMonthViewResize(t,i,o,n,r):"timelineDayView"!==a&&"timelineWeekView"!==a||s._handleTimelineDayWeekViewResize(t,i,o,n,r),"timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a?(clearInterval(s._horizontalIntervalDrag),s._horizontalIntervalDrag=setInterval(function(){var e=s.host.width(),i=s.host.coord().left+25,o=e+i-45;s.rtl?t>o?s.hScrollInstance.setPosition(s.hScrollInstance.value-5):t<i&&s.hScrollInstance.setPosition(s.hScrollInstance.value+5):t<i?s.hScrollInstance.setPosition(s.hScrollInstance.value-5):t>o&&s.hScrollInstance.setPosition(s.hScrollInstance.value+5)},5)):"dayView"!==a&&"weekView"!==a||(clearInterval(s._intervalDrag),s._intervalDrag=setInterval(function(){var t=s.host.height(),o=0;s.columnGroups?o+=s.showHeader?s.columnsheader.height():0:o+=s.showHeader?s.columnsHeight:0,s.showToolbar&&(o+=s.toolbarHeight),t-=o;var n=s.legendHeight;0==s._resources.length&&(n=0),s.showLegend&&(t-=n);var d=o+s.host.coord().top,h=s.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow);var c=r.duration().days()>=1||r.allDay;h&&c?d-=20:h&&s.resizing&&(d+=e(s.table[0].rows[0]).height(),t-=e(s.table[0].rows[0]).height());var u=d+25,p=t+u-45;i<u?s.vScrollInstance.setPosition(s.vScrollInstance.value-5):i>p&&s.vScrollInstance.setPosition(s.vScrollInstance.value+5)},5)),s.resizing=!0},_startTimers:function(t,i,o){var n=this,r=n.host.coord(),s=0,a=0;"hidden"!=n.hScrollInstance.element.style.visibility&&(clearInterval(n._horizontalIntervalDragVelocity),n._horizontalIntervalDragVelocity=setInterval(function(){++s>40&&(s=40)},100),clearInterval(n._horizontalIntervalDrag),n._horizontalIntervalDrag=setInterval(function(){var e=n._hostWidth,i=r.left+30,o=e+i-60;n.rtl?t<i?n.hScrollInstance.setPosition(n.hScrollInstance.value+10+s):t>o?n.hScrollInstance.setPosition(n.hScrollInstance.value-10-s):s=0:t<i?n.hScrollInstance.setPosition(n.hScrollInstance.value-10-s):t>o?n.hScrollInstance.setPosition(n.hScrollInstance.value+10+s):s=0},10)),"hidden"!=n.vScrollInstance.element.style.visibility&&(clearInterval(n._verticalIntervalDragVelocity),n._verticalIntervalDragVelocity=setInterval(function(){++a>40&&(a=40)},100),clearInterval(n._intervalDrag),n._intervalDrag=setInterval(function(){var t=n._hostHeight,s=0;n.columnGroups?s+=n.showHeader?n.columnsheader.height():0:s+=n.showHeader?n.columnsHeight:0;var l=n._views[n._view].type,d=n._views[n._view];n.showToolbar&&(s+=n.toolbarHeight),t-=s,n.showLegend&&n._resources.length>0&&(t-=n.legendHeight);var h=r.top,c=s+h;if("dayView"==l||"weekView"==l){var u=n.showAllDayRow;!d.timeRuler||"dayView"!==l&&"weekView"!==l||null!=d.timeRuler.showAllDayRow&&(u=d.timeRuler.showAllDayRow);var p=o.duration().days()>=1||o.allDay;u&&p?c-=20:u&&n.resizing&&(c+=e(n.table[0].rows[0]).height())}var m=h+t+s-30;i<c+30?n.vScrollInstance.setPosition(n.vScrollInstance.value-10-a):i>m?n.vScrollInstance.setPosition(n.vScrollInstance.value+10+a):a=0},10))},_hoverCell:function(e){var t=this;return!t.enableHover||(t._resources.length>0&&e.className.indexOf("pinned")>=0||(e.className.indexOf("time-column")>=0||(e.className.indexOf("jqx-scheduler-disabled-cell")>=0||(!(!e||e!=t.hoveredCell)||(t.hoveredCell=e,!e||(t._removeHoveredCell(),t.hoveredCell=e,e.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")+" "+t.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e,t=this;if(t.hoveredCell){var i=t.hoveredCell;e=(e=(e=(e=i.className).replace(" "+t.toTP("jqx-fill-state-hover"),"")).replace(" "+t.toTP("jqx-grid-cell-hover"),"")).replace(" "+t.toTP("jqx-scheduler-cell-hover"),""),i.className=e,i.jqxClassName=e}t.hoveredCell=null},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.focused=!1;var i=!1;this.addHandler(e(document),"keydown.scheduler"+t.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!t.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(o){if(!t.focusedCell||t.selectedAppointment||i||e(t.focusedCell).addClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!0,i)if(t.appointmentsToRender.length>0){var n=t.appointmentsToRender[t.appointmentsToRender.length-1];t._selectAppointment(n),t._lastSelectedAppointment=n}else if(t.focusedCell){if(t.focusedCell&&-1==t.focusedCell.className.indexOf("-focus"))return t._updateCellsSelection(),!1}else t._updateFocusedCell()}),this.addHandler(this.host,"blur",function(i){if(t.focusedCell){if(document.activeElement==t.element)return!0;if(e(document.activeElement).ischildof(t.host))return!0;e(t.focusedCell).removeClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!1}}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.showToolBar||!e(i.target).ischildof(t.toolbar))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||null!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var o=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),o?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){t._htimer&&clearTimeout(t._htimer),o?t.table&&t._renderhorizontalscroll():t._htimer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},1)};var n="mousedown";this.isTouchDevice()&&(n=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(n="mousedown")),this.addHandler(this.table,"mouseleave",function(e){t._removeHoveredCell()}),t.isTouchDevice()&&(t.enableHover=!1);var r="mousemove.scheduler"+this.element.id,s="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&!0!==this.touchMode&&(r=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(e(document),r,function(i){var o=i.pageX,n=i.pageY;t.isTouchDevice()&&(o=(g=e.jqx.position(i)).left,n=g.top,(isNaN(o)||isNaN(n))&&(o=(g=e.jqx.position(i.originalEvent)).left,n=g.top));if(t.disabled||3===i.which)return!0;if(!t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hostWidth){var r=t.host.coord();if(r.left+t._hostWidth<o||o<r.left)return!0;if(r.top+t._hostHeight<n||n<r.top)return!0}if(t.mouseDownPosition&&(Math.abs(t.mouseDownPosition.left-o)>=3&&Math.abs(t.mouseDownPosition.left-o)<=10||Math.abs(t.mouseDownPosition.top-n)>=3&&Math.abs(t.mouseDownPosition.top-n)<=10)&&(t.dragOrResize=!0),t.selectedAppointment&&t.dragOrResize){var s=null;if(t._hasOpenedMenu)return!0;if(t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var a=t._views[t._view].type,l=t._views[t._view],d=!1;if("td"===i.target.nodeName.toLowerCase())var h=i.target;else h=t.findCell(o,n);if(!h)return!0;if(null!=h.getAttribute("data-time-slot"))return!0;if(h.className.indexOf("jqx-grid-cell-pinned")>=0)return!0;if(!t.feedback){if(!(s=t.getJQXAppointmentByElement(t.selectedAppointment)).draggable&&!s.resizable)return s=null,!0;if(t.beginDrag)if(!t.beginDrag(s))return!0;var c=e('[data-key="'+s.id+'"]'),u=t.selectedAppointment.position();t.feedback=t.selectedAppointment.clone(!0),t.pinnedfeedback=t.selectedAppointment.clone(!0);var p=!("row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing),m=function(e){p&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),c.addClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(t.toTP("jqx-scheduler-feedback-appointment")),e.addClass(t.toTP("jqx-scheduler-feedback-drag-appointment")),p?e.css("z-index",401):e.css("z-index",400)};if(m(t.feedback),m(t.pinnedfeedback),"monthView"!=t._views[t._view].type||p){if(t.table.append(t.feedback),1==t.tableRows?t.pinnedtable.append(t.pinnedfeedback):t.table.append(t.pinnedfeedback),t.feedback.css("left",u.left),t.feedback.css("top",u.top),t.pinnedfeedback.css("left",u.left),t.pinnedfeedback.css("top",u.top),"monthView"==t._views[t._view].type&&t.isTouchDevice()){t.feedbacks=new Array;for(var f=0;f<6;f++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[f]).hide(),t.table.append(e(t.feedbacks[f]))}}else{t.feedbacks=new Array;for(f=0;f<6;f++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[f]).hide(),t.table.append(e(t.feedbacks[f]))}}if(t.dragging)if(!1===t.dragging(s,h,t.feedback))return!0;var g=e(h).position();if(t.endDrag)var w=t.feedback.css("left"),v=t.feedback.css("top"),y=t.feedback.width(),x=t.feedback.height;s||(s=t.selectedJQXAppointment),s||(t.selectAppointment(t.uiappointments[0].id),s=t.selectedJQXAppointment);var b=s.resourceId,A=t._resources.indexOf(b);t.resources&&"none"==t.resources.orientation&&(A=-1);var T=!1,_=t.isTouchDevice();if(_&&!0!==t.touchMode&&null==t._dragCell&&!(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing))switch(a){case"dayView":case"weekView":(d=s.duration().days()>=1||s.allDay)?(o>=t.selectedAppointmentBounds.left-15&&o<=t.selectedAppointmentBounds.left+15&&(T=!0,t.leftResize=!0),o>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&o<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(T=!0,t.rightResize=!0)):(n>=t.selectedAppointmentBounds.top-15&&n<=t.selectedAppointmentBounds.top+15&&(T=!0,t.topResize=!0),n>=t.selectedAppointmentBounds.top-15+t.selectedAppointmentBounds.height&&n<=t.selectedAppointmentBounds.top+t.selectedAppointmentBounds.height+15&&(T=!0,t.bottomResize=!0));break;default:o>=t.selectedAppointmentBounds.left-15&&o<=t.selectedAppointmentBounds.left+15&&(T=!0,t.leftResize=!0),o>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&o<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(T=!0,t.rightResize=!0)}if(_&&(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing)||T){if(h.getAttribute("data-view")!=A+1&&t._resources.length>0&&"none"!=t.resources.orientation)return!0;if((S=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||S>t.max.toDate())return;t._handleResize(o,n,h,g,s),t._oldResizeTD=h}else if(!_&&"row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing){if(h.getAttribute("data-view")!=A+1&&t._resources.length>0&&t.resources&&"none"!=t.resources.orientation)return!0;if((S=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||S>t.max.toDate())return;t._handleResize(o,n,h,g,s),t._oldResizeTD=h}else{if(!s.draggable)return t._removeFeedbackAndStopResize(),!0;if(t._dragCell==h)return t._startTimers(o,n,s),t.isTouchDevice()&&!0!==t.touchMode?(i.stopPropagation(),!1):void 0;var S;if((S=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||S>t.max.toDate())return;var D=s.duration();if(a.indexOf("month")>=0&&new e.jqx.date(S).add(D)>t.max)return;var j="hidden"==t.vScrollBar[0].style.visibility?0:6+t.vScrollBar.outerWidth();if(t._dragCell=h,t.feedback[0].style.left=2+g.left+"px",t.feedback[0].style.top=2+g.top+"px","dayView"===a||"weekView"===a){t.pinnedfeedback.css("left",2+g.left),t.pinnedfeedback.css("top",2+g.top);var q=0;if(h.getAttribute("data-end-date")){var C=t.appointmentsMinHeight;if(t.isTouchDevice()&&(C=t.touchAppointmentsMinHeight),l.appointmentHeight&&(C=l.appointmentHeight),d=s.duration().days()>=1||s.allDay,t.feedback.css("top",2+g.top+C),t.pinnedfeedback.css("top",2+g.top+18),"dayView"==a){var k=t.selectedAppointment.coord().left-9;t.feedback.css("left",k),t.pinnedfeedback.css("left",k)}if(d){if(t.pinnedfeedback.css("top",s.elements[0].y),q=t.selectedAppointment.width(),2+g.left+q>t.host.width()-j)q-=2+g.left+q-t.host.width()+j+6;t.feedback.width(q),t.feedback.height(C),t.pinnedfeedback.width(q),t.pinnedfeedback.height(C)}else q=e(h).width()-4,t.feedback.width(q),t.feedback.height(C),t.pinnedfeedback.width(q),t.pinnedfeedback.height(C);t.feedback.hide(),t.pinnedfeedback.show()}else{t.feedback.show(),t.pinnedfeedback.hide();switch(l.timeRuler&&l.timeRuler.scale){case"sixtyMinutes":case"hour":1;break;case"thirtyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}q=e(h).width()-4,t.feedback.width(q),(d=s.duration().days()>=1||s.allDay)?t.feedback.height(e(h).height()-6):t.feedback.height(t.selectedAppointment.height())}t._startTimers(o,n,s)}else if("monthView"===a){t.feedback.css("left",1+g.left);var B=t.selectedAppointmentTableBounds;(R=parseInt(B.top))>g.top&&R<g.top+h.offsetHeight?t.feedback.css("top",R+"px"):t.feedback.css("top",t.selectedAppointment.height()+g.top-2),t.isTouchDevice()&&t.feedback.css("top",g.top+2),q=t.selectedAppointment.width(),t.feedback.width(q),t.feedback.height(t.selectedAppointment.height()),t._startTimers(o,n,s)}else if("timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a){var R;B=t.selectedAppointmentTableBounds;(R=parseInt(B.top))>g.top&&R<g.top+h.offsetHeight&&t.feedback.css("top",R+"px"),t._startTimers(o,n,s)}}if(t.endDrag)return t.endDrag(s,h,t.feedback)||t.feedback.width(y),t.feedback.height(x),t.feedback.css("top",v),t.feedback.css("left",w),!0;if(t.isTouchDevice()&&!0!==t.touchMode)return i.stopPropagation(),!1}});var a=function(e){if(t.isMouseDown=!1,t.dragOrResize=!1,t.contextMenu&&t.menu&&3!==e.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),3===e.which)return!0;if(t.selectedAppointment&&t.feedback){if(t.editRecurrenceDialog.jqxWindow("isOpen"))return;t._handleMouseUp(t.selectedJQXAppointment,t._dragCell,t.resizing)}};if(this.addHandler(e(document),s,function(e){return a(e)}),!this.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var l=null;if(window.parent&&document.referrer&&(l=document.referrer),l&&-1!=l.indexOf(document.location.host)){t.addHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id,function(e){if(!t.disabled)return a(e)})}}}catch(e){}this.addHandler(this.host,r,function(i){var o=i.pageX,n=i.pageY;if(t.disabled||3===i.which)return!0;if(t.selectedAppointment&&t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hasOpenedMenu)return!0;if("none"!==t.overlay[0].style.display)return!0;var r=null;i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(r=i.target);for(var s=i.target,a=0;a<4&&s.parentNode;a++)s.className.indexOf("jqx-scheduler-appointment")>=0&&-1==s.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(r=s),s=s.parentNode;if(r){var l=t._views[t._view].type,d=(t._views[t._view],t.getJQXAppointmentByElement(r));if(d.resizable){var h=d.duration(),c=d.allDay||h.days()>=1||23==h.hours()&&59==h.minutes&&59==h.seconds,u=e(r).coord(),p=e(r).position();t.selectedAppointmentBounds={top:u.top,left:u.left,width:e(r).width(),height:e(r).height()},t.selectedAppointmentTableBounds={top:p.top,left:p.left,width:e(r).width(),height:e(r).height()};var m=t.selectedAppointmentBounds;if("weekView"==l||"dayView"==l)c?"dayView"!=l?o>=m.left-3&&o<=m.left+6?(r.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):o>=m.left+m.width-6&&o<=m.left+m.width+3?(r.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):r.style.cursor="pointer":r.style.cursor="pointer":n>=m.top-3&&n<=m.top+6?(r.style.cursor="row-resize",t.topResize=!0,t.bottomResize=!1):n>=m.top+m.height-6&&n<=m.top+m.height+3?(r.style.cursor="row-resize",t.topResize=!1,t.bottomResize=!0):r.style.cursor="pointer";else if("monthView"==l&&d.elements.length>1){var f=t.table.coord();for(a=0;a<d.elements.length;a++){var g=d.elements[a];m={top:f.top+g.y,left:f.left+g.x,width:g.width,height:g.height};if(0==a&&!t.rtl||a==d.elements.length-1&&t.rtl)if(o>=m.left-3&&o<=m.left+6){if(n>=m.top&&n<=m.top+m.height){r.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1,t.selectedAppointment=e(r);break}r.style.cursor="pointer"}else r.style.cursor="pointer";else if(a==d.elements.length-1&&!t.rtl||0==a&&t.rtl)if(o>=m.left+m.width-6&&o<=m.left+m.width+3){if(n>=m.top&&n<=m.top+m.height){r.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0,t.selectedAppointment=e(r);break}r.style.cursor="pointer"}else r.style.cursor="pointer"}}else o>=m.left-3&&o<=m.left+6?(r.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):o>=m.left+m.width-6&&o<=m.left+m.width+3?(r.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):r.style.cursor="pointer"}}if(!t.enableHover)return!0;if("td"===i.target.nodeName.toLowerCase())var w=i.target;else w=t.findCell(o,n);if(!w)return!0;if(t._removeHoveredCell(),t.renderedRecords&&0===t.renderedRecords.length)return!0;if(t.isMouseDown){if(Math.abs(t.mousecaptureposition.left-o)>3||Math.abs(t.mousecaptureposition.top-n)>3){if(0===t.mousecaptureposition.clickedcell.length)return void(t.selectionarea[0].style.visibility="hidden");t.lastHoveredCell!=w&&(t._selectRangeTimer&&clearTimeout(t._selectRangeTimer),t._selectRangeTimer=setTimeout(function(){"agendaView"!=t._views[t._view].type&&t._selectRange(w,t.mousecaptureposition.clickedcell[0])},1)),t.lastHoveredCell=w}}else if(!r){if(1==t.rows.length&&1==t.rows[0].cells.length)return!0;t._hoverCell(w)}return!0}),this.addHandler(e(document),"keydown.jqxscheduler"+t.element.id,function(e){if(t.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)});var d=function(i){i.target;var o=null;if(t.disabled)return!0;t.menu||3!=i.which||t._initMenu();t.table.coord();var n=i.pageX,r=i.pageY;(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(n=arguments[1].pageX,r=arguments[1].pageY),t.isTouchDevice())&&(n=(w=e.jqx.position(i)).left,r=w.top,(isNaN(n)||isNaN(r))&&(n=(w=e.jqx.position(i.originalEvent)).left,r=w.top));t.mouseDown={top:r,left:n};o=t.findCell(n,r);if("td"===i.target.nodeName.toLowerCase())o=i.target;else o=t.findCell(n,r);var s=t._views[t._view].type,a=t._views[t._view];if("monthView"===s&&a.weekViewNavigation&&o&&o.getAttribute("data-time-slot")){var l=t._getDateByString(o.getAttribute("data-date")),d=new e.jqx.date(l);t.date=d,t.setView("weekView")}if("monthView"===s&&a.dayViewNavigation){var h=e(o).coord().top;if(o&&r>=h&&h+16>=r){l=t._getDateByString(o.getAttribute("data-date")),d=new e.jqx.date(l);t.date=d,t.setView("dayView")}}if("span"===i.target.nodeName.toLowerCase()&&(i.target.className.indexOf("jqx-icon-arrow-down")>=0||i.target.className.indexOf("jqx-icon-close")>=0))return i.target.mousedown&&i.target.mousedown(),!0;var c=e(o).parent(),u=c.attr("data-key");t.mousecaptureposition={left:i.pageX,top:i.pageY,clickedrow:e(c).index(),clickedcell:e(o)},3!==i.which?(t.isMouseDown=!0,t.isMouseDownDate=new Date):t.isMouseDown=!1,t.contextMenu&&t.menu&&3!==i.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);var p,m=function(e){if(3===i.which&&t.contextMenu&&t.menu){e?t.menu.find("li:first").show():t.menu.find("li:first").hide();var o=t.menu.coord();if("block"==t.menu.css("display")&&o.left==i.pageX&&o.top==i.pageY)return t._hasOpenedMenu=!0,i.preventDefault(),void i.stopPropagation();t.menuOpening=!0,t.menu.jqxMenu("open",i.pageX,i.pageY),t.menuOpening=!1,t._hasOpenedMenu=!0,i.preventDefault(),i.stopPropagation(),setTimeout(function(){t.menu.jqxMenu("focus")},50)}},f=function(){for(var e=0;e<A.length;e++)for(var t=A[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")};if(0==(p=i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")?e(i.target):e(i.target).parents(".jqx-scheduler-appointment")).length&&(p=null),p&&-1==p[0].className.indexOf("feedback")){if(p.parents(".jqx-scheduler-month-cell-popup").length>0)return!0;t.mouseDownPosition={top:r,left:n};var g=e(p).coord();t.selectedAppointmentBounds={top:g.top,left:g.left,width:e(p).width(),height:e(p).height()};var w=e(p).position();t.selectedAppointmentTableBounds={top:w.top,left:w.left,width:e(p).width(),height:e(p).height()},t._dragStartCell||(t._dragStartCell=t.findCell(g.left,g.top));var v=t.getJQXAppointmentByElement(p);t._selectAppointment(v,p,"mouse"),t._raiseEvent("appointmentClick",{appointment:v.boundAppointment}),t.clearSelection();var y=(new Date).getTime(),x=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(x=1e3),t.clickTime||(t.clickTime=new Date),y-t.clickTime.getTime()<x&&t._lastSelectedAppointment&&v.id==t._lastSelectedAppointment.id&&3!=i.which){if(!v.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen")))!1!==t._initDialog(v)&&t._openDialog();t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:v.boundAppointment})}else v.readOnly||3!==i.which&&t.focus();return t._lastSelectedAppointment=v,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,void(v.readOnly||3==i.which&&m(!0))}if(3===i.which)if(null!==t.getSelection())m(!1);else{t.clearAppointmentsSelection(),o.setAttribute("data-selected","true"),t._lastSelectedCell=o,t.focusedCell=o,t._updateCellsSelection(o),m(!1);var b=new e.jqx.date(o.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:o,date:b})}else 3!=i.which&&t.clearAppointmentsSelection();if("agendaView"==t.view&&(p=-1!=i.target.className.indexOf("jqx-scheduler-agenda-appointment"))){p=i.target;v=t.getJQXAppointmentByElement(p);t._selectAppointment(v,p,"mouse"),t._raiseEvent("appointmentClick",{appointment:v.boundAppointment});y=(new Date).getTime(),x=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(x=1e3),t.clickTime||(t.clickTime=new Date),y-t.clickTime.getTime()<x&&t._lastSelectedAppointment&&v.id==t._lastSelectedAppointment.id&&3!=i.which){if(!v.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen")))!1!==t._initDialog(v)&&t._openDialog();t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:v.boundAppointment})}t._lastSelectedAppointment=v,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,v.readOnly||3==i.which&&m(!0)}if(void 0!==u&&3!=i.which){t.clickedTD=o;b=new e.jqx.date(o.getAttribute("data-date"),t.timeZone);if(t.rowinfo[u]){y=(new Date).getTime(),x=300;if(t.clickTime||(t.clickTime=new Date),t.focus(),t._lastSelectedCell&&"true"==t._lastSelectedCell.getAttribute("data-selected")&&"true"===o.getAttribute("data-selected")&&y-t.clickTime.getTime()<x){b=new e.jqx.date(o.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellDoubleClick",{cell:o,date:b}),!0,t._initDialog(),t._openDialog(),i.preventDefault&&i.preventDefault()}}var A=t.rows;if("true"!=o.getAttribute("data-selected")||i.shiftKey||y-t.clickTime.getTime()>x){if("true"==o.getAttribute("data-time-slot"))return;if(i.shiftKey||(t.shiftSelectedCell=null),i.shiftKey&&t._lastSelectedCell&&"agendaView"!=s&&(t.shiftSelectedCell||(t.shiftSelectedCell=t._lastSelectedCell),o.getAttribute("data-view")===t.shiftSelectedCell.getAttribute("data-view")&&f(),t._selectRange(o,t.shiftSelectedCell)),!i.shiftKey)f(),(l=t._getDateByString(o.getAttribute("data-date")))>=t.min.toDate()&&l<=t.max.toDate()?o.setAttribute("data-selected","true"):o.setAttribute("data-selected","false");e('[data-key="'+u+'"]').removeClass(t.toTP("jqx-scheduler-selected-appointment")),t.selectedAppointment=null,(l=t._getDateByString(o.getAttribute("data-date")))>=t.min.toDate()&&l<=t.max.toDate()&&(t._lastSelectedCell=o,t.focusedCell=o),t._updateCellsSelection(o),t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}t._raiseEvent("cellClick",{cell:o,date:b}),t.clickTime=new Date,i.stopPropagation&&i.stopPropagation()}};this.addHandler(this.pinnedtable,n,function(e){var t=d(e);if(null!=t)return t}),this.addHandler(this.table,n,function(e){var t=d(e);if(null!=t)return t})},moveAppointment:function(t,i,o,n,r){var s=this,a=n.getAttribute("data-end-date");if(t){if(s.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(s._verticalIntervalDragVelocity),clearInterval(s._horizontalIntervalDragVelocity),clearInterval(s._intervalDrag),clearInterval(s._horizontalIntervalDrag);var l=t.duration(),d=t.duration().days()>=1||t.allDay,h=function(h){if(!r){var c=s._views[s._view].type,u=s._views[s._view],p=i;if(t.from=p,"dayView"===c||"weekView"===c)if(d||a){if(!d&&a)t.to=e.jqx.scheduler.utilities.getEndOfDay(p),t.allDay=!0;else if(d&&a)t.to=p.add(l);else if(d&&!a){var m=30;switch(u.timeRuler&&u.timeRuler.scale){case"sixtyMinutes":case"hour":m=60;break;case"fifteenMinutes":case"quarterHour":m=15;break;case"tenMinutes":m=10;break;case"fiveMinutes":m=5}t.to=p.addMinutes(m),t.allDay=!1}}else t.to=p.add(l),t.allDay=!1;else"monthView"===c?t.to=p.add(l):"timelineDayView"!==c&&"timelineWeekView"!==c&&"timelineMonthView"!==c||(t.to=p.add(l))}if(s._saveChangesAfterDragOrResize(h,t,n,r),null!=o&&(t.resourceId=o),s.table.find(".jqx-icon-arrow-down").hide(),t.allDay||d)s._renderrows();else{var f=s.getViewStart(),g=e.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(f,g),s._renderAppointments(f,g)}s._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),s.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},s._ensureAppointmentVisible(s.selectedJQXAppointment)};t.isRecurrentAppointment()?h(!1):h(null)}},getAppointmentProperty:function(e,t){var i=null;if(this.appointmentsByKey[e]&&(i=this.appointmentsByKey[e].jqxAppointment),i)return i[t]},setAppointmentProperty:function(t,i,o){var n=this,r=null;if(this.appointmentsByKey[t]&&(r=this.appointmentsByKey[t].jqxAppointment),r)switch(r[i]=o,n.changedAppointments[t]={type:i,appointment:r.boundAppointment},t){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var s=n.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd());n._prepareAppointmentsInView(s,a),n._renderAppointments(s,a);break;case"hidden":case"timeZone":if(r.isAllDayAppointment())n._renderrows();else{s=n.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd());n._prepareAppointmentsInView(s,a),n._renderAppointments(s,a)}break;default:n._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=e.rootAppointment?e.rootAppointment.exceptions:e.exceptions,o=0;o<i.length;o++)if(i[o].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[o]=e;break}}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom));return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var n=e.id;delete t.appointmentsByKey[n];var r=-1;for(o=0;o<t.appointments.length;o++)if(t.appointments[o]==e.boundAppointment||t.appointments[o].id==e.boundAppointment.id){r=o;break}-1!=r&&t.appointments.splice(r,1),r=-1;for(o=0;o<t.uiappointments.length;o++)if(t.uiappointments[o]==e||t.uiappointments[o].id==e.id){r=o;break}-1!=r&&t.uiappointments.splice(r,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[r+1]?t.selectAppointment(t.uiappointments[r+1].id):t.uiappointments[r-1]?t.selectAppointment(t.uiappointments[r-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[n]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(t){var i=this;if(t.scheduler||(t.scheduler=this),!t.duration)if((t.from||t.to)&&t.appointmentObject){var o=new e.jqx.scheduler.appointment;for(var n in t)o[n]=t[n];t=o}else{var r=t,s={},a=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var n in i.appointmentDataFields){var l=r[x=i.appointmentDataFields[n]];if("from"!=n&&"to"!=n||(l=new e.jqx.date(l)),"style"==n&&l){var d=i.getAppointmentColors(l);s.color=d.color,s.background=d.background,s.borderColor=d.border}if("recurrencePattern"==n&&l&&((l=new e.jqx.scheduler.recurrencePattern(l)).timeZone=r.timeZone||i.timeZone),"recurrenceException"==n){var h=new Array;if(l){l.indexOf("EXDATE:")>=0&&(l=l.substring(l.indexOf("EXDATE:")+7));var c=new Array;l.indexOf(",")>=0?c=l.split(","):c.push(l);for(var u=0;u<c.length;u++){var p=c[u];if(p.indexOf(";")>=0){var m=p.split(";")[1];p=p.split(";")[0],m.toLowerCase().indexOf("display")>=0&&m.toLowerCase().indexOf("none")&&(s.hidden=!0)}try{"Invalid Date"!=(f=e.jqx.scheduler.utilities.untilStringToDate(p))&&(f=s.timeZone?new e.jqx.date(f,s.timeZone):i.timeZone?f.toTimeZone(i.timeZone):new e.jqx.date(f))}catch(t){var f=new e.jqx.date(p,i.timeZone)}h.push(f)}}l=h}s[n]=l}for(var g in a){if(null==s[n=a[g]]){l="";if("originalData"==n)continue;"ownerId"==n&&(l=null),"timeZone"==n&&(l=null),"recurrencePattern"==n&&(l=null),"recurrenceException"==n&&(l=null),"allDay"==n&&(l=!1),"draggable"==n&&(l=!0),"resizable"==n&&(l=!0),"hidden"==n&&(l=!1),"resourceId"==n&&(l=null),"from"==n&&(l=new e.jqx.date),"to"==n&&(l=(new e.jqx.date).addHours(1)),s[n]=l}}s.originalData=r,s.scheduler=this;t=new e.jqx.scheduler.appointment(s);s.timeZone&&(t.from=t.from.toTimeZone(s.timeZone),t.to=t.to.toTimeZone(s.timeZone)),i.timeZone?(s.timeZone||(t.timeZone=i.timeZone),t.from=t.from.toTimeZone(i.timeZone),t.to=t.to.toTimeZone(i.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null))}n=i.dataview.generatekey();t.id=n,i.appointmentsByKey[n]=t,i.appointments.push(t);var w={},v={};for(var y in i.appointmentDataFields){var x=i.appointmentDataFields[y];l=t[y];w[y]=l,"from"!=y&&"to"!=y||(l=l.toDate?l.toDate():new e.jqx.date(l).toDate()),v[x]=l}if(w.originalData=v,t.boundAppointment=w,w.jqxAppointment=t,t.jqxAppointment=t,i._raiseEvent("appointmentAdd",{appointment:t.boundAppointment}),i.uiappointments.push(t),i.changedAppointments[n]={type:"Add",appointment:t.boundAppointment},i.hiddenResources&&i.hiddenResources[t.resourceId]?i.hideAppointmentsByResource(t.resourceId):i._renderrows(),i._selectAppointment(t),i._lastSelectedAppointment=t,i.resources){var b=t.resourceId;-1===i._resources.indexOf(b)&&(i._resources.push(b),i._renderrows())}},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,o=0;i>0&&e.rtl&&(i=0,o=1);for(var n=0;n<t.length;n++)for(var r=t[n].cells,s=i;s<r.length-o;s++){var a=r[s];if("true"==a.getAttribute("data-selected")){if((l=a.jqxClassName||a.className).indexOf("jqx-fill-state-pressed")>=0){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),l=l+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l}else{var l;if(-1==(l=a.jqxClassName||a.className).indexOf("jqx-fill-state-pressed")){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l),l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l,a.removeAttribute("data-selected")}}},_getuikey:function(t,i){var o=null,n=this.table[0].rows;if(o=e(n[t]).attr("data-key"),e(n[t]).attr("data-role")){var r=e(n[t]);if("next"==i)for(;r;){if(r=r.next())if(!r.attr("data-role"))return o=r.attr("data-key")}else if("prev"==i)for(;r;){if(r=r.prev())if(!r.attr("data-role"))return o=r.attr("data-key")}return null}return o},getRows:function(){var e=this._views[this._view].type,t=this._views[this._view],i="halfHour";t.timeRuler&&t.timeRuler.scale&&(i=t.timeRuler.scale);var o=24,n=this.showAllDayRow;if(t.timeRuler&&("dayView"===e||"weekView"===e)){var r=0,s=23;if(null!=t.timeRuler.scaleStartHour)r=parseInt(t.timeRuler.scaleStartHour);if(null!=t.timeRuler.scaleEndHour)s=parseInt(t.timeRuler.scaleEndHour);r<0&&(r=0),s<0&&(s=23),r>23&&(r=0),s>23&&(s=23),o=s-r+1,null!=t.timeRuler.showAllDayRow&&(n=t.timeRuler.showAllDayRow)}var a=new Array,l=0;switch(e){case"dayView":case"weekView":default:l=2*o;if("hour"===i||"sixtyMinutes"===i)l=o;else if("quarterHour"===i||"fifteenMinutes"===i)l=4*o;else if("tenMinutes"===i)l=6*o;else if("fiveMinutes"===i)l=12*o;n&&l++;break;case"monthView":l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":l=1;break;case"agendaView":l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)a.push({uid:d});return a},_getDateByString:function(e){if(e&&this._dateByStringCache&&this._dateByStringCache[e]){var t=this._dateByStringCache[e];return new Date(t.getTime())}var i=e.split(" "),o=i[0].split("-"),n=i[1].split(":"),r=parseInt(o[0],10),s=parseInt(o[1],10)-1,a=parseInt(o[2],10),l=parseInt(n[0],10),d=parseInt(n[1],10),h=parseInt(n[2],10);t=new Date(r,s,a,l,d,h);return r<1970&&t.setFullYear(r,s,a),this._dateByStringCache||(this._dateByStringCache=[]),this._dateByStringCache[e]=t,t},_getCellByDate:function(e,t,i){var o=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var n=0;n<o.length;n++){var r=o[n];if(!r.element.getAttribute("data-group-row"))for(var s=0;s<r.cells.length;s++){var a=r.cells[s];if(null==a.getAttribute("rowspan")&&(a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date")))){var l=a.getAttribute("data-date");if(this._getDateByString(l).valueOf()==e.valueOf())return a}}}},_rendercelltexts:function(){if("75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==e.jqx.credits){var t="www.jqwidgets.com";if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),o=String.fromCharCode(72,84,84,80,58,47,47),n=document.createElement(i);n.id=e.jqx.utilities.createId(),n.innerHTML=t,n.style.position="absolute",n.style.right="5px",n.style.bottom="5px",n.style.color="#909090",n.style.cursor="pointer",n.style.zIndex="999999",n.style.display="none",n.style.fontSize="9px",n.onmousedown=function(){open(o+t)},this.content[0].appendChild(n),this._gridRenderElement=n}}},_handleKey:function(t){if(this._loading)return!0;var i=t.shiftKey,o=t.ctrlKey||t.metaKey,n=this,r=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(n._hasOpenedMenu)return 27==r?n.closeMenu():n.menu.jqxMenu("focus"),!0;if(13===r||n.selectedAppointment&&46==r){if(n.editRecurrenceDialog&&n.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(n._editDialog&&n._editDialog.jqxWindow("isOpen"))return!0;if(n.selectedAppointment){if(!(u=n.getJQXAppointmentByElement(n.selectedAppointment)).readOnly)if(46==r)!1!==n._initDialog(u,"delete")&&n._openDialog();else!1!==n._initDialog(u)&&n._openDialog()}else n._initDialog(),n._openDialog()}if(27===r&&n.dragOrResize){n.table.find(".jqx-icon-arrow-down").hide();var s=n.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd());return n._prepareAppointmentsInView(s,a),n._renderAppointments(s,a),n._removeFeedbackAndStopResize(),!1}var l=function(t){var r=n.selectedAppointment,s=n.getJQXAppointmentByElement(r),a=s.elements[0].cells[0].cell,l=s.elements[s.elements.length-1].cells[s.elements[s.elements.length-1].cells.length-1].cell,d=n.rows[n.rows.length-1].cells[n.rows[n.rows.length-1].cells.length-1];!i&&(i||o||"down"!=t&&"right"!=t)||(a=l);var h=n._views[n._view].type,c=(n._views[n._view],a);switch(t){case"left":if((p=(m=n.rowByCell[a.getAttribute("data-key")]).indexOf(a))>0&&!i)c=m.cells[p-1];else if("monthView"==h&&!i)(u=m.aboveRow)&&(c=u.cells[u.cells.length-1]);break;case"right":if((p=(m=n.rowByCell[a.getAttribute("data-key")]).indexOf(a))<m.cells.length-1)c=m.cells[p+1];else if("monthView"==h)(f=m.belowRow)&&(c=f.cells[0]);"monthView"==h&&!i&&o&&l==d&&(c=a);break;case"up":var u,p=(m=n.rowByCell[a.getAttribute("data-key")]).indexOf(a);(u=m.aboveRow)&&!i&&(c=u.cells[p]);break;case"down":var m,f;p=(m=n.rowByCell[a.getAttribute("data-key")]).indexOf(a);(f=m.belowRow)&&(c=f.cells[p])}var g=c.getAttribute("data-date"),w=new e.jqx.date(g,n.timeZone),v=(h=e(c).attr("data-view"),n._resources[parseInt(h)-1]);if(i){h=n._views[n._view].type,n._views[n._view];var y=!1;"dayView"===h||"weekView"===h?a.getAttribute("data-end-date")?"left"==t&&(s.elements[0].cells.length>1||n.rtl)?(n.rtl?s.to=e.jqx.scheduler.utilities.getEndOfDay(w.addDays(1)):s.to=e.jqx.scheduler.utilities.getEndOfDay(w.addDays(-1)),y=!0):"right"==t&&((!n.rtl||n.rtl&&s.elements[0].cells.length>1)&&(s.to=e.jqx.scheduler.utilities.getEndOfDay(w)),y=!0):"up"==t&&s.elements[0].cells.length>1?(s.to=w,y=!0):"down"==t&&(s.to=w.addMinutes(n.getMinutesPerScale()),y=!0):h.indexOf("month")>=0?"left"==t&&(s.elements[0].cells.length>1||s.elements.length>1)?(s.to=e.jqx.scheduler.utilities.getEndOfDay(w.addDays(-1)),y=!0):"right"==t&&(s.to=e.jqx.scheduler.utilities.getEndOfDay(w),y=!0):!n.rtl&&"left"==t&&s.elements[0].cells.length>1||n.rtl&&"right"==t&&s.elements[0].cells.length>1?(s.to=w,n.rtl&&(s.to=w.addMinutes(n.getMinutesPerScale())),y=!0):(!n.rtl&&"right"==t||n.rtl&&"left"==t)&&(s.to=w.addMinutes(n.getMinutesPerScale()),n.rtl&&(s.to=s.to.addMinutes(n.getMinutesPerScale())),y=!0),y&&n.moveAppointment(s,w,v,c,!0)}else if(o)n.moveAppointment(s,w,v,c);else{n.clearAppointmentsSelection();var x=!0;"down"==t&&(x=!1),n.selectCell(w,x,h),n._ensureVisible(c)}if(n.selectedAppointment){n.selectedAppointment.removeClass(n.toTP("jqx-scheduler-selected-appointment"));var b=n.selectedAppointment.attr("data-key");e('[data-key="'+b+'"]').addClass(n.toTP("jqx-scheduler-selected-appointment")),n.clearSelection()}};if(t.altKey&&n._resourcesElements&&n._resources&&n._resources.length>0){var d=r>=49&&r<=58?d=r-48:-1;if(d>=1)return e.each(n._resources,function(e,t){if(e==d-1)return function(e){"on"==n._resourcesElements.bottom[e].attr("data-toggle")?n.hideAppointmentsByResource(e):n.showAppointmentsByResource(e)}(t),!1}),!1}if(t.ctrlKey){if(!n.selectedAppointment){if(37==r)return n.toolbarLeftButton.trigger("click"),n._ensureVisible(n.focusedCell),!1;if(39==r)return n.toolbarRightButton.trigger("click"),n._ensureVisible(n.focusedCell),!1}if(49==r)return n._setView(0),!1;if(50==r)return n._setView(1),!1;if(51==r)return n._setView(2),!1;if(52==r)return n._setView(3),!1;if(53==r)return n._setView(4),!1;if(54==r)return n._setView(5),!1;if(68==r)return n.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==r)return n.openMenu(),!1}if(9==r)if(t.shiftKey)if(n.selectedAppointment){n.clearSelection();c=n.selectedAppointment;if(u=n.getJQXAppointmentByElement(c))return(h=n.tabKeyAppointments.indexOf(u))>0?(u=n.tabKeyAppointments[h-1],n._selectAppointment(u),n._lastSelectedAppointment=u,n._ensureAppointmentVisible(u),!1):(n.clearAppointmentsSelection(),n.focusedCell?!n.focusedCell||-1!=n.focusedCell.className.indexOf("-focus")||(n._updateCellsSelection(),n._ensureVisible(n.focusedCell),!1):(n._updateFocusedCell(),n._ensureVisible(n.focusedCell),!1))}else if(n.focusedCell){if(n.focusedCell&&-1==n.focusedCell.className.indexOf("-focus"))return n._updateCellsSelection(),n._ensureVisible(n.focusedCell),!1}else n._updateFocusedCell(),n._ensureVisible(n.focusedCell);else{if(n.selectedAppointment){n.clearSelection();var h,c=n.selectedAppointment,u=n.getJQXAppointmentByElement(c);return(h=n.tabKeyAppointments.indexOf(u))<n.tabKeyAppointments.length-1?(u=n.tabKeyAppointments[h+1],n._selectAppointment(u),n._lastSelectedAppointment=u,n._ensureAppointmentVisible(u),!1):(n.clearAppointmentsSelection(),!0)}if(u=n.tabKeyAppointments[0])return n._selectAppointment(u),n._lastSelectedAppointment=u,n._ensureAppointmentVisible(u),!1;if(!n.focusedCell)return n._updateFocusedCell(),n._ensureVisible(n.focusedCell),!1;if(n.focusedCell&&-1==n.focusedCell.className.indexOf("-focus"))return n._updateCellsSelection(),n._ensureVisible(n.focusedCell),!1}if(n.selectedAppointment)return 37==r?l("left"):38==r?l("up"):40==r?l("down"):39==r&&l("right"),!(r>=37&&r<=40)&&void 0;var p=this._lastSelectedCell;if(p){e(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],p=this._lastSelectedCell);this.rows;var m=this._views[this._view].type,f=this._views[this._view],g="halfHour";f.timeRuler&&f.timeRuler.scale&&(g=f.timeRuler.scale);var w=function(i,o){switch(g){case"sixtyMinutes":case"hour":60;break;case"thirtyMinutes":case"halfHour":30;break;case"fifteenMinutes":case"quarterHour":15;break;case"tenMinutes":10;break;case"fiveMinutes":5}var r=i.getAttribute("data-date"),s=function(e,i,o){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==m)&&null==e.getAttribute("data-time-slot")){if(o<n.min||o>n.max)return;var r=n.rows,s=n._lastSelectedCell;if(n._lastSelectedCell=e,t.shiftKey&&n._lastSelectedCell?n.shiftSelectedCell||(n.shiftSelectedCell=p):t.shiftKey||(n.shiftSelectedCell=null),n.shiftSelectedCell)e.getAttribute("data-end-date")&&n.shiftSelectedCell.getAttribute("data-end-date")?(n.focusedCell=e,n._selectRange(e,n.shiftSelectedCell)):e.getAttribute("data-end-date")||n.shiftSelectedCell.getAttribute("data-end-date")?(n.focusedCell=s,n._lastSelectedCell=s):(n.focusedCell=e,n._selectRange(e,n.shiftSelectedCell));else{for(var a=0;a<r.length;a++){var l=r[a];if(!l.element.getAttribute("data-group-row"))for(var d=0;d<l.cells.length;d++){l.cells[d].removeAttribute("data-selected","false")}}e.setAttribute("data-selected","true"),n.focusedCell=e}n._ensureVisible(n.focusedCell)}};new e.jqx.date(r,n.timeZone),i.getAttribute("data-view");switch(o){case"left":if((d=(f=n.rowByCell[i.getAttribute("data-key")]).indexOf(i))>0)var a=f.cells[d-1],l=new e.jqx.date(a.getAttribute("data-date"),n.timeZone);s(a,0,l);break;case"right":if((d=(f=n.rowByCell[i.getAttribute("data-key")]).indexOf(i))<f.cells.length-1)a=f.cells[d+1],l=new e.jqx.date(a.getAttribute("data-date"),n.timeZone);s(a,0,l);break;case"up":var d=(f=n.rowByCell[i.getAttribute("data-key")]).indexOf(i),h=f.aboveRow;if(h){a=h.cells[d];if(0==d&&a.getAttribute("rowspan")){var c=-1+n.rows.indexOf(f);for(a=i;c>=0;){if(n.rows[c].cells[0]!=a){a=n.rows[c].cells[0];break}c--}}s(a,0,l=new e.jqx.date(a.getAttribute("data-date"),n.timeZone))}break;case"down":d=(f=n.rowByCell[i.getAttribute("data-key")]).indexOf(i);var u=f.belowRow;if(u){a=u.cells[d];if(0==d&&a.getAttribute("rowspan"))for(c=1+n.rows.indexOf(f),a=i;c<n.rows.length;){if(n.rows[c].cells[0]!=a){a=n.rows[c].cells[0];break}c++}s(a,0,l=new e.jqx.date(a.getAttribute("data-date"),n.timeZone))}break;case"home":d=(f=n.rowByCell[i.getAttribute("data-key")]).indexOf(i);s(a=n.rows[0].cells[d],0,l=new e.jqx.date(a.getAttribute("data-date"),n.timeZone));break;case"end":var f;d=(f=n.rowByCell[i.getAttribute("data-key")]).indexOf(i);s(a=n.rows[n.rows.length-1].cells[d],0,l=new e.jqx.date(a.getAttribute("data-date"),n.timeZone))}n._updateCellsSelection()};return 36==r||o&&38==r?(w(p,"home"),!1):35==r||o&&40==r?(w(p,"end"),!1):37==r?(n.selectedAppointment?l(p):w(p,"left"),!1):38==r?(n.selectedAppointment?l(p):w(p,"up"),!1):40==r?(n.selectedAppointment?l(p):w(p,"down"),!1):39==r?(n.selectedAppointment?l(p):w(p,"right"),!1):void 0}},getSelectedCells:function(){for(var e=this,t=e.rows,i=t.length,o=new Array,n=0;n<i;n++)for(var r=t[n].cells,s=0;s<r.length;s++)r[s].getAttribute("data-selected")&&o.push(r[s]);return o.sort(function(t,i){return e._sortByDate(t,i)})},getSelection:function(){var t=this,i=t.getSelectedCells();if(0==i.length)return null;var o=i[0].getAttribute("data-date"),n=i[i.length-1].getAttribute("data-date"),r=t.getMinutesPerScale();(s=t._views[t._view].type).toLowerCase().indexOf("month")>=0&&(r=0),i[0].getAttribute("data-end-date")&&(r=0),n=new e.jqx.date(n,t.timeZone).addMinutes(r);var s=parseInt(i[0].getAttribute("data-view"))-1,a=t._resources[s];return t._views[t._view].type.toLowerCase().indexOf("month")>=0?{from:new e.jqx.date(o,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(n),resourceId:a}:t._views[t._view].type.toLowerCase().indexOf("day")>=0||t._views[t._view].type.toLowerCase().indexOf("week")>=0?(o=new e.jqx.date(o,t.timeZone),0===n.minute()&&0===n.hour()&&0===o.hour()&&0===o.minute()?n.day()===o.day()?{from:new e.jqx.date(o,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(n),resourceId:a}:{from:new e.jqx.date(o,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(n).addDays(-1),resourceId:a}:{from:new e.jqx.date(o,t.timeZone),to:n,resourceId:a}):t._views[t._view].type.toLowerCase().indexOf("agenda")>=0?{from:new e.jqx.date(o,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(n),resourceId:a}:void 0},clearSelection:function(){for(var e=this.rows,t=e.length,i=0;i<t;i++)for(var o=e[i].cells,n=0;n<o.length;n++)o[n].removeAttribute("data-selected");this._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,o,n){this.rtl&&(e=this.hScrollInstance.max-e);var r=0,s=-1,a=i+o;if(this.autorowheight)return{start:0,end:i+o};if(!n)for(var l=0;l<i+o;l++){if(this.columns.records[l].hidden||(r+=this.columns.records[l].width),r>=e&&-1==s&&(s=l),r>t+e){a=l;break}}return++a>i+o&&(a=i+o),-1==s&&(s=0),{start:s,end:a}},_renderhorizontalscroll:function(){var t=this,i=t.hScrollInstance,o=i.value;"hidden"===t.hScrollBar[0].style.visibility&&(i.value=0,o=0);var n=parseInt(o);if(null!=t.table){for(var r=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},s=t._getvirtualcolumnsindexes(n,t._hostWidth,0,t.columns.records.length,!1),a=s.start,l=s.end,d=(t.rows,0);d<a;d++){var h=d;r(c=t.columns.records[h].element[0])&&c.parentNode.removeChild(c)}for(d=l;d<t.columns.records.length;d++){var c;h=d;r(c=t.columns.records[h].element[0])&&c.parentNode.removeChild(c)}for(d=a;d<l;d++){h=d;r(c=t.columns.records[h].element[0])||t.columnsrow[0].appendChild(c)}var u=t.columnsrow;t.columns.records.length,t.columns.records,t.source.records.length;if(t.rtl&&"hidden"!=t.hScrollBar.css("visibility")&&(n=i.max-n),t.table[0].style.left=-n+"px","block"==t.pinnedtable[0].style.display&&(t.pinnedtable[0].style.left=-n+"px"),t._resources.length>0&&t.tableRows>0)for(var p=0;p<this.table[0].rows.length;p++){var m=this.table[0].rows[p];m.getAttribute("data-group-row")&&e(m).find("span").css("left",5+n)}u[0].style.marginLeft=-n+"px"}},_getDayName:function(e,t){e>=7&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var t=this._views[this._view].type,i=this._views[this._view];if(i.timeSlotWidth&&(i.timeSlotWidth=Math.max(i.timeSlotWidth,30),i.columnWidth=i.timeSlotWidth),i.columnWidth&&i.columnWidth<30&&(i.columnWidth=30),this.columns&&this.columns.records)for(var o=0;o<this.columns.records.length;o++)this._removecolumnhandlers(this.columns.records[o]);this.columns=new Array;for(var n=new Array,r=this,s=function(t,o){var n="halfHour";i.timeRuler&&i.timeRuler.scale&&(n=i.timeRuler.scale);var s=24,a=0,l=23;if(i.timeRuler){if(null!=i.timeRuler.scaleStartHour)a=parseInt(i.timeRuler.scaleStartHour);if(null!=i.timeRuler.scaleEndHour)l=parseInt(i.timeRuler.scaleEndHour);a<0&&(a=0),l<0&&(l=23),a>23&&(a=0),l>23&&(l=23),s=l-a+1}var d=2;if(n)switch(n){case"sixtyMinutes":case"hour":d=1;break;case"thirtyMinutes":case"halfHour":d=2;break;case"fifteenMinutes":case"quarterHour":d=4;break;case"tenMinutes":d=6;break;case"fiveMinutes":d=12}new Array;var h="auto";i.timeRuler&&i.timeRuler.formatString&&(h=i.timeRuler.formatString);var c=a,u=s,p=t.addHours(c),m="auto";m=i.columnWidth?d*i.columnWidth:80*d;for(var f=0;f<u;f++){var g=p.toDate();if("auto"===h)if(0==g.getHours()&&0==g.getMinutes()||12==g.getHours()&&0==g.getMinutes())var w="hh tt";else w="hh:mm";else if(e.isFunction(h))w=h(g);else w=h;e.jqx.dataFormat.isDate(g)&&(g=e.jqx.dataFormat.formatdate(g,w,r.schedulerLocalization)),p=p.addMinutes(60,!1),r.columns.push({columnGroup:o,text:g,minwidth:30,width:m})}},a=0;a<this.tableColumns;a++){if(this.tableColumns>1){var l=r._resources[a]?r._resources[a]:"Resource"+a;n.push({text:l,name:l})}var d="left";switch(this.rtl&&(d="right"),t){case"dayView":var h=this.getViewStart();!1===i.showWeekends&&(0!==h.dayOfWeek()&&6!==h.dayOfWeek()||(h=h.addDays(1)),0!==h.dayOfWeek()&&6!==h.dayOfWeek()||(h=h.addDays(1)));var c="auto";i&&i.columnWidth&&(c=i.columnWidth);l=r._resources[a]?r._resources[a]:"Resource"+a;this.columns.push({align:d,width:c,columnGroup:l,text:this._getDayName(h.dayOfWeek())});break;case"weekView":case"monthView":for(o=0;o<7;o++){if((u=this.schedulerLocalization.firstDay+o)>6&&(u=0),!1!==i.showWeekends||0!==u&&6!==u){c="auto";i&&i.columnWidth&&(c=i.columnWidth);l=r._resources[a]?r._resources[a]:"Resource"+a;this.columns.push({align:"weekView"==t?d:"center",width:c,columnGroup:l,text:this._getDayName(u)})}}break;case"timelineDayView":l=r._resources[a]?r._resources[a]:"Resource"+a;s(r.getViewStart(),l);break;case"timelineWeekView":for(o=0;o<7;o++){var u=this.schedulerLocalization.firstDay+o;if(!1!==i.showWeekends||0!==o&&6!==o){l=r._resources[a]?r._resources[a]:"Resource"+a;n.push({align:r.rtl?"right":"left",parentGroup:l,name:this._getDayName(u)+a,text:this._getDayName(u)}),s(r.getViewStart().addDays(o),this._getDayName(u)+a)}}break;case"timelineMonthView":var p=r.getViewStart(),m="auto";i.timeRuler&&i.timeRuler.formatString&&(m=i.timeRuler.formatString);for(o=0;o<41;o++){u=p.dayOfWeek();if(!1!==i.showWeekends||0!==u&&6!==u){c="auto";c=i.columnWidth?i.columnWidth:100;var f=p.toDate();if("auto"===m){var g="dd";1===(f=p.toDate()).getDate()&&(g="MMM dd")}else if(e.isFunction(m))g=m(f);else g=m;e.jqx.dataFormat.isDate(f)&&(f=e.jqx.dataFormat.formatdate(f,g,r.schedulerLocalization)),p=p.addDays(1);l=r._resources[a]?r._resources[a]:"Resource"+a;r.columns.push({minwidth:30,columnGroup:l,text:f,width:c})}}break;case"agendaView":var w=i.dateColumnWidth,v=i.timeColumnWidth,y=i.appointmentColumnWidth;y||(y="70%"),v||(v="auto"),w||(w="auto"),r.columns.push({text:r.schedulerLocalization.agendaDateColumn,width:w}),r.columns.push({text:r.schedulerLocalization.agendaTimeColumn,width:v}),r.columns.push({text:r.schedulerLocalization.agendaAppointmentColumn,width:y})}}n.length>0&&(this.columnGroups=n);r=this;var x=new e.jqx.schedulerDataCollection(this.element),b=0;this._columns=this.columns;var A="left",T=new e.jqx.scheduler.column(r,this);T.visibleindex=b++,T.text="",T.width=r.timeRulerWidth,T.editable=!1,T.timeColumn=!0,A="left",T.text="",T.hidden=!1,T.width=r.timeRulerWidth;!i.timeRuler||"dayView"!==t&&"weekView"!==t?"dayView"!==t&&"weekView"!==t&&(T.hidden=!0):(T._text=i.timeRuler.text||"",A=i.timeRuler.position||"left",T.hidden=i.timeRuler.hidden||!1,T.width=i.timeRuler.width||r.timeRulerWidth,i.timeRuler.timeZones);var _=function(n){var s=new e.jqx.scheduler.column(r,r);s.visibleindex=b++,s.text="",s.width=r.timeRulerWidth,s.editable=!1,s.timeColumn=!0,A="left",s.text="",s.hidden=!1,s.timeZone=i.timeRuler.timeZones[n].id,s.width=r.timeRulerWidth,!i.timeRuler||"dayView"!==t&&"weekView"!==t||(s._text=i.timeRuler.timeZones[o].text||"",s.hidden=i.timeRuler.hidden||!1,s.width=i.timeRuler.width||r.timeRulerWidth,x.add(s))};if("left"===A&&("dayView"===t||"weekView"===t)){if(i.timeRuler&&i.timeRuler.timeZones)for(o=0;o<i.timeRuler.timeZones.length;o++)_(o);x.add(T)}"left"===A&&"monthView"===t&&i.showWeekNumbers&&(T.hidden=!1,x.add(T));new Array;if(e.each(this.columns,function(t){if(null!=r.columns[t]){var i=new e.jqx.scheduler.column(r,this);i.visibleindex=b++,x.add(i)}}),"right"===A&&("dayView"===t||"weekView"===t)){if(i.timeRuler)for(o=0;o<i.timeRuler.timeZones.length;o++)_(o);x.add(T)}"right"===A&&"monthView"===t&&i.showWeekNumbers&&(T.hidden=!1,x.add(T)),this.rtl&&x.records.reverse(),this.columns=x},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},_renderagenda:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=t.getViewStart(),n=e.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd().addDays(-1));t._prepareAppointmentsInView(o,n);for(var r=t.appointmentsToRender.length,s=new Array,a=0;a<t.appointmentsToRender.length;a++)for(var l=t.appointmentsToRender[a],d=l.from.clearTime();d<e.jqx.scheduler.utilities.getEndOfDay(l.to);){var h=d.toString();s[h]?(s[h].appointments.push(l),0):(s[h]={date:d,appointments:new Array},s[h].appointments.push(l),s[s.length]=s[h],0),d=d.addDays(1).clearTime()}var c=0,u=0;t.rows=new Array;for(var p=e.jqx.browser.msie&&e.jqx.browser.version<8,m=0,f=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",g=0,w="<table cellspacing='0' cellpadding='0' class='"+t.toTP("jqx-grid-table")+f+"' id='table"+t.element.id+"'><colgroup>",v=t.columns.records.length,y=0;y<v;y++){var x=t.columns.records[y];if(x.hidden)m++;else{if((R=x.width)<x.minwidth&&(R=x.minwidth),R>x.maxwidth&&(R=x.maxwidth),(R-=0)<0&&(R=0),p){var b=R;y==m&&b++,w+="<col style='max-width: "+b+"px; width: "+b+"px;'>"}else w+="<col style='max-width: "+R+"px; width: "+R+"px;'>";g+=R}}if(w+="</colgroup>",0==r){var A='<tr role="row">',T=this.host.height(),_=0;t.columnGroups?_+=t.showHeader?t.columnsheader.height():0:_+=t.showHeader?t.columnsHeight:0,t.showToolbar&&(_+=t.toolbarHeight),t.showLegend&&t._resources.length>0&&(_+=t.legendHeight),T-=_;var S='<td data-date="'+o.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+T+"px; height: "+T+"px; max-width:"+g+"px; width:"+g+"px;",D=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");S+='" class="'+(D+=" "+this.toTP("jqx-center-align"))+'">',S+=this.schedulerLocalization.emptyDataString,A+=S+="</td>",w+=A+="</tr>",this.table[0].style.width=g+2+"px",u=g}var j=t.rowsHeight;t.isTouchDevice()&&(j=t.touchRowsHeight);for(a=0;a<s.length;a++)for(var q=a,C=(d=s[a],0);C<d.appointments.length;C++){var k=0;A='<tr data-key="'+q+'" role="row">';c=0;var B=d.appointments[C];for(y=0;y<v;y++){var R,z=t.columns.records[y],H=y;t.rtl&&(H=v-1-y),(R=z.width)<z.minwidth&&(R=z.minwidth),R>z.maxwidth&&(R=z.maxwidth),(R-=0)<0&&(R=0);D=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");t.rtl&&(D+=" "+t.toTP("jqx-cell-rtl"));q=t.dataview.generatekey();var P=d.date;T=j+"px",S='<td data-key="'+q+'" data-view="'+-1+'" data-date="'+P.toString()+'" role="gridcell"  style="max-width:'+R+"px; width:"+R+"px; height: "+T+"; min-height: "+j+"px;";if(0==H&&0==C){S='<td rowspan="'+d.appointments.length+'" data-key="'+q+'" data-view="'+-1+'" data-date="'+P.toString()+'" role="gridcell"  style="max-width:'+R+"px; width:"+R+"px;  min-height: "+j+"px;";D+=" "+t.toTP("jqx-center-align")}else if(0==H){c++;continue}t.rtl&&1==H&&(D+=" "+t.toTP("jqx-right-align")),z.hidden?(S+="display: none;",t._hiddencolumns=!0):(k+=0+R,0!=c||t.rtl?S+="border-left-width: 1px;":S+="border-left-width: 0px;",c++),S+='" class="'+D+'">';var M="";if(0==H&&0==C){var V=P.toString("dddd",t.schedulerLocalization),F=P.toString("MMMM, yyyy",t.schedulerLocalization),I=t.toTP("jqx-scheduler-agenda-date"),E=t.toTP("jqx-scheduler-agenda-day"),O=t.toTP("jqx-scheduler-agenda-week");M='<div class="'+I+'"><strong class="'+E+'">'+P.day()+'</strong><br/><em class="'+O+'">'+V+'</em><br/><span class="'+I+'">'+F+"</span></div>"}if(1==H){var W="auto",N=(i=this._views[this._view],B.from),L=B.to;i.timeRuler&&i.timeRuler.formatString&&(W=i.timeRuler.formatString);var Z=W,U=W;if("auto"===W){if(0==N.hour()&&0==N.minute()||12==N.hour()&&0==N.minute())Z="hh tt";else Z="hh:mm";if(0==L.hour()&&0==L.minute()||12==L.hour()&&0==L.minute())U="hh tt";else U="hh:mm"}I=t.toTP("jqx-scheduler-agenda-time");M=B.allDay?"<span class='"+I+"'>"+t.schedulerLocalization.agendaAllDayString+"</span>":t.rtl?"<span class='"+I+"'>"+L.toString(U,t.schedulerLocalization)+" - "+N.toString(Z,t.schedulerLocalization)+"</span>":"<span class='"+I+"'>"+N.toString(Z,t.schedulerLocalization)+" - "+L.toString(U,t.schedulerLocalization)+"</span>"}else if(2==H){B.resourceId&&e.each(t._resources,function(e,i){if(B.resourceId==i){var o=t.getColors(e),n=(this.toString(),t.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"));if(t.rtl)n=t.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend");var r="<div data-key='"+B.id+"' class='"+n+"' style='margin-right: 5px; border-color: "+o.border+"; background: "+o.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>";M=r}});var X=B.subject?B.subject:"(No Title)",G=B.location,J=B.description,K=B.status?t.schedulerLocalization.editDialogStatuses[B.status]:"",Q=B.isRecurrentAppointment(),Y=(B.isException(),t.schedulerLocalization.editDialogSubjectString+": "+X);G&&(Y+="\n"+t.schedulerLocalization.editDialogLocationString+": "+G),J&&(Y+="\n"+t.schedulerLocalization.editDialogDescriptionString+": "+J),K&&(Y+="\n"+t.schedulerLocalization.editDialogStatusString+": "+K),Q&&(Y+="\n"+t.schedulerLocalization.editDialogRepeatString+": "+Q);I=t.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(t.rtl)I=t.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label");M+="<span data-key='"+B.id+"' title='"+Y+"' class='"+I+"'>"+X+"</span>"}S+=M,A+=S+="</td>"}0==u&&(t.table[0].style.width=k+2+"px",t.pinnedtable[0].style.width=k+2+"px",u=k),w+=A+="</tr>"}w+="</table>",t.table[0].innerHTML=w,t.pinnedtable[0].innerHTML=w,t.pinnedtable[0].style.display="none";var $=e(t.table[0].firstChild),ee=e(t.pinnedtable[0].firstChild);function te(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}t._table=$,t._pinnedtable=ee,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=u+"px",t._pinnedtable[0].style.width=u+"px"),0===r&&(t._table[0].style.width=2+u+"px",t._pinnedtable[0].style.width=2+u+"px",t._pinnedtable[0].style.display="none"),t._pinnedtable[0].style.display="none",t._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),t.table[0].rows=t.table[0].firstChild.rows,t.rowByCell=new Array,t.columnCells=new Array,t.cellWidth=0,t.cellHeight=0;var ie=t.table[0].rows.length;for(a=0;a<ie;a++){var oe=t.table[0].rows[a];if(!oe.getAttribute("data-group-row")){var ne=new te;ne.aboveRow=null,ne.belowRow=null,t.rows.length>0&&(ne.aboveRow=t.rows[t.rows.length-1],t.rows[t.rows.length-1].belowRow=ne),ne.element=oe,t.rows.push(ne);var re=!1;for(y=0;y<oe.cells.length;y++){if(oe.cells.length<t.columns.records.length&&!re)for(var se=a;se>=0;){var ae=t.table[0].rows[se];if(t.table[0].rows[se].cells.length==t.columns.records.length){var le=ae.cells[0];t.columnCells[ne.cells.length]||(t.columnCells[ne.cells.length]=new Array),t.columnCells[ne.cells.length].push(le),0==t.cellWidth&&(t.cellWidth=le.clientWidth),0==t.cellHeight&&(1==ie||a>1)&&(t.cellHeight=le.clientHeight),ne.cells.push(le),re=!0;break}se--}"none"!==(le=oe.cells[y]).style.display&&(le.className.indexOf("jqx-grid-cell-pinned")>=0||(t.columnCells[ne.cells.length]||(t.columnCells[ne.cells.length]=new Array),t.columnCells[ne.cells.length].push(le),0==t.cellWidth&&(t.cellWidth=le.clientWidth),0==t.cellHeight&&(1==ie||a>1)&&(t.cellHeight=le.clientHeight),ne.cells.push(le),t.rowByCell[le.getAttribute("data-key")]=ne))}}}0===r&&(t._table[0].style.tableLayout="auto"),t._updateScrollbars(t.host.height()),t._arrange(),t.rendered&&t.rendered(),t.renderedTime=new Date},_renderrows:function(){if(!(t=this)._loading&&!t._updating&&!t._appupdating){t.rendering&&t.rendering();var t,i=(t=this)._views[t._view].type,o=t._views[t._view];if("agendaView"!=i){var n=1,r=t.getViewStart(),s=e.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd());t._prepareAppointmentsInView(r,s);var a=new Array;if("weekView"===i||"dayView"===i)n=t.getMaxAllDayAppointments(t.appointmentsToRender);else"monthView"===i&&o.monthRowAutoHeight&&t.rows&&6==t.rows.length&&(a=t._getMonthAppointmentsPerWeek());t.tableRows>1&&t.tableRows;var l,d="halfHour",h=null;o.rowHeight&&(h=o.rowHeight),o&&o.allDayRowHeight&&(l=o.allDayRowHeight),o.timeRuler&&o.timeRuler.scale&&(d=o.timeRuler.scale);var c=0;t.table[0].rows=new Array,t.rows=new Array;var u=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content");t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl"));var p=t.columns.records.length,m=t._getColumnsLengthPerView(),f=e.jqx.browser.msie&&e.jqx.browser.version<8;f&&t.host.attr("hideFocus","true"),t._lastSelectedCell=null,t.focusedCell=null;new Array;var g=t.source.records;g=t.dataview.evaluate(g),t.dataViewRecords=g,t.cells=new Array;t.dataViewRecords;t.renderedRecords=t.getRows();t.tableZIndex;var w=t.getRows().length,v=0,y=0;if(f)for(var x=0;x<p;x++){(we=(k=t.columns.records[x]).width)<k.minwidth&&(we=k.minwidth),we>k.maxwidth&&(we=k.maxwidth);var b=e('<table><tr><td role="gridcell" style="max-width: '+we+"px; width:"+we+'px;" class="'+u+'"></td></tr></table>');e(document.body).append(b);var A=b.find("td");v=1+parseInt(A.css("padding-left"))+parseInt(A.css("padding-right")),b.remove();break}var T=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",_="<table cellspacing='0' cellpadding='0' class='"+t.toTP("jqx-grid-table")+T+"' id='table"+t.element.id+"'><colgroup>",S=0,D=2,j=30;switch(d){case"sixtyMinutes":case"hour":j=60,D=1;break;case"thirtyMinutes":case"halfHour":j=30,D=2;break;case"fifteenMinutes":case"quarterHour":j=15,D=4;break;case"tenMinutes":j=10,D=6;break;case"fiveMinutes":j=5,D=12}var q=1;"timelineDayView"===i||"timelineWeekView"===i?(q=D,m=(p*=D)/t.tableColumns):"timelineMonthView"===i?m=p/t.tableColumns:"monthView"===i&&(m=o.showWeekNumbers?(p-t.tableColumns)/t.tableColumns:p/t.tableColumns);var C=function(e){var i;if(i=t.columns.records[e])return i;for(;e>=t.columns.records.length;)e-=t.columns.records.length;return i=t.columns.records[e]};for(x=0;x<p;x++){var k;if((k=C(x)).hidden)S++,0;else{if((we=k.width/q)<k.minwidth&&(we=k.minwidth/q),we>k.maxwidth&&(we=k.maxwidth/q),(we-=v)<0&&(we=0),"monthView"==i&&t.rtl&&k.timeColumn&&we++,f){var B=we;x==S&&B++,_+="<col style='max-width: "+B+"px; width: "+B+"px;'>"}else _+="<col style='max-width: "+we+"px; width: "+we+"px;'>";y+=we}}if(_+="</colgroup>",t._hiddencolumns=!1,0===w){var R='<tr role="row">',z=t.host.height();t.pageable&&(z-=t.pagerHeight,"both"===t.pagerPosition&&(z-=t.pagerHeight)),z-=t.columnsHeight,t.showLegend&&t._resources.length>0&&(z-=t.legendHeight),z<25&&(z=25),"hidden"!=t.hScrollBar[0].style.visibility&&(z-=t.hScrollBar.outerHeight()),("auto"===t.height||null===t.height||t.autoheight)&&(z=300);b='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border: none; min-height: '+z+"px; height: "+z+"px; max-width:"+y+"px; width:"+y+"px;",u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl")),b+='" class="'+(u+=" "+t.toTP("jqx-center-align"))+'">',b+=t.schedulerLocalization.emptyDataString,_+=R+=b+="</td>",t.table[0].style.width=y+2+"px",c=y}var H=t.getRows(),P=(r=t.getViewStart(),z=t._hostHeight?t._hostHeight:t.host.height(),0);t.columnGroups?P+=t.showHeader?t.columnsheader.height():0:P+=t.showHeader?t.columnsHeight:0,t.showToolbar&&(P+=t.toolbarHeight),t.showLegend&&t._resources.length>0&&(P+=t.legendHeight);var M=t.showAllDayRow,V=23;o.resourceHeaderRowHeight&&(V=o.resourcesRowHeight),V+=2,null!=o.showAllDayRow&&(M=o.showAllDayRow);var F=t._columnswidth>t._hostWidth?3+t.scrollBarSize:0,I=t.tableRows>1?t.resources.unitsInView:1;if(null==I&&(I=t._resources.length),t.resources&&t.resources.resourceRowHeight&&(h=t.resources.resourceRowHeight),null==h||"auto"==h){var E=t.rowsHeight,O=3*E;if(t.isTouchDevice())O=22+(E=t.touchRowsHeight);1==t.tableRows?(h=z>0?z-P:E,t.columns.records.length>10&&(h=z>0?z-t.scrollBarSize-5-P:E)):(h=z>0?(z-P-V)/w:E,t.columns.records.length>10&&(h=z>0?(z-t.scrollBarSize-5-P-I*V)/(I*w):E)),"dayView"===i||"weekView"===i?M&&(null==l||"auto"==l?l=h=z>0?(z-P)/(t.tableRows*w):O:h=z>0?(z-P-l-I*V)/(I*(w-1)):E):"monthView"===i&&("hidden"==t.hScrollBar[0].style.visibility&&(F=0),h=1==t.tableRows?z>0?(z-P-F)/w:E:z>0?(z-P-V-F)/w:E),h=Math.max(E,h),l||(l=O),l=Math.max(O,l),t._allDayRowHeight=l,t._defaultRowHeight=E,l=n*(E-2),l=Math.max(O,17+l),t._allDayRowFullHeight=l,o.allDayRowHeight&&(t._allDayRowHeight=o.allDayRowHeight,l=n*(o.allDayRowHeight-2),t._allDayRowFullHeight=l)}var W,N=new Array;if(t.resources&&t.resources.colorScheme){for(var L=0;L<t.colorSchemes.length;L++)if(t.colorSchemes[L].name==t.resources.colorScheme){N=t.colorSchemes[L].colors;break}for(;t._resources.length>N.length-1;){var Z=parseInt(t.resources.colorScheme.substring(6));Z>=27&&(Z=0),N=N.concat(t.colorSchemes[Z].colors),Z++}}for(var U=0;U<t.tableRows;U++){var X=0,G=23;if(o.timeRuler&&null!=o.timeRuler.scaleStartHour)X=parseInt(o.timeRuler.scaleStartHour);if(o.timeRuler&&null!=o.timeRuler.scaleEndHour)G=parseInt(o.timeRuler.scaleEndHour);var J=r;!1===o.showWeekends&&(0!=J.dayOfWeek()&&6!=J.dayOfWeek()||(J=J.addDays(1)));var K=new Array,Q="monthView"!=i&&"timelineDayView"!=i&&"timelineWeekView"!=i&&"timelineMonthView"!=i&&M?1:0;if(t.tableRows>1){R='<tr data-group-row="true" role="row">',u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl")),f)u+=" "+t.toTP("jqx-grid-cell-pinned");else{u+=" "+t.toTP("jqx-grid-cell-pinned"),ye+=' colspan="'+p+'"';B=0;for(var Y=0;Y<p;Y++){var $=C(Y),ee=$.width/q;ee<$.minwidth&&(we=$.minwidth/q),ee>$.maxwidth&&(we=$.maxwidth/q),(ee-=v)<0&&(ee=0),$.hidden||(B+=ee)}we=B}b='<td style="height:'+V+"px;";if(x!=p-1||1!=p||t.rtl||(b+="border-right-color: transparent;"),t._resources.length>0&&t.resources.colorScheme&&"none"!=t.resources.orientation){var te="",ie="",oe="";te=N[U],te=t.hexToRgba(N[U],.7).toString(),oe=255-(.299*(W=t.hexToRgba(N[U],.7)).r+.587*W.g+.114*W.b)<105?"Black":"White",b+="background: "+te+";",b+="border-color: "+(ie=N[U])+";",b+="color: "+oe+";"}b+='" class="'+u+'" role="gridcell" '+ye,b+="><span style='position: relative;'>"+t._resources[U]+"</span>",_+=R+=b+="</td>"}for(var ne=0;ne<w;ne++){var re={},se="jqx"+t.element.id+"_"+ne;re.uid=se;R='<tr data-key="'+se+'" role="row">';var ae=0,le=0;if(K[0]&&ne>Q){j=30;if("monthView"!=i){switch(d){case"sixtyMinutes":case"hour":j=60;break;case"thirtyMinutes":case"halfHour":j=30;break;case"fifteenMinutes":case"quarterHour":j=15;break;case"tenMinutes":j=10;break;case"fiveMinutes":j=5}for(var de=0;de<p;de++)K[de]=K[de].addMinutes(j,!1)}else for(de=0;de<p;de++)K[de]=K[de].addDays(7,!1)}var he=0,ce=1,ue=0;o.showWeekends||null==o.showWeekends?(ue=t.columns.records.length/(7*t.tableColumns),ue*=D):(ue=t.columns.records.length/(5*t.tableColumns),ue*=D);var pe=0;t.rtl&&(pe=1);var me=0;for(x=0;x<p;x++){var fe=C(x);if(he>=m&&(he=0,me=0,pe=0,t.rtl&&(pe=1),ce++),!K[x])if(t.rtl){if(i.toString().indexOf("timelineDayView")>=0){ge=1+x;K[x]=J.addHours(1+G).addMinutes(-ge*j,!1)}else i.toString().indexOf("timelineWeekView")>=0?o.showWeekends||null==o.showWeekends?K[x]=J.addDays(6-me).addHours(1+G,!1).addMinutes(-pe*j,!1):K[x]=J.addDays(4-me).addHours(1+G,!1).addMinutes(-pe*j,!1):"dayView"==i||"monthView"==i||"weekView"==i?o.showWeekends||null==o.showWeekends?K[x]=J.addDays(6-he).addHours(X,!1):K[x]=J.addDays(4-he).addHours(X,!1):K[x]=J.addDays(m-he-1).addHours(X,!1);t.timeZone&&(K[x].timeZone=t.timeZone)}else{if(i.toString().indexOf("timelineDayView")>=0){var ge=x;K[x]=J.addHours(X).addMinutes(ge*j,!1)}else i.toString().indexOf("timelineWeekView")>=0?K[x]=J.addDays(me).addHours(X,!1).addMinutes(pe*j,!1):K[x]=J.addDays(he).addHours(X,!1);t.timeZone&&(K[x].timeZone=t.timeZone)}++pe>=ue&&(pe=0,me++),fe.timeColumn||"dayView"!==i&&"weekView"!==i?!fe.timeColumn&&"monthView"===i&&o.showWeekNumbers?he++:"monthView"===i&&!o.showWeekNumbers||"timelineMonthView"===i?he++:"timelineDayView"!=i&&"timelineWeekView"!=i||he++:he++;var we,ve=K[x];(we=fe.width/q)<fe.minwidth&&(we=fe.minwidth/q),we>fe.maxwidth&&(we=fe.maxwidth/q),(we-=v)<0&&(we=0);u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");fe.pinned&&(u+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===fe.displayfield&&(u+=" "+t.toTP("jqx-grid-cell-sort")),t.altRows&&ne%2!=0&&(u+=" "+t.toTP("jqx-grid-cell-alt")),0!=ne||!M||"dayView"!==i&&"weekView"!==i||(u+=" "+t.toTP("jqx-grid-cell-alt")),(ve>t.max||ve<t.min)&&(u+=" "+t.toTP("jqx-scheduler-disabled-cell")),t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl"));var ye="",xe=(se=t.dataview.generatekey(),U+ce);t.resources&&"none"==t.resources.orientation&&(xe=-1),0==t._resources.length&&(xe=-1);b='<td data-key="'+se+'" data-view="'+xe+'" data-date="'+ve.toString()+'" role="gridcell" '+ye+' style="max-width:'+we+"px; width:"+we+"px;  height:"+h+"px;";if(0==ne&&M&&("dayView"===i||"weekView"===i))b='<td  data-key="'+se+'" data-view="'+xe+'" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(ve).toString()+'" data-date="'+ve.clearTime().toString()+'" role="gridcell" '+ye+' style="max-width:'+we+"px; width:"+we+"px; height:"+l+"px;";if("monthView"==i&&o.monthRowAutoHeight&&a.length>0&&a[ne]&&"auto"!=a[ne]&&h<a[ne])b='<td data-key="'+se+'" data-view="'+xe+'" data-date="'+ve.toString()+'" role="gridcell" '+ye+' style="max-width:'+we+"px; width:"+we+"px;  height:"+a[ne]+"px;";if(t.date.month()!=ve.month()&&"monthView"===i&&o.showOtherMonthDays,t.resources&&t._resources.length>0&&t.resources.colorScheme&&"none"!==t.resources.orientation){te="",ie="";if(te=N[U+ce-1],te=0!=ne||!M||"dayView"!==i&&"weekView"!==i?t.hexToRgba(N[U+ce-1],.3).toString():t.shadeColor(N[U+ce-1],.3).toString(),(0!=ne||!M||"dayView"!==i&&"weekView"!==i)&&-1==i.indexOf("month")&&!fe.timeColumn&&!1!==o.showWorkTime){var be=1,Ae=5,Te=8,_e=18;if(o.workTime)be=o.workTime.fromDayOfWeek?o.workTime.fromDayOfWeek:0,Ae=o.workTime.toDayOfWeek?o.workTime.toDayOfWeek:0,Te=void 0!==o.workTime.fromHour?o.workTime.fromHour:8,_e=o.workTime.toHour?o.workTime.toHour:8;ve.dayOfWeek()>=be&&ve.dayOfWeek()<=Ae&&ve.hour()>=Te&&ve.hour()<_e&&(te=t.hexToRgba(N[U+ce-1],.1).toString())}b+="background: "+te+";",b+="border-color: "+(ie=N[ce+U-1])+";"}if(x!=p-1||1!=p||t.rtl||(b+="border-right-color: transparent;"),fe.timeColumn&&!fe.hidden&&"monthView"===i){u=t.toTP("jqx-scheduler-time-column")+" "+t.toTP("jqx-widget-header")+" "+t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(u+=" "+t.toTP("jqx-scheduler-week-number-column"),t.tableRows>1)u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl")),0!==ve.minute()){le++;continue}b='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+ve.toString()+'" role="gridcell" style="max-width:'+we+"px; width:"+we+"px;";x!=p-1||1!=p||t.rtl?t.rtl&&0==x&&(b+="border-left-color: transparent;"):b+="border-right-color: transparent;",x==p-1&&t.rtl&&(b+="border-right-color: transparent;")}if(!fe.timeColumn||fe.hidden||"dayView"!==i&&"weekView"!==i){if(ne>0){var Se="border-left-width: 1px;";t.rtl&&0==x&&"monthView"==i&&o.showWeekNumbers&&(Se="border-left-width: 0px;"),b+=Se}}else{u=t.toTP("jqx-scheduler-time-column")+" "+t.toTP("jqx-widget-header")+" "+t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.tableRows>1)u=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(u+=" "+t.toTP("jqx-cell-rtl")),ne>0){if(0!==ve.minute()){le++;continue}b='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+ve.toString()+'" rowspan='+D+' role="gridcell" '+ye+' style="max-width:'+we+"px; width:"+we+"px;";x!=p-1||1!=p||t.rtl?t.rtl&&0==x&&(b+="border-left-color: transparent;"):b+="border-right-color: transparent;"}else{if(t.resources&&"none"==t.resources.orientation&&(xe=-1),0==ne&&M&&("dayView"===i||"weekView"===i))b='<td data-view="'+xe+'" data-time-slot="true" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(ve).toString()+'" data-date="'+ve.toString()+'" role="gridcell" '+ye+' style="max-width:'+we+"px; width:"+we+"px;";x!=p-1||1!=p||t.rtl?0==x&&1==p&&t.rtl&&(b+="border-right-color: transparent;"):b+="border-right-color: transparent;",t.rtl&&(b+="border-left-width: 1px;"),t.tableRows>1&&(b+="background: "+te+";",b+="border-color: "+ie+";")}}if("left"!=fe.cellsalign&&("right"===fe.cellsalign?u+=" "+t.toTP("jqx-right-align"):u+=" "+t.toTP("jqx-center-align")),fe.timeColumn||t.rowinfo[re.uid]&&t.rowinfo[re.uid].selected&&t.editKey!==re.uid&&"none"!==t.selectionMode&&(u+=" "+t.toTP("jqx-grid-cell-selected"),u+=" "+t.toTP("jqx-fill-state-pressed"),u+=" "+t.toTP("jqx-scheduler-cell-selected")),fe.hidden?(b+="display: none;",t._hiddencolumns=!0):(ae+=v+we,0!=le||t.rtl||(b+="border-left-width: 0px;"),le++),(0!=ne||!M||"dayView"!==i&&"weekView"!==i)&&-1==i.indexOf("month")&&(u+=" "+t.toTP("jqx-grid-cell-nowrap"),ne%2!=1||fe.timeColumn||(u+=" "+t.toTP("jqx-scheduler-middle-cell")),!fe.timeColumn&&!1!==o.showWorkTime)){be=1,Ae=5,Te=8,_e=18;if(o.workTime)be=o.workTime.fromDayOfWeek?o.workTime.fromDayOfWeek:0,Ae=o.workTime.toDayOfWeek?o.workTime.toDayOfWeek:0,Te=void 0!==o.workTime.fromHour?o.workTime.fromHour:8,_e=o.workTime.toHour?o.workTime.toHour:8;ve.dayOfWeek()>=be&&ve.dayOfWeek()<=Ae&&ve.hour()>=Te&&ve.hour()<_e?u+=" "+t.toTP("jqx-scheduler-work-time-cell"):u+=" "+t.toTP("jqx-scheduler-not-work-time-cell")}var De="";if("monthView"===i){t.touchDevice||fe.timeColumn||(u+=" "+t.toTP("jqx-top-align"));var je="dd";De=ve.toDate();var qe=t.toTP("jqx-scheduler-month-outer-cell")+" ",Ce=t.toTP("jqx-scheduler-month-weekend-cell");t.date.month()==ve.month()&&(qe=""),ve.isWeekend()?u+=" "+Ce:Ce="",1===De.getDate()&&(je="MMM dd"),De=t.touchDevice?h>16?"<div class='"+qe+t.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(De,je,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+qe+t.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(De,je,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":h>16?"<div class='"+qe+t.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(De,je,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+qe+t.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(De,je,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>"}else"timelineWeekView"!==i&&"timelineDayView"!==i&&"timelineMonthView"!==i||(u+=" "+t.toTP("jqx-right-align jqx-bottom-align"),De="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span>");0!=ne||!M||"dayView"!==i&&"weekView"!==i||fe.timeColumn||(u+=" "+t.toTP("jqx-top-align"),u+=" "+t.toTP("jqx-scheduler-all-day-cell"),t.rtl&&(u+=" "+t.toTP("jqx-rtl")),De=ve.toDate(),De="<span>"+e.jqx.dataFormat.formatdate(De,"dd",t.schedulerLocalization)+"</span>");var ke=fe.cellsFormat;if(fe.timeColumn&&!fe.hidden){De=ve.toDate(),fe.timeZone&&(De=(De=ve.clone().toTimeZone(fe.timeZone)).toDate());o.timeRuler&&o.timeRuler.formatString?ke=o.timeRuler.formatString:fe.timeColumn.format||(ke=0==De.getHours()||12==De.getHours()?"hh tt":"hh:mm"),e.jqx.dataFormat.isDate(De)&&(De=e.jqx.dataFormat.formatdate(De,ke,t.schedulerLocalization)),ne<Q&&(t.rtl?u+=" "+t.toTP("jqx-scheduler-time-column-header-cell-rtl"):u+=" "+t.toTP("jqx-scheduler-time-column-header-cell"),De=""),ne<Q&&(fe._text&&(u+=" "+t.toTP("jqx-bottom-align")),o.timeRuler&&o.timeRuler.timeZones&&o.timeRuler.timeZones.length>0&&x<o.timeRuler.timeZones.length&&(De=fe._text)),"monthView"==i&&(De=ve.weekOfYear(t.schedulerLocalization.firstDay))}else""!=ke&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(De)?De=e.jqx.dataFormat.formatdate(De,ke,t.schedulerLocalization):(e.jqx.dataFormat.isNumber(De)||!isNaN(parseFloat(De))&&isFinite(De))&&(De=e.jqx.dataFormat.formatnumber(De,ke,t.schedulerLocalization)));if(""!=fe.cellclassname&&fe.cellclassname)if("string"==typeof fe.cellclassname)u+=" "+fe.cellclassname;else{var Be=fe.cellclassname(ne,fe.datafield,De,re);Be&&(u+=" "+Be)}if(""!=fe.cellsRenderer&&fe.cellsRenderer){var Re=H.indexOf(re);De=fe.cellsRenderer(Re,fe.datafield,De,re)}b+='" class="'+u+'">',b+=De,R+=b+="</td>"}0==c&&(t.table[0].style.width=ae+2+"px",t.pinnedtable[0].style.width=ae+2+"px",c=ae),_+=R+="</tr>",t.rowinfo[re.uid]?"row"in t.rowinfo[re.uid]||(t.rowinfo[re.uid].row=re):t.rowinfo[re.uid]={row:re}}}_+="</table>",t.table[0].innerHTML=_,t.pinnedtable[0].innerHTML=_,t.table[0].rows=t.table[0].firstChild.rows;var ze=e.jqx.browser.msie&&e.jqx.browser.version<9,He=null;if(!M||"dayView"!==i&&"weekView"!==i||1!=t.tableRows)t.pinnedtable[0].style.display="none";else if(t.pinnedtable[0].style.display="block",t.pinnedtable[0].style.zIndex="400",t.pinnedtable[0].style.position="absolute",t.pinnedtable[0].style.top="0px",t.pinnedtable[0].style.height=l+"px",!ze)if(1==t.tableRows){t.oldRow=t.table[0].rows[0];try{t.table[0].rows[0]=t.pinnedtable.find("tr")[0]}catch(e){}He=t.pinnedtable.find("tr")[0],t.pinnedTableRow=He}else{t.oldRow=t.table[0].rows[1];try{t.table[0].rows[1]=t.pinnedtable.find("tr")[1]}catch(e){}He=t.pinnedtable.find("tr")[1],t.pinnedTableRow=He}Y=e(t.table[0].firstChild);var Pe=e(t.pinnedtable[0].firstChild);t._table=Y,t._pinnedtable=Pe,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=c+"px",t._pinnedtable[0].style.width=c+"px"),0===w&&(t._table[0].style.width=2+c+"px",t._pinnedtable[0].style.width=2+c+"px"),t._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),t._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),t.rowByCell=new Array,t.columnCells=new Array,t.cellWidth=0,t.cellHeight=0;var Me=t.table[0].rows.length;for(ne=0;ne<Me;ne++){var Ve=t.table[0].rows[ne];if(0==ne&&He&&(Ve=He),!Ve.getAttribute("data-group-row")){(re=new Ie).aboveRow=null,re.belowRow=null,t.rows.length>0&&(re.aboveRow=t.rows[t.rows.length-1],t.rows[t.rows.length-1].belowRow=re),re.element=Ve,t.rows.push(re);for(x=0;x<Ve.cells.length;x++){var Fe=Ve.cells[x];Fe.getAttribute("data-time-slot")||"none"!==Fe.style.display&&(Fe.className.indexOf("jqx-grid-cell-pinned")>=0||(t.columnCells[re.cells.length]||(t.columnCells[re.cells.length]=new Array),t.columnCells[re.cells.length].push(Fe),0==t.cellWidth&&(t.cellWidth=Fe.clientWidth),0==t.cellHeight&&(1==Me||ne>1)&&(t.cellHeight=Fe.clientHeight),"monthView"==t._views[t._view].type&&null==re.top&&(re.top=parseInt(e(Fe).position().top)),re.cells.push(Fe),t.rowByCell[Fe.getAttribute("data-key")]=re))}}}0===w&&(t._table[0].style.tableLayout="auto"),t._renderAppointments(r,s),("none"!=t.pinnedtable[0].style.display||("dayView"==i||"weekView"==i)&&t.tableRows>1)&&t._updateScrollbars(t.host.height()),"monthView"===i&&o.monthRowAutoHeight&&(0==a.length?t._renderrows():t._updateScrollbars(t.host.height())),t.rendered&&t.rendered(),t.renderedTime=new Date}else t._renderagenda()}function Ie(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}},showAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!1,o.hiddenByResourceId=!1,o.exceptions))for(var n=0;n<o.exceptions.length;n++)o.exceptions[n].hiddenByResourceId=!1}if(t._resourcesElements){var r=t.getColors(t._resources.indexOf(e));t._resourcesElements.top[e].attr("data-toggle","on"),t._resourcesElements.top[e].css("background",r.background),t._resourcesElements.bottom[e].attr("data-toggle","on"),t._resourcesElements.bottom[e].css("background",r.background)}t.hiddenResources&&delete t.hiddenResources[e],t._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!0,o.hiddenByResourceId=!0,o.exceptions))for(var n=0;n<o.exceptions.length;n++)o.exceptions[n].hiddenByResourceId=!0,o.exceptions[n].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(t,i){var o=this;if(!o._appupdating){for(var n=new Array,r=0;r<this.uiappointments.length;r++){var s=this.uiappointments[r];if(!s.hidden||null!=s.recurrencePattern){e.jqx.scheduler.utilities.rangeIntersection(s.from,s.to,t,i)&&!s.recurrencePattern&&n.push(s),s.renderedAppointments=new Array;var a=!1;if(s.recurrencePattern){for(var l=s.getOccurrences(t,i),d=s.exceptions,h=0;h<l.length;h++){var c=l[h];if(!c.hidden){for(var u=!0,p=0;p<d.length;p++){var m=(f=d[p]).occurrenceFrom?f.occurrenceFrom:f;if(o.selectedJQXAppointment&&o.selectedJQXAppointment.rootAppointment&&!a&&o.selectedJQXAppointment.occurrenceFrom.clearTime().equals(m.clearTime())&&(o.selectedJQXAppointment=f,a=!0),m.clearTime().equals(c.from.clearTime())){u=!1;break}}u&&(o.selectedJQXAppointment&&o.selectedJQXAppointment.rootAppointment&&!a&&o.selectedJQXAppointment.occurrenceFrom.clearTime().equals(c.occurrenceFrom.clearTime())&&(o.selectedJQXAppointment=c,a=!0),s.renderedAppointments[c.id]=c,n.push(c))}}for(p=0;p<d.length;p++){m=(f=d[p]).occurrenceFrom?f.from:f;var f,g=s.createOccurrence(m);f.occurrenceFrom&&(f.cloneAppointmentAttributes(g),f.hidden)||g!=s&&(n.push(f),s.renderedAppointments[f.id]=f)}}}}var w=new Array;this.tabKeyAppointments=new Array;for(r=0;r<n.length;r++){var v=n[r];w.push(v),this.tabKeyAppointments.push(v)}w.sort(this._sortAppointmentsByFrom),this._resources.length>0?this.tabKeyAppointments.sort(function(e,t){return o._sortAppointmentsByResourceId(e,t,o)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=w}},_renderDayWeekAppointments:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,n=new Array,r=this.rows,s=t.showAllDayRow,a=t.getMinutesPerScale();i.timeRuler&&null!=i.timeRuler.showAllDayRow&&(s=i.timeRuler.showAllDayRow);for(var l=0;l<this.appointmentsToRender.length;l++){var d=this.appointmentsToRender[l],h=d.from,c=d.to,u=e.jqx.scheduler.utilities.getEndOfDay(c),p=h.day(),m=(d.allDay,new Array),f=new Array,g=d.resourceId,w=t._resources.indexOf(g);t.resources&&"none"==t.resources.orientation&&(w=-1);var v=h.toDate().valueOf(),y=c.toDate().valueOf(),x=(u.toDate().valueOf(),function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});if(!d.allDay&&d.duration().days()<1||!s){0==(P=c.toDate()).getHours()&&0==P.getMinutes()&&!0;for(var b=0;b<t.columnCells.length;b++)if(t.columnCells[b]){var A=t.columnCells[b];t.rtl&&(A=t.columnCells[t.columnCells.length-1-b]);for(var T=0;T<A.length;T++)if(!A[T].getAttribute("data-end-date")){var _=A[T].getAttribute("data-date"),S=t._getDateByString(_),D=t._getDateByString(_);D.setMinutes(D.getMinutes()+a-1);var j=S.valueOf(),q=D.valueOf();if(!(j>c)&&(v<=j&&j<y||v<=q&&q<y||v>=j&&q>=y)){if(-1!=w&&1+w!=A[T].getAttribute("data-view"))continue;p!=S.getDate()&&(m.sort(x),f.push(m),m=new Array,p=h.addDays(1).day()),m.push({cell:A[T],date:S})}}}m.sort(x),f.push(m);var C=new Array;for(b=0;b<f.length;b++){if(0!=(A=f[b]).length){var k=t.cellWidth,B=A[A.length-1].cell.offsetTop+t.cellHeight,R=A[0].cell.offsetLeft,z=A[0].cell.offsetTop,H=t.getMinutesPerScale(),P=new e.jqx.date(A[A.length-1].date,t.timeZone).addMinutes(H),M={cells:A,x:R,y:z,height:B-z,width:k,appointment:d,from:new e.jqx.date(A[0].date,t.timeZone),to:P};C.push(M),o.push(M)}}d.elements=C,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}else{A=r[0].cells;if(this.tableRows>1)A=r[w*(r.length/t.tableRows)].cells;for(T=0;T<A.length;T++){_=A[T].getAttribute("data-date");var V=t._getDateByString(_);S=new e.jqx.date(V,t.timeZone);if(!((j=(S=e.jqx.scheduler.utilities.getEndOfDay(S)).toDate().valueOf())>u)&&(h<=S&&S<=u)){if(-1!=w&&1+w!=A[T].getAttribute("data-view"))continue;0==m.length&&(S=e.jqx.scheduler.utilities.getStartOfDay(S)),m.push({cell:A[T],date:S})}}m.sort(x),f.push(m);for(C=new Array,b=0;b<f.length;b++){if(0==(A=f[b]).length)break;var F=e(A[0].cell).position();k=e(A[A.length-1].cell).position().left+this.cellWidth-F.left,B=e(A[A.length-1].cell).position().top,R=F.left,z=F.top;if(this.rtl)R=(F=e(A[A.length-1].cell).position()).left,k=e(A[0].cell).position().left+this.cellWidth-F.left;var I=A[A.length-1].date;I=new e.jqx.date(e.jqx.scheduler.utilities.getEndOfDay(I),t.timeZone);M={cells:A,x:R,y:z,height:B-z+this.cellHeight,width:k,appointment:d,from:e.jqx.scheduler.utilities.getStartOfDay(new e.jqx.date(A[0].date,t.timeZone)),to:I};C.push(M),n.push(M)}d.elements=C,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}}var E=this.getViewStart(),O=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var W=new Array,N=E,L=0;N<O;){W[L]=new Array;for(b=0;b<o.length;b++){(U=o[b]).from.day()==N.day()&&(U.column=-1,U.columnSpan=1,W[L].push(U))}L++,N=N.addDays(1)}for(b=0;b<W.length;b++)this._renderAppointmentsInDay(W[b]);this._renderAllDayAppointments(n)}else for(T=0;T<this._resources.length;T++){var Z=this._resources[T];for(W=new Array,N=E,L=0;N<O;){W[L]=new Array;for(b=0;b<o.length;b++){var U;(U=o[b]).from.day()==N.day()&&(U.column=-1,U.columnSpan=1,U.appointment.resourceId==Z&&W[L].push(U))}L++,N=N.addDays(1)}for(b=0;b<W.length;b++)this._renderAppointmentsInDay(W[b]);var X=new Array;for(b=0;b<n.length;b++)n[b].appointment.resourceId==Z&&X.push(n[b]);this._renderAllDayAppointments(X)}},_renderAllDayAppointments:function(t){var i=this,o=this.showAllDayRow;if((R=this._views[this._view]).timeRuler&&null!=R.timeRuler.showAllDayRow&&(o=R.timeRuler.showAllDayRow),o&&0!=t.length){var n,r=t;if(n=this.getMaxAllDayAppointments(t),1==this.tableRows)this.table[0].rows[0].clientHeight;else this.table[0].rows[1].clientHeight;for(var s=0;s<t.length;s++){(f=t[s]).row=-1,(m=this.getCollisionAppointments(f,t)).sort(this._sortAppointmentsByFrom);var a=m.indexOf(f);if(a>=0)for(var l=a;l<m.length;l++)m[l].row=-1;for(var d=0;d<n;d++){var h=d;for(var c in m){if("indexOf"==c)break;if(-1==(x=m[c]).row&&!this.isBusyRow(h,m)){x.row=h;var u=n,p=this.getMaxAllDayAppointments(m);u>p&&(u=p),x.rowsCount=u}}}}for(d=0;d<r.length;d++){var m,f=r[d];(m=this.getCollisionAppointments(f,r)).sort(this._sortAppointmentsByFrom);var g=1;for(var c in m){if("indexOf"==c)break;var w=m[c];g=Math.max(g,w.rowsCount)}for(var c in m){if("indexOf"==c)break;(w=m[c]).rowsCount=g}if(1==m.length)f.rowSpan=g;else{var v=0,y=!0;for(l=f.row;l<g;l++){for(var c in m){if("indexOf"==c)break;var x;(x=m[c])!=f&&(x.row==l&&(y=!1))}if(!y)break;v++}f.rowSpan=v}}var b=i.appointmentsMinHeight+2;if(i.isTouchDevice())b=i.touchAppointmentsMinHeight+2;for(var A=0;A<r.length;A++){var T=b;(f=r[A]).height=b;var _=T*f.row;if(f.y=18+f.y+_+4*f.row,f.x+=3,f.width-=8,0!=f.appointment.from.hour()||23!=f.appointment.to.hour()){var S=this.getViewStart(),D=this.getViewEnd();if(i.rtl){j=parseFloat(i.cellWidth/24)*f.appointment.to.hour()+parseFloat(i.cellWidth/48)*(f.appointment.to.minute()/30),q=parseFloat(i.cellWidth/24)*f.appointment.from.hour()+parseFloat(i.cellWidth/48)*(f.appointment.from.minute()/30);j>0&&(j=i.cellWidth-j),f.appointment.from<S&&(q=0),f.appointment.to>D&&(j=0),"exactTime"==R.appointmentsRenderMode&&(f.x+=j,f.width-=j,f.width-=q),f.appointment.duration().days()<1&&f.width<15&&(f.width=15),f.timewidth=f.width,"exactTimeStatus"==R.appointmentsRenderMode&&(f.timewidth-=j,f.timewidth-=q),f.timex=j}else{var j=parseFloat(i.cellWidth/24)*f.appointment.from.hour()+parseFloat(i.cellWidth/48)*(f.appointment.from.minute()/30);f.appointment.from<S&&(j=0),f.timewidth=f.width,f.timex=j;var q=parseFloat(i.cellWidth/24)*f.appointment.to.hour()+parseFloat(i.cellWidth/48)*(f.appointment.to.minute()/30);f.appointment.to>D&&(q=0),f.timewidth-=j,q>0&&(f.timewidth-=i.cellWidth,f.timewidth+=q),"exactTime"==R.appointmentsRenderMode&&(f.width=f.timewidth,f.x+=j)}}}for(A=0;A<r.length;A++){var C=r[A],k="",B="auto",R=this._views[this._view],z=C.appointment.from,H=C.appointment.to;R.timeRuler&&R.timeRuler.formatString&&(B=R.timeRuler.formatString);var P=B;if("auto"===B){if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())P="hh tt";else P="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())var M="hh tt";else M="hh:mm"}var V=z.toString(P),F=H.toString(M),I=C.appointment.duration(),E=C.appointment.allDay||23===I.hours&&59===I.minutes&&59===I.seconds,O=C.appointment.background,W=C.appointment.subject?C.appointment.subject:"(No Title)",N=C.appointment.color,L=C.appointment.resourceId,Z=i.getColors(i._resources.indexOf(L)),U=" data-resourceId='"+L+"' ",X=C.appointment.borderColor;(ce=C.appointment.location).length>0&&(ce=", "+ce),O||(O=Z.background),X||(X=Z.border),N||(N=Z.color);var G=C.appointment.isRecurrentAppointment(),J=C.appointment.isException();E&&(V="",F="");var K="",Q=i.toTP("jqx-scheduler-appointment-status"),Y="",$=i.statuses[C.appointment.status],ee=!1;$&&("transparent"==$?ee=!1:(Y="<div style='background: "+$+"; border-right-color: "+X+"' class='"+Q+"'></div>","tentative"==$&&(Y="<div style='background-color: "+X+"; border-right-color: "+X+"' class='"+(Q=i.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),ee=!0));var te=i.toTP("jqx-scheduler-appointment-duration-status"),ie="<div style='width: "+C.timewidth+"px; left: "+C.timex+"px;' class='"+te+"'></div>";E&&(ie="");var oe="";if("exactTimeStatus"!=R.appointmentsRenderMode&&(ie=""),i.rtl)Y="<div style='background: "+$+"; border-left-color: "+X+"' class='"+(Q=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==$&&(Y="<div style='background-color: "+X+"; border-left-color: "+X+"' class='"+(Q=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),oe=Y,Y="";var ne="",re=W+ce;if(E||(re=W+ce+ie),i.renderAppointment){var se=i.renderAppointment({appointment:C.appointment.boundAppointment,textColor:N,background:O,borderColor:X,html:re,cssClass:"",style:"",width:C.width,height:C.height,view:i._views[i._view].type});if(se)if((k=se.html)!=re&&(re=k),N=se.textColor,O=se.background,X=se.borderColor,se.cssClass&&(ne=se.cssClass+" "),""!=se.style)O=(Z=i.getAppointmentColors(se.style)).background,X=Z.border,N=Z.color}if(""===K)if(ee)K="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'>"+Y+"<div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+re+"</div>"+oe+"</div>";else K="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'><div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+re+"</div></div>";var ae="";if(i.rtl&&(ae=i.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),J){var le="white"==N.toLowerCase()?i.toTP("jqx-icon-recurrence-exception-white"):i.toTP("jqx-icon-recurrence-exception");k="<div data-key='"+C.appointment.id+"'"+U+"class='"+ae+ne+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'><div class='"+le+"'></div>"+K+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(G){var de="white"==N.toLowerCase()?i.toTP("jqx-icon-recurrence-white"):i.toTP("jqx-icon-recurrence");k="<div data-key='"+C.appointment.id+"'"+U+"class='"+ae+ne+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'><div class='"+de+"'></div>"+K+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else k="<div data-key='"+C.appointment.id+"'"+U+"class='"+ae+ne+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'>"+K+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var he=e(k);if(1==this.tableRows?he.appendTo(this.pinnedtable):he.appendTo(this.table),C.element=he,this.appointmentTooltips)if(C.appointment.tooltip)he[0].setAttribute("title",C.appointment.tooltip);else{var ce,ue=C.appointment.subject;if(V&&(ue=V+" - "+F+" "+ue),ue)(ce=C.appointment.location)&&(ue+="\n"+ce),he[0].setAttribute("title",ue)}}}},_renderAppointmentsInDay:function(t,i){if(0!=t.length){var o,n=this,r=this._views[this._view],s=t,a=(this.getViewStart(),this.getViewEnd(),0);if(r.timeRuler?(a=this.columns.records[1].width,r.timeRuler.timeZones&&(a=this.columns.records[1+r.timeRuler.timeZones.length].width)):a=this.columns.records[1].width,!(a/(o=this.getMaxColumnsInADay(t))<0)){for(var l=0;l<t.length;l++){(w=t[l]).column=-1,(g=this.getCollisionAppointments(w,t)).sort(this._sortAppointmentsByFrom);var d=g.indexOf(w);if(d>=0)for(var h=d;h<g.length;h++)g[h].column=-1;for(var c=0;c<o;c++){var u=c;for(var p in g){if("indexOf"==p)break;if(-1==(A=g[p]).column&&!this.isBusyColumn(u,g)){A.column=u;var m=o,f=this.getMaxColumnsInADay(g);m>f&&(m=f),A.columnsCount=m}}}}for(c=0;c<s.length;c++){var g,w=s[c];(g=this.getCollisionAppointments(w,s)).sort(this._sortAppointmentsByFrom);var v=1;for(var p in g){if("indexOf"==p)break;null!=(y=g[p]).columnsCount&&(v=Math.max(v,y.columnsCount))}for(var p in g){if("indexOf"==p)break;var y;(y=g[p]).columnsCount=v}if(1==g.length)w.columnSpan=v;else{var x=0,b=!0;for(h=w.column;h<v;h++){for(var p in g){if("indexOf"==p)break;var A;null!=(A=g[p]).column&&(A!=w&&A.column==h&&(b=!1))}if(!b)break;x++}w.columnSpan=x}}for(var T=0;T<s.length;T++){var _=a/s[T].columnsCount;(w=s[T]).width=_*w.columnSpan-5;var S=_*w.column;if(w.x=2+w.x+S,w.height-=5,w.y+=1,"exactTime"==r.appointmentsRenderMode){var D=n.getMinutesPerScale();if(w.appointment.from.minute()%D!=0)var j=w.appointment.from.minute()%D,q=parseFloat(n.cellHeight/D)*j;else q=0;if(w.appointment.to.minute()%D!=0){j=w.appointment.to.minute()%D;var C=n.cellHeight-parseFloat(n.cellHeight/D)*j;w.to.day()!==w.appointment.to.day()&&(C=0)}else C=0;w.y+=q,w.height-=q,w.height-=C}}for(T=0;T<s.length;T++){var k=s[T],B="",R="auto",z=(r=this._views[this._view],k.appointment.from),H=k.appointment.to;r.timeRuler&&r.timeRuler.formatString&&(R=r.timeRuler.formatString);var P=R;if("auto"===R){if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())P="hh tt";else P="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())var M="hh tt";else M="hh:mm"}z.toString(P),H.toString(M);var V=k.appointment.background,F=k.appointment.subject?k.appointment.subject:"(No Title)",I=k.appointment.location?k.appointment.location:"",E=k.appointment.color,O=k.appointment.resourceId,W=n.getColors(n._resources.indexOf(O)),N=" data-resourceId='"+O+"' ",L=k.appointment.borderColor;V||(V=W.background),L||(L=W.border),E||(E=W.color);var Z=k.appointment.isRecurrentAppointment(),U=k.appointment.isException(),X="",G=n.toTP("jqx-scheduler-appointment-status"),J="",K=n.statuses[k.appointment.status],Q=!1;K&&("transparent"==K?Q=!1:(J="<div style='background: "+K+"; border-right-color: "+L+"' class='"+G+"'></div>","tentative"==K&&(J="<div style='background-color: "+L+"; border-right-color: "+L+"' class='"+(G=n.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Q=!0));var Y="";if(n.rtl)J="<div style='background: "+K+"; border-left-color: "+L+"' class='"+(G=n.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==K&&(J="<div style='background-color: "+L+"; border-left-color: "+L+"' class='"+(G=n.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Y=J,J="";var $="",ee=F+"<br/>"+I;if(!I)ee=F;if(n.renderAppointment){var te=n.renderAppointment({appointment:k.appointment.boundAppointment,textColor:E,background:V,borderColor:L,html:ee,cssClass:"",style:"",width:k.width,height:k.height,view:n._views[n._view].type});if(te)if((B=te.html)!=ee&&(ee=B),E=te.textColor,V=te.background,L=te.borderColor,te.cssClass&&($=te.cssClass+" "),""!=te.style)V=(W=n.getAppointmentColors(te.style)).background,L=W.border,E=W.color}if(""===X)if(Q)X="<div class='"+n.toTP("jqx-scheduler-appointment-content")+"'>"+J+"<div class='"+n.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div>"+Y+"</div>";else X="<div class='"+n.toTP("jqx-scheduler-appointment-content")+"'><div class='"+n.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div></div>";var ie="";if(n.rtl&&(ie=n.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),U){var oe="white"==E.toLowerCase()?n.toTP("jqx-icon-recurrence-exception-white"):n.toTP("jqx-icon-recurrence-exception");B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'><div class='"+oe+"'></div>"+X+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else if(Z){var ne="white"==E.toLowerCase()?n.toTP("jqx-icon-recurrence-white"):n.toTP("jqx-icon-recurrence");B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'><div class='"+ne+"'></div>"+X+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'>"+X+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var re=e(B);if(re.appendTo(this.table),k.element=re,this.appointmentTooltips)if(k.appointment.tooltip)re[0].setAttribute("title",k.appointment.tooltip);else{var se=k.appointment.subject;if(se)(I=k.appointment.location)&&(se+="\n"+I),re[0].setAttribute("title",se)}}}}},getCollisionAppointments:function(t,i){for(var o=new Array,n=t.from,r=t.to,s=0;s<i.length;s++){var a=i[s],l=a.from,d=a.to;if(e.jqx.scheduler.utilities.rangeIntersection(n,r,l,d)&&(o.push(a),o.length>30))break}return o},getAllDayCollisionAppointments:function(t,i){for(var o=new Array,n=e.jqx.scheduler.utilities.getStartOfDay(t.from),r=e.jqx.scheduler.utilities.getEndOfDay(t.to),s=0;s<i.length;s++){var a=i[s],l=e.jqx.scheduler.utilities.getStartOfDay(a.from),d=e.jqx.scheduler.utilities.getEndOfDay(a.to);e.jqx.scheduler.utilities.rangeIntersection(n,r,l,d)&&o.push(a)}return o},_renderAppointments:function(e,t){var i=this;if(!i._appupdating){i.table.find(".jqx-scheduler-appointment").remove(),i.pinnedtable.find(".jqx-scheduler-appointment").remove();var o=i._views[i._view].type;"dayView"===o||"weekView"===o?i._renderDayWeekAppointments(e,t):"monthView"===o?i._renderMonthAppointments(e,t):"timelineWeekView"!==o&&"timelineDayView"!==o&&"timelineMonthView"!==o||i._renderTimelineAppointments(e,t),i.selectedJQXAppointment&&i._selectAppointment(i.selectedJQXAppointment)}},_renderTimelineAppointments:function(t,i){for(var o=this,n=o._views[o._view].type,r=o._views[o._view],s=new Array,a=(this.rows,this.cellHeight),l=this.cellWidth,d=o.getMinutesPerScale(),h=0;h<this.appointmentsToRender.length;h++){var c=this.appointmentsToRender[h],u=c.from,p=c.to,m=(o._getDateByString,new Array),f=u.toDate().valueOf(),g=p.toDate().valueOf();"timelineMonthView"===n&&(f=u.clearTime().toDate().valueOf());var w=o.rows[0],v=c.resourceId,y=o._resources.indexOf(v);if(o._resources.length>0&&"horizontal"!==o.resources.orientation&&y>=1&&(w=o.rows[y]),o.resources&&"none"==o.resources.orientation){y=-1;w=o.rows[0]}for(var x=w.cells,b=0;b<x.length;b++){var A=x[b].getAttribute("data-date");x[b].appointments=new Array;var T=o._getDateByString(A),_=T.valueOf(),S=o._getDateByString(A);S.setMinutes(S.getMinutes()+d-1);var D=S.valueOf();if(!(_>p)&&(f<=_&&_<g||f<=D&&D<g||f>=_&&f<=D&&g<=D)){if(-1!=y&&1+y!=x[b].getAttribute("data-view"))continue;m.push({cell:x[b],date:T}),w=F}}m.sort(function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});var j=new Array;if(0!=(x=m).length){var q=o.appointmentsMinHeight;o.isTouchDevice()&&(q=o.touchAppointmentsMinHeight),r.appointmentHeight&&(q=r.appointmentHeight);var C=e(x[0].cell).position(),k=q,B=e(x[x.length-1].cell).position().left-C.left+l,R=C.left,z=C.top;if(o.rtl)C=e(x[x.length-1].cell).position(),B=e(x[0].cell).position().left-C.left+l,R=C.left,z=C.top;var H=new e.jqx.date(x[x.length-1].date,o.timeZone).addMinutes(d);if("timelineMonthView"===n)H=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(x[x.length-1].date,o.timeZone));var P={cellX:R,cellY:z,cellHeight:a,cells:x,x:R,y:z,height:k,width:B,appointment:c,from:new e.jqx.date(x[0].date,o.timeZone),to:H};"exactTime"===r.appointmentsRenderMode&&(P.from=c.from,P.to=c.to),j.push(P),s.push(P),c.elements=j,c.rootAppointment&&(c.rootAppointment.elements=c.rootAppointment.elements.concat(c.elements))}}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(s,t,i);else for(b=0;b<this._resources.length;b++){for(var M=this._resources[b],V=new Array,F=0;F<s.length;F++)s[F].appointment.resourceId==M&&V.push(s[F]);this._renderUITimelineAppointments(V,t,i)}},_renderUITimelineAppointments:function(t,i,o){(a=this)._views[a._view].type;var n,r=a._views[a._view],s=t,a=this,l=new Array;n=a.getMaxTimelineAppointments(t,l,i,o);var d=a.appointmentsMinHeight;a.isTouchDevice()&&(d=a.touchAppointmentsMinHeight),r.appointmentHeight&&(d=r.appointmentHeight);for(var h=0;h<t.length;h++){(y=t[h]).row=-1,(v=a.getCollisionAppointments(y,t)).sort(a._sortAppointmentsByFrom);var c=v.indexOf(y);if(c>=0)for(var u=c;u<v.length;u++)v[u].row=-1;for(var p=0;p<n;p++){var m=p;if(p>30)break;for(var f in v){if("indexOf"==f)break;if(f>30)break;if(-1==(_=v[f]).row&&!a.isBusyRow(m,v)){_.row=m;var g=n,w=a.getMaxTimelineAppointments(v,l,i,o);g>w&&(g=w),_.rowsCount=g}}}}for(p=0;p<s.length;p++){var v,y=s[p];(v=a.getCollisionAppointments(y,s)).sort(a._sortAppointmentsByFrom);var x=1;for(var f in v){if("indexOf"==f)break;var b=v[f];x=Math.max(x,b.rowsCount)}for(var f in v){if("indexOf"==f)break;(b=v[f]).rowsCount=x}if(1==v.length)y.rowSpan=x;else{var A=0,T=!0;for(u=y.row;u<x;u++){for(var f in v){if("indexOf"==f)break;var _;(_=v[f])!=y&&(_.row==u&&(T=!1))}if(!T)break;A++}y.rowSpan=A}}for(var S=0;S<s.length;S++){var D=d;(y=s[S]).height=D;var j=2+(3+D)*y.row;y.y=y.y+j,y.x+=1,y.width-=5;var q=a._views[a._view].type;r=a._views[a._view];if("timelineMonthView"==q&&r.appointmentsRenderMode){if(0!=y.appointment.from.hour()||23!=y.appointment.to.hour())if(a.rtl){C=parseFloat(a.cellWidth/24)*y.appointment.to.hour()+parseFloat(a.cellWidth/48)*(y.appointment.to.minute()/30),k=parseFloat(a.cellWidth/24)*y.appointment.from.hour()+parseFloat(a.cellWidth/48)*(y.appointment.from.minute()/30);C>0&&(C=a.cellWidth-C),"exactTime"==r.appointmentsRenderMode&&(y.x+=C,y.width-=C,y.width-=k),y.appointment.duration().days()<1&&y.width<15&&(y.width=15),y.timewidth=y.width,y.timex=C}else{var C=parseFloat(a.cellWidth/24)*y.appointment.from.hour()+parseFloat(a.cellWidth/48)*(y.appointment.from.minute()/30),k=parseFloat(a.cellWidth/24)*y.appointment.to.hour()+parseFloat(a.cellWidth/48)*(y.appointment.to.minute()/30);if(y.timewidth=y.width,y.timex=C,y.timewidth-=C,y.timewidth-=a.cellWidth,y.timewidth+=k,"exactTime"==r.appointmentsRenderMode&&(y.width=y.timewidth,a.date.month()===y.appointment.from.month()?y.x+=C:y.width=C+y.timewidth,y.appointment.duration().days()<1&&y.width<15&&(y.width=15,C+15>a.cellWidth))){var B=a.cellWidth-C-15;y.x+=B}}}else if(r.appointmentsRenderMode&&"exactTime"==r.appointmentsRenderMode){var R=a.getMinutesPerScale();if(y.appointment.from.minute()%R!=0){var z=y.appointment.from.minute()%R;C=parseFloat(a.cellWidth/R)*z;if(a.rtl)C=parseFloat(a.cellWidth/R)*z}else C=0;if(y.appointment.to.minute()%R!=0){z=y.appointment.to.minute()%R,k=a.cellWidth-parseFloat(a.cellWidth/R)*z;if(a.rtl)k=a.cellWidth-parseFloat(a.cellWidth/R)*z}else k=0;a.rtl?(y.x+=k,y.width-=C,y.width-=k):(y.x+=C,y.width-=C,y.width-=k)}}var H=[];for(S=0;S<s.length;S++){var P="";if(!((ae=s[S]).y<0)){H.push(ae);r=a._views[a._view],ae.appointment.from,ae.appointment.to;r.timeRuler&&r.timeRuler.formatString&&r.timeRuler.formatString;var M=ae.appointment.background,V=ae.appointment.subject?ae.appointment.subject:"(No Title)";(oe=ae.appointment.location)&&oe.length>1&&(oe=", "+oe);var F=ae.appointment.color,I=ae.appointment.resourceId,E=a.getColors(a._resources.indexOf(I)),O=" data-resourceId='"+I+"' ",W=ae.appointment.borderColor;M||(M=E.background),W||(W=E.border),F||(F=E.color);var N=ae.appointment.isRecurrentAppointment(),L=ae.appointment.isException(),Z="",U=a.toTP("jqx-scheduler-appointment-status"),X="",G=a.statuses[ae.appointment.status],J=!1;G&&("transparent"==G?J=!1:(X="<div style='background: "+G+"; border-right-color: "+W+"' class='"+U+"'></div>","tentative"==G&&(X="<div style='background-color: "+W+"; border-right-color: "+W+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),J=!0));var K="";if(a.rtl)X="<div style='background: "+G+"; border-left-color: "+W+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==G&&(X="<div style='background-color: "+W+"; border-left-color: "+W+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),K=X,X="";var Q="",Y=V+"<br/>"+oe;if(a.renderAppointment){var $=a.renderAppointment({appointment:ae.appointment.boundAppointment,textColor:F,background:M,borderColor:W,html:Y,cssClass:"",style:"",width:ae.width,height:ae.height,view:a._views[a._view].type});if($)if((P=$.html)!=Y&&(Y=P),F=$.textColor,M=$.background,W=$.borderColor,$.cssClass&&(Q=$.cssClass+" "),""!=$.style)M=(E=a.getAppointmentColors($.style)).background,W=E.border,F=E.color}if(""===Z)if(J)Z="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'>"+X+"<div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Y+"</div>"+K+"</div>";else Z="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'><div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Y+"</div></div>";var ee="";if(a.rtl&&(ee=a.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),L){var te="white"==F.toLowerCase()?a.toTP("jqx-icon-recurrence-exception-white"):a.toTP("jqx-icon-recurrence-exception");P="<div data-key='"+ae.appointment.id+"'"+O+"class='"+ee+Q+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+ae.x+"px; top: "+ae.y+"px; width: "+ae.width+"px; height: "+ae.height+"px; line-height: "+ae.height+"px; border-color:"+W+"; color:"+F+"; background:"+M+";'><div class='"+te+"'></div>"+Z+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(N){var ie="white"==F.toLowerCase()?a.toTP("jqx-icon-recurrence-white"):a.toTP("jqx-icon-recurrence");P="<div data-key='"+ae.appointment.id+"'"+O+"class='"+ee+Q+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+ae.x+"px; top: "+ae.y+"px; width: "+ae.width+"px; height: "+ae.height+"px; line-height: "+ae.height+"px; border-color:"+W+"; color:"+F+"; background:"+M+";'><div class='"+ie+"'></div>"+Z+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else P="<div data-key='"+ae.appointment.id+"'"+O+"class='"+ee+Q+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+ae.x+"px; top: "+ae.y+"px; width: "+ae.width+"px; height: "+ae.height+"px; line-height: "+ae.height+"px; border-color:"+W+"; color:"+F+"; background:"+M+";'>"+Z+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";if(P,(le=e(P)).appendTo(this.table),ae.element=le,this.appointmentTooltips)if(ae.appointment.tooltip)le[0].setAttribute("title",ae.appointment.tooltip);else{var oe,ne=ae.appointment.subject;if(ne)(oe=ae.appointment.location)&&(ne+="\n"+oe),le[0].setAttribute("title",ne)}}}var re=a.table.find(".jqx-scheduler-appointment"),se=function(e){for(var t=0;t<re.length;t++){if(re[t].getAttribute("data-key")==e)return re[t]}};for(S=0;S<H.length;S++){var ae=H[S],le=e(se(ae.appointment.id));e.each(ae.cells,function(t){var i=e(this.cell),o=ae.cellY,n=(ae.cellX,ae.cellHeight);if(i[0].appointments||(i[0].appointments=new Array),i[0].appointments.push({ui:le,appointment:ae}),le=le,ae.y+ae.height>=o+n-12){le[0].style.visibility="hidden";var r=i.find(".jqx-icon-arrow-down");r.length>0&&(r[0].style.display="block",r[0].mousedown=function(){a.openedMonthCellPopup&&a.openedMonthCellPopup.remove();var t=e("<div></div>"),r=(new e.jqx.date(i.attr("data-date"),a.timeZone),e("<div class='"+a.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+a.toTP("jqx-icon-close")+"'></span></div>"));r.height(16),r.find("span")[0].mousedown=function(){t.remove()},r.addClass(a.toTP("jqx-widget-header")),t.addClass(a.toTP("jqx-widget")),t.addClass(a.toTP("jqx-window")),t.addClass(a.toTP("jqx-scheduler-month-cell-popup")),t.addClass(a.toTP("jqx-popup"));var s=e("<div></div>");t.append(r),t.append(s),s.addClass(a.toTP("jqx-widget-content"));for(var l=i.width(),d=21,h=0;h<i[0].appointments.length;h++){var c=i[0].appointments[h].ui.clone(!0);c.css("left","3px"),c.css("top","0px"),c.css("margin-top","2px"),c.css("position","relative"),c.css("visibility","visible"),c.width(l-6),c.click(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));a._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),c.dblclick(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));t.readOnly||a.editRecurrenceDialog.jqxWindow("isOpen")||a._editDialog&&(!a._editDialog||a._editDialog.jqxWindow("isOpen"))||!1!==a._initDialog(t)&&a._openDialog();a._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})}),d+=c.outerHeight()+4,s.append(c)}t.css("overflow","hidden"),t.css("position","absolute");var u=a.table.height()-o-25;u<n&&(u=n),t.css("max-height",u),t.height(d),t.width(l),t.css("z-index","9999");var p=i.position();t.css("top",p.top),t.css("left",p.left),a.table.append(t),a.openedMonthCellPopup=t})}})}},_renderMonthAppointments:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,n=(this.rows,0);this.host.find(".jqx-scheduler-month-cell").length>0&&(n=e(this.host.find(".jqx-scheduler-month-cell")[0]).height());for(var r=0;r<this.appointmentsToRender.length;r++){var s=this.appointmentsToRender[r],a=e.jqx.scheduler.utilities.getStartOfDay(s.from),l=e.jqx.scheduler.utilities.getEndOfDay(s.to),d=(s.allDay,new Array),h=new Array,c=a.toDate().valueOf(),u=l.toDate().valueOf(),p=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},m=-1,f=s.resourceId,g=t._resources.indexOf(f);t.resources&&"none"==t.resources.orientation&&(g=-1);for(var w=0;w<t.rows.length;w++)for(var v=t.rows[w].cells,y=0;y<v.length;y++){var x=v[y].getAttribute("data-date"),b=this._getDateByString(x),A=b.valueOf();A>l||(v[y].appointments=new Array,-1!=g&&1+g!=v[y].getAttribute("data-view")||c<=A&&A<u&&(m!=w&&-1!=m&&(d.sort(p),h.push(d),d=new Array),d.push({cell:v[y],date:b}),m=w))}d.sort(p),h.push(d);var T=new Array;for(w=0;w<h.length;w++){if(0==(v=h[w]).length)break;var _=t.appointmentsMinHeight;t.isTouchDevice()&&(_=t.touchAppointmentsMinHeight),i.appointmentHeight&&(_=i.appointmentHeight);var S=_,D=(R=e(v[v.length-1].cell).position().left)-e(v[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)D=R-e(v[0].cell).position().left+t.columns.records[1].width;var j=(B=e(v[0].cell).position()).left,q=B.top+n,C=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(v[v.length-1].date,t.timeZone)),k=new e.jqx.date(v[0].date,t.timeZone);if(t.rtl){var B,R;C=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(v[0].date,t.timeZone)),k=new e.jqx.date(v[v.length-1].date,t.timeZone),j=(B=e(v[v.length-1].cell).position()).left,q=B.top+n,D=(R=e(v[0].cell).position().left)-e(v[v.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)D=R-e(v[v.length-1].cell).position().left+t.columns.records[1].width}var z={cells:v,cellY:parseInt(B.top),cellX:parseInt(B.left),lastCellY:parseInt(B.top),lastCellX:R,x:j,y:q,height:S,width:D,appointment:s,from:k,to:C};T.push(z),o.push(z)}s.elements=T,s.rootAppointment&&(s.rootAppointment.elements=s.rootAppointment.elements.concat(s.elements))}var H=this.getViewStart(),P=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var M=new Array,V=H,F=0;V<P;){M[F]=new Array;for(w=0;w<o.length;w++){var I=o[w];V<=I.from&&I.to<V.addDays(7)&&(I.row=-1,I.rowSpan=1,M[F].push(I))}F++,V=V.addDays(7)}V=H;var E=H;for(w=0;w<M.length;w++){if(M[w].length>0){var O=M[w],W=[];for(y=0;y<7;y++){var N=O.filter(function(t){return e.jqx.scheduler.utilities.rangeIntersection(t.from,t.to,V,e.jqx.scheduler.utilities.getEndOfDay(V))});V=V.addDays(1);for(var L=0;L<N.length&&!(L>=20);L++){s=N[L];-1===W.indexOf(s)&&W.push(s)}}this._renderUIMonthAppointments(W)}E=E.addDays(7),V=E}}else for(y=0;y<this._resources.length;y++){var Z=this._resources[y];for(new Array,M=new Array,V=H,F=0;V<P;){M[F]=new Array;for(w=0;w<o.length;w++){I=o[w];V<=I.from&&I.to<V.addDays(7)&&(I.row=-1,I.rowSpan=1,I.appointment.resourceId==Z&&M[F].push(I))}F++,V=V.addDays(7)}for(w=0;w<M.length;w++)M[w].length>0&&this._renderUIMonthAppointments(M[w])}},_getMonthAppointmentsPerWeek:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,n=(this.rows,0);if(this.host.find(".jqx-scheduler-month-cell").length>0&&(n=e(this.host.find(".jqx-scheduler-month-cell")[0]).height()),!t.rows)return new Array;for(var r=this.getViewStart(),s=this.getViewEnd(),a=0;a<this.appointmentsToRender.length;a++){var l=this.appointmentsToRender[a],d=e.jqx.scheduler.utilities.getStartOfDay(l.from),h=e.jqx.scheduler.utilities.getEndOfDay(l.to),c=(l.allDay,t._getDateByString,new Array),u=new Array,p=d.toDate().valueOf(),m=h.toDate().valueOf(),f=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},g=-1,w=l.resourceId,v=t._resources.indexOf(w);t.resources&&"none"==t.resources.orientation&&(v=-1);for(var y=0;y<t.rows.length;y++)for(var x=t.rows[y].cells,b=0;b<x.length;b++){x[b].getAttribute("data-date");var A=r.addDays(7*y+b).toDate(),T=A.valueOf();T>h||(-1!=v&&1+v!=x[b].getAttribute("data-view")||p<=T&&T<m&&(g!=y&&-1!=g&&(c.sort(f),u.push(c),c=new Array),c.push({cell:x[b],date:A}),g=y))}c.sort(f),u.push(c);var _=new Array;for(y=0;y<u.length;y++){if(0==(x=u[y]).length)break;var S=t.appointmentsMinHeight;t.isTouchDevice()&&(S=t.touchAppointmentsMinHeight),i.appointmentHeight&&(S=i.appointmentHeight);var D=S,j=(z=e(x[x.length-1].cell).position().left)-e(x[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=z-e(x[0].cell).position().left+t.columns.records[1].width;var q=(R=e(x[0].cell).position()).left,C=R.top+n,k=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(x[x.length-1].date,t.timeZone)),B=new e.jqx.date(x[0].date,t.timeZone);if(t.rtl){var R,z;k=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(x[0].date,t.timeZone)),B=new e.jqx.date(x[x.length-1].date,t.timeZone),q=(R=e(x[x.length-1].cell).position()).left,C=R.top+n,j=(z=e(x[0].cell).position().left)-e(x[x.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=z-e(x[x.length-1].cell).position().left+t.columns.records[1].width}var H={cells:x,cellY:parseInt(R.top),cellX:parseInt(R.left),lastCellY:parseInt(R.top),lastCellX:z,x:q,y:C,height:D,width:j,appointment:l,from:B,to:k};_.push(H),o.push(H)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var P=new Array,M=r,V=0;M<s;){P[V]=new Array;for(y=0;y<o.length;y++){M<=(O=o[y]).from&&O.to<M.addDays(7)&&(O.row=-1,O.rowSpan=1,P[V].push(O))}V++,M=M.addDays(7)}var F=new Array;for(y=0;y<P.length;y++)if(P[y].length>0){var I=this.getMaxMonthAppointments(P[y]);S=t.appointmentsMinHeight;t.isTouchDevice()&&(S=t.touchAppointmentsMinHeight),i.appointmentHeight&&(S=i.appointmentHeight),F.push(I*(S+3)+22)}else F.push("auto");return F}for(F=new Array,b=0;b<this._resources.length;b++){var E=this._resources[b];for(new Array,P=new Array,M=r,V=0;M<s;){P[V]=new Array;for(y=0;y<o.length;y++){var O;M<=(O=o[y]).from&&O.to<M.addDays(7)&&(O.row=-1,O.rowSpan=1,O.appointment.resourceId==E&&P[V].push(O))}V++,M=M.addDays(7)}for(y=0;y<P.length;y++)if(P[y].length>0){I=this.getMaxMonthAppointments(P[y]);F.push(I*(S+3)+22)}else F.push("auto");return F}},_renderUIMonthAppointments:function(t){var i,o=this._views[this._view],n=t,r=(this.getViewStart(),this.getViewEnd(),this);i=this.getMaxMonthAppointments(t);var s=r.appointmentsMinHeight;r.isTouchDevice()&&(s=r.touchAppointmentsMinHeight),o.appointmentHeight&&(s=o.appointmentHeight);var a=this._sortAppointmentsByFrom;this.rtl&&(a=this._sortAppointmentsByTo);for(var l=0;l<t.length;l++){(w=t[l]).row=-1,(g=this.getCollisionAppointments(w,t)).sort(a);var d=g.indexOf(w);if(d>=0)for(var h=d;h<g.length;h++)g[h].row=-1;for(var c=0;c<i;c++){var u=c;for(var p in g){if("indexOf"==p)break;if(-1==(A=g[p]).row&&!this.isBusyRow(u,g)){A.row=u;var m=i,f=this.getMaxMonthAppointments(g);m>f&&(m=f),A.rowsCount=m}}}}for(c=0;c<n.length;c++){var g,w=n[c];(g=this.getCollisionAppointments(w,n)).sort(a);var v=1;for(var p in g){if("indexOf"==p)break;var y=g[p];v=Math.max(v,y.rowsCount)}for(var p in g){if("indexOf"==p)break;(y=g[p]).rowsCount=v}if(1==g.length)w.rowSpan=v;else{var x=0,b=!0;for(h=w.row;h<v;h++){for(var p in g){if("indexOf"==p)break;var A;(A=g[p])!=w&&(A.row==h&&(b=!1))}if(!b)break;x++}w.rowSpan=x}}for(var T=0;T<n.length;T++){var _=s;(w=n[T]).height=_;var S=2+(3+_)*w.row;if(w.y=w.y+S,w.x+=1,w.width-=5,0!=w.appointment.from.hour()||23!=w.appointment.to.hour())if(r.rtl){D=parseFloat(r.cellWidth/24)*w.appointment.to.hour()+parseFloat(r.cellWidth/48)*(w.appointment.to.minute()/30),j=parseFloat(r.cellWidth/24)*w.appointment.from.hour()+parseFloat(r.cellWidth/48)*(w.appointment.from.minute()/30);w.appointment.elements.length>1?w==w.appointment.elements[0]?j>0?"exactTime"==o.appointmentsRenderMode?(w.width-=r.cellWidth-D,w.width-=j):w.timewidth=w.width-r.cellWidth+D-j:(w.timewidth=w.width,w.timex=0):w==w.appointment.elements[w.appointment.elements.length-1]&&("exactTime"==o.appointmentsRenderMode&&(w.x+=r.cellWidth,w.x-=D,w.width+=D,w.width-=r.cellWidth),w.timewidth=w.width-r.cellWidth+D,w.timex=r.cellWidth-D):("exactTime"==o.appointmentsRenderMode&&(w.x+=r.cellWidth,w.x-=D,w.width-=r.cellWidth-D,w.width-=j),w.appointment.duration().days()<1&&w.width<15&&(w.width=15),w.timewidth=w.width-r.cellWidth+D-j,w.timex=r.cellWidth-D)}else{var D=parseFloat(r.cellWidth/24)*w.appointment.from.hour()+parseFloat(r.cellWidth/48)*(w.appointment.from.minute()/30);w.timewidth=w.width,w.from.clearTime().toString()==w.appointment.from.clearTime().toString()?w.timex=D:D=0,w.appointment.elements.length>1&&w.appointment.elements[0]!=w&&(D=0);var j=parseFloat(r.cellWidth/24)*w.appointment.to.hour()+parseFloat(r.cellWidth/48)*(w.appointment.to.minute()/30);if(w.appointment.elements.length>1&&w.appointment.elements[w.appointment.elements.length-1]!=w&&(j=0),w.timewidth-=D,j>0&&(w.timewidth-=r.cellWidth,w.timewidth+=j),"exactTime"==o.appointmentsRenderMode&&(w.from.clearTime().toString()==w.appointment.from.clearTime().toString()&&(w.x+=D),w.width=w.timewidth,w.appointment.duration().days()<1&&w.width<15&&(w.width=15,D+15>r.cellWidth))){var q=r.cellWidth-D-15;w.x+=q}}}for(T=0;T<n.length;T++){var C=n[T],k="",B="auto",R=(o=this._views[this._view],C.appointment.from),z=C.appointment.to;B="auto",o=this._views[this._view],R=C.appointment.from,z=C.appointment.to;o.timeRuler&&o.timeRuler.formatString&&(B=o.timeRuler.formatString);var H=B,P=B;if("auto"===B){if(0==R.hour()&&0==R.minute()||12==R.hour()&&0==R.minute())H="hh tt";else H="hh:mm";if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())P="hh tt";else P="hh:mm"}var M=R.toString(H),V=z.toString(P),F=C.appointment.duration(),I=C.appointment.allDay||23===F.hours&&59===F.minutes&&59===F.seconds,E=C.appointment.background,O=C.appointment.subject?C.appointment.subject:"(No Title)",W=C.appointment.color,N=C.appointment.resourceId,L=r.getColors(r._resources.indexOf(N)),Z=" data-resourceId='"+N+"' ",U=C.appointment.borderColor;(he=C.appointment.location)&&he.length>1&&(he=", "+he),E||(E=L.background),U||(U=L.border),W||(W=L.color);var X=C.appointment.isRecurrentAppointment(),G=C.appointment.isException(),J="",K=r.toTP("jqx-scheduler-appointment-status"),Q="",Y=r.statuses[C.appointment.status],$=!1;Y&&("transparent"==Y?$=!1:(Q="<div style='background: "+Y+"; border-right-color: "+U+"' class='"+K+"'></div>","tentative"==Y&&(Q="<div style='background-color: "+U+"; border-right-color: "+U+"' class='"+(K=r.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),$=!0));var ee=r.toTP("jqx-scheduler-appointment-duration-status"),te="<div style='width: "+C.timewidth+"px; left: "+C.timex+"px;' class='"+ee+"'></div>";I&&(te=""),"exactTimeStatus"!=o.appointmentsRenderMode&&(te="");var ie="";if(r.rtl)Q="<div style='background: "+Y+"; border-left-color: "+U+"' class='"+(K=r.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==Y&&(Q="<div style='background-color: "+U+"; border-left-color: "+U+"' class='"+(K=r.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),ie=Q,Q="";var oe="",ne=O+he;if(I||(ne=O+he+te),r.renderAppointment){var re=r.renderAppointment({appointment:C.appointment.boundAppointment,textColor:W,background:E,borderColor:U,html:ne,cssClass:"",style:"",width:C.width,height:C.height,view:r._views[r._view].type});if(re)if((k=re.html)!=ne&&(ne=k),W=re.textColor,E=re.background,U=re.borderColor,re.cssClass&&(oe=re.cssClass+" "),""!=re.style)E=(L=r.getAppointmentColors(re.style)).background,U=L.border,W=L.color}if(""===J)if($)J="<div style='white-space:nowrap;' class='"+r.toTP("jqx-scheduler-appointment-content")+"'>"+Q+"<div class='"+r.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div>"+ie+"</div>";else J="<div style='white-space:nowrap;' class='"+r.toTP("jqx-scheduler-appointment-content")+"'><div class='"+r.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div></div>";var se="";if(r.rtl&&(se=r.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),G){var ae="white"==W.toLowerCase()?r.toTP("jqx-icon-recurrence-exception-white"):r.toTP("jqx-icon-recurrence-exception");k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+se+oe+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+ae+"'></div>"+J+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(X){var le="white"==W.toLowerCase()?r.toTP("jqx-icon-recurrence-white"):r.toTP("jqx-icon-recurrence");k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+se+oe+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+le+"'></div>"+J+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+se+oe+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'>"+J+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var de=e(k);if(de.appendTo(this.table),C.element=de,this.appointmentTooltips)if(C.appointment.tooltip)de[0].setAttribute("title",C.appointment.tooltip);else{var he,ce=C.appointment.subject;if(M&&!I&&(ce=M+" - "+V+" "+ce),ce)(he=C.appointment.location)&&(ce+="\n"+he),de[0].setAttribute("title",ce)}e.each(C.cells,function(){var t=e(this.cell),i=t.position();if(t[0].appointments||(t[0].appointments=new Array),t[0].appointments.push({ui:de,appointment:C}),C.y+C.height+2>=i.top+t.height()){de.css("visibility","hidden");var o=t.find(".jqx-icon-arrow-down");o.show(),o[0]&&(o[0].mousedown=function(){r.openedMonthCellPopup&&r.openedMonthCellPopup.remove();var o=e("<div></div>"),n=t.find("div").clone(!0);n.find("span").removeClass().addClass(r.toTP("jqx-icon-close")),n.find("span")[0].mousedown=function(){o.remove()},n.addClass(r.toTP("jqx-widget-header")),o.addClass(r.toTP("jqx-widget")),o.addClass(r.toTP("jqx-window")),o.addClass(r.toTP("jqx-scheduler-month-cell-popup")),o.addClass(r.toTP("jqx-popup"));var s=e("<div></div>");o.append(n),o.append(s),s.addClass(r.toTP("jqx-widget-content jqx-disableselect"));for(var a=t.width(),l=5+t.find("div").outerHeight(),d=0;d<t[0].appointments.length;d++){var h=t[0].appointments[d].ui.clone(!0);h.css("left","3px"),h.css("top","0px"),h.css("margin-top","2px"),h.css("position","relative"),h.css("visibility","visible"),h.width(a-6),l+=h.outerHeight()+4,s.append(h),h.click(function(e){var t=r.getJQXAppointmentByElement(r.getAppointmentElement(e.target));r._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),h.dblclick(function(e){var t=r.getJQXAppointmentByElement(r.getAppointmentElement(e.target));t.readOnly||r.editRecurrenceDialog.jqxWindow("isOpen")||r._editDialog&&(!r._editDialog||r._editDialog.jqxWindow("isOpen"))||!1!==r._initDialog(t)&&r._openDialog();r._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})})}o.css("overflow","hidden"),o.css("position","absolute"),o.height(l),o.width(a),o.css("z-index","9999"),o.css("top",i.top),o.css("left",i.left),r.table.append(o),r.openedMonthCellPopup=o})}})}},_sortByDate:function(e,t){var i=e.getAttribute("data-date");i=this._getDateByString(i);var o=t.getAttribute("data-date");return i<(o=this._getDateByString(o))?-1:i>o?1:i==o?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.dateData===t.from.dateData&&1e4*(e.to.dateData-e.from.dateData)>1e4*(t.to.dateData-t.from.dateData))return-1;return e.from.dateData<t.from.dateData?-1:e.from.dateData>t.from.dateData?1:e.from.dateData==t.from.dateData?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)&&1e4*(e.to-e.from)>1e4*(t.to-t.from))return-1;return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){var o=i._resources.indexOf(e.resourceId),n=i._resources.indexOf(t.resourceId);return o==n?0:o<n?-1:o>n?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++){if(t[i].row==e)return!0}return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++){if(t[i].column==e)return!0}return!1},getMaxTimelineAppointments:function(t,i,o,n){if(0==t.length)return 1;var r=this,s=r._views[r._view].type,a=(r._views[r._view],1),l=o,d=this.getMinutesPerScale(),h=null,c=null,u="";for(var p in t){if("indexOf"==p)break;var m=t[p];h||(h=m.from.dateData),c||(c=m.to.dateData),m.from.dateData<h&&(h=m.from.dateData),m.to.dateData>c&&(c=m.to.dateData),u+=m.appointment.id}if(u+=h,i[u+=c])return i[u];h=new e.jqx.date(h,r.timeZone),c=new e.jqx.date(c,r.timeZone);for(l=h;h<c;){var f=l;if("timelineMonthView"===s)var g=f.addDays(1);else g=f.addMinutes(d);var w=0;for(var p in t){if("indexOf"==p)break;var v=(m=t[p]).from,y=m.to;e.jqx.scheduler.utilities.rangeIntersection(f,g,v,y)&&w++}a=Math.max(w,a),l="timelineMonthView"===s?l.addDays(1,!1):l.addMinutes(d,!1)}return i[u]=a,a},getMaxMonthAppointments:function(t){this._views[this._view].type,this._views[this._view];if(0==t.length)return 1;for(var i=1,o=this.getViewStart().clone(),n=this.getViewEnd();o<n;){var r=o,s=e.jqx.scheduler.utilities.getEndOfDay(r),a=0;for(var l in t){if("indexOf"==l)break;var d=t[l],h=d.from,c=d.to;e.jqx.scheduler.utilities.rangeIntersection(r,s,h,c)&&a++}i=Math.max(a,i),o=o.addDays(1,!1)}return i},getMaxAllDayAppointments:function(t){this._views[this._view].type,this._views[this._view];var i=this;if(0==t.length)return 1;var o=function(t){for(var o=1,n=i.getViewStart(),r=i.getViewEnd();n<r;){var s=n,a=e.jqx.scheduler.utilities.getEndOfDay(s),l=0;for(var d in t){if("indexOf"==d)break;var h=t[d],c=h;if(h.appointment&&(c=h.appointment),1!=c.hidden&&c.duration&&(c.allDay||c.duration().days()>=1)){var u=h.from,p=h.to;e.jqx.scheduler.utilities.rangeIntersection(s,a,u,p)&&l++}}o=Math.max(l,o),n=n.addDays(1,!1)}return o};if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var n=o(t);else{for(var r=1,s=0;s<this._resources.length;s++){for(var a=this._resources[s],l=new Array,d=0;d<t.length;d++)t[d].appointment&&t[d].appointment.resourceId==a?l.push(t[d]):null!=t[d].resourceId&&t[d].resourceId==a&&l.push(t[d]);n=o(l);r=Math.max(r,n)}n=r}return n},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],t=30,i="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(i=e.timeRuler.scale),i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(t){this._views[this._view].type;var i=this._views[this._view],o=30,n="halfHour";switch(i.timeRuler&&i.timeRuler.scale&&(n=i.timeRuler.scale),n){case"sixtyMinutes":case"hour":o=60;break;case"thirtyMinutes":case"halfHour":o=30;break;case"fifteenMinutes":case"quarterHour":o=15;break;case"tenMinutes":o=10;break;case"fiveMinutes":o=5}if(0==t.length)return 1;for(var r=1,s=t[0].from.clone(),a=s.addMinutes(o),l=e.jqx.scheduler.utilities.getEndOfDay(s);s<l;){var d=s,h=a,c=0;for(var u in t){if("indexOf"==u)break;var p=t[u];if(p.from||p.to){var m=p.from,f=p.to;e.jqx.scheduler.utilities.rangeIntersection(d,h,m,f)&&c++}}r=Math.max(c,r),s=s.addMinutes(o,!1),a=a.addMinutes(o,!1)}return r},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updatecolumnwidths:function(){var t=this._hostWidth,i=t;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,this.rtl&&(t+=3),i=t);if(null!=this.columns&&null!=this.columns.records){var o=this,n=!1,r=new Array;e.each(this.columns.records,function(e,n){if(!this.hidden){if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){n=0,"hidden"==o.vScrollBar[0].style.visibility||o.scrollBarSize;0==o.scrollBarSize&&0,n=parseFloat(this.width)*i/100,null!=this._percentagewidth&&(n=parseFloat(this._percentagewidth)*i/100),n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),t-=Math.round(n)}else"auto"==this.width||this._width?this.text:t-=this.width;"auto"==this._width&&(r[r.length]=this)}});var s=this.columnsheader.find("#columntable"+this.element.id);if(0!=s.length){var a=0,l=(s.find(".jqx-grid-column-header"),0);e.each(this.columns.records,function(s,d){var h=this.element,c=!1,u=this.width,p=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(u=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,u=Math.round(u),c=!0),"auto"==this.width||this._width||c)if(c)u<this.minwidth&&"auto"!=this.minwidth&&(u=this.minwidth,this.width=u),u>this.maxwidth&&"auto"!=this.maxwidth&&(u=this.maxwidth,this.width=u),parseInt(h[0].style.width)!=u&&(h.width(u),this.width=u);else{var m=o.columns.records.length,f=o._views[o._view].type;if("dayView"===f||"weekView"===f){var g=o._views[o._view];g.timeRuler?(g.timeRuler.timeZones&&(m-=g.timeRuler.timeZones.length),m--):m--}else"monthView"===f&&o._views[o._view].showWeekNumbers&&m--;var w=Math.floor(t*(1/m));if(o.resources&&o.resources.resourceColumnWidth&&"auto"!=o.resources.resourceColumnWidth?w=o.resources.resourceColumnWidth:o.resources&&o.resources.resourceColumnWidth&&"auto"==o.resources.resourceColumnWidth&&"horizontal"==o.resources.orientation&&(w=Math.round((2+t)*(1/o._getColumnsLengthPerView()))),(a+=t*(1/m)-w)>=1&&(a-=1,w++),a>=.5&&s==o.columns.records.length-1&&w++,"agendaView"==f&&(w=t/r.length,w++),w<0){var v=e("<span>"+this.text+"</span>");e(document.body).append(v),w=10+v.width(),v.remove()}w<this.minwidth&&(w=this.minwidth),w>this.maxwidth&&(w=this.maxwidth),this._width="auto",this.width=parseInt(w),h.width(this.width)}else parseInt(h[0].style.width)!=this.width&&h.width(this.width);parseInt(h[0].style.left)!=l&&h.css("left",l),this.hidden||(l+=this.width),this._requirewidthupdate=!0,p!==this.width&&(n=!0)}),this.columnsheader.width(2+l),s.width(this.columnsheader.width()),this._resizecolumnGroups(),n&&(this._renderrows(),o._arrange())}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){var i=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var o=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');o[0].cells=new Array;var n=0;this._hostWidth||(this._hostWidth=this.host.width());var r=this._hostWidth,s=r,a=this.getRows().length,l=this.rowsHeight;this.isTouchDevice()&&(l=this.touchRowsHeight),a*l>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(r-=parseInt(this.scrollBarSize)+6,this.rtl&&(r+=3),s=r);var d=new Array,h=new Array;if(e.each(this.columns.records,function(e,t){if(!this.hidden)if("auto"==this.width||this._width)this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)r-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)r-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){t=0;(t=parseFloat(this.width)*s/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),r-=t}else"string"==typeof this.width&&(this.width=parseInt(this.width)),r-=this.width;null!=this.width&&"auto"!=this.width||(h[h.length]=this),d[d.length]=this}),this.rtl)for(var c=0;c<d.length;c++)this.columns.replace(c,d[c]);var u=this.headerZIndex,p=t.columnsHeight,m=0,f=document.createDocumentFragment();e.each(this.columns.records,function(a,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=function(e,i){var o=t.columnGroupslevel*t.columnsHeight;return o-=i.level*t.columnsHeight}(this.datafield,this),p=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(d+=" "+t.toTP("jqx-disableselect"));var c=t.rtl?u++:u--,g=document.createElement("div");g.setAttribute("role","columnheader"),g.style.position="absolute",g.style.zIndex=c,g.style.height="100%",g.className=d;var w=e(g);t.rtl&&0===a&&(w[0].style.borderLeftColor="transparent"),t.columnGroups?(w[0].style.height=p+"px",w[0].style.bottom="0px"):this.timeColumn||(w[0].style.height=-1+p+"px"),this.uielement=w,this.element=w,""!=this.classname&&this.classname&&w.addClass(this.classname);var v=this.width,y=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(v=null!=this._percentagewidth?parseFloat(this._percentagewidth)*s/100:parseFloat(this.width)*s/100,v=Math.round(v),y=!0),"auto"==this.width||this._width||y)if(y)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),w.width(v),this.width=v;else{var x=t.columns.records.length,b=t._views[t._view].type;if("dayView"===b||"weekView"===b){var A=t._views[t._view];A.timeRuler?(A.timeRuler.timeZones&&(x-=A.timeRuler.timeZones.length),x--):x--}else"monthView"===b&&t._views[t._view].showWeekNumbers&&x--;var T=Math.floor(r*(1/x));if(t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?T=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(T=Math.round((2+r)*(1/t._getColumnsLengthPerView()))),(m+=r*(1/x)-T)>=1&&(m-=1,T++),m>=.5&&a==t.columns.records.length-1&&T++,isNaN(T)&&(T=this.minwidth),"agendaView"==b&&(T=r/h.length,T++),T<0){var _=e("<span>"+this.text+"</span>");e(document.body).append(_),T=10+_.width(),_.remove()}T<this.minwidth&&(T=this.minwidth),T>this.maxwidth&&(T=this.maxwidth),this._width="auto",this.width=parseInt(T),v=this.width,w.width(this.width)}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),w[0].style.width=parseInt(v)+"px";this.timeColumn&&(w.css("border-bottom-color","transparent"),i.timeRuler&&i.timeRuler.timeZones&&a<i.timeRuler.timeZones.length&&w.css("border-right-color","transparent"),1==this.tableRows&&w.addClass(t.toTP("jqx-scheduler-time-column"))),this.hidden&&w.css("display","none");e(w.children()[0]);o[0].cells[a]=w[0];var S=t._rendercolumnheader(this.text,this.align,p,t);w[0].innerHTML=S,f.appendChild(w[0]);w[0].style.left=n+"px",this.hidden||(n+=v)}),o[0].appendChild(f),this.columnsheader[0].style.width=n>0?2+n+"px":n+"px",this._columnswidth=n,this.columnsrow=o,t.columnsheader.append(o),o[0].style.width=n+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var t=this.headerZIndex+this.columns.records.length,i=this,o=i.toTP("jqx-grid-column-header")+" "+i.toTP("jqx-grid-columngroup-header")+" "+i.toTP("jqx-widget-header");i.rtl&&(o+=" "+i.toTP("jqx-grid-columngroup-header-rtl"));var n=this.columnsheader.find("#columntable"+this.element.id);n.find("jqx-grid-columngroup-header").remove();for(var r=0;r<this.columnGroupslevel-1;r++)for(var s=0;s<this.columnGroups.length;s++){var a=this.columnGroups[s],l=a.level;if(l===r){var d=l*this.columnsHeight,h=99999;if(a.groups){var c=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=c(o):o.hidden||(t+=o.width,h=Math.min(parseInt(o.element[0].style.left),h))}return t};a.width=c(a),a.left=h;var u=this.columnsHeight,p=t--,m=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+o+'"></div>'),f=e(this._rendercolumnheader(a.text,a.align,this.columnsHeight,this));a.renderer&&a.renderer(m,a.text),m.append(f),m[0].style.left=h+"px",0===h&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=u+"px",m[0].style.width=-1+a.width+"px",n.append(m),a.element=m}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,o=99999;if(t.groups){var n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=n(r):(t+=r.width,o=Math.min(parseInt(r.element[0].style.left),o))}return t};t.width=n(t),t.left=o;var r=this.columnsHeight,s=t.element;s[0].style.left=o+"px",s[0].style.top=i+"px",s[0].style.height=r+"px",s[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,o=e(t.element);if(o.length>0){i.removeHandler(o,"mouseenter"),i.removeHandler(o,"mouseleave");var n=e(t.filtericon);i.removeHandler(n,"mousedown"),i.removeHandler(n,"click"),i.removeHandler(o,"click")}},destroy:function(){var t=this;t._removeHandlers(),t._editDialog&&t._editDialog.jqxWindow("destroy"),t.menu&&t.menu.jqxMenu("destroy"),t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("destroy"),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(t,i,o,n){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&n!==o)if("filterable"==i)t._render();else if("view"==i)t.setView(n);else if("views"==i){t._columns=null,t._views=new Array,t._view=t.view;for(var r=0;r<t.views.length;r++)"string"===e.type(t.views[r])?t._views.push({type:t.views[r]}):t._views.push(t.views[r]);for(r=0;r<t._views.length;r++)if(t._views[r].type==t.view){t._view=r;break}t._render()}else if("height"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("resources"==i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("selectionMode"===i)t.selectionMode=n.toLowerCase();else if("touchMode"==i)t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:n}),t.hScrollBar.jqxScrollBar({touchMode:n}),t.refresh(),t._addHandlers();else{if("enableHover"==i)return;"showLegend"==i?(t.legendbartop.show(),t.legendbarbottom.show(),t.refresh()):"disabled"==i?(n?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.host.find(".jqx-grid-group-collapse").css("cursor",n?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",n?"default":"pointer")):"columnsHeight"==i?t._render():"localization"==i?(t._render(),t.editRecurrenceDialog&&(t.editRecurrenceDialog.jqxWindow("destroy"),t.createEditRecurrenceDialog())):"theme"==i?(e.jqx.utilities.setTheme(o,n,t.host),t._editDialog&&e.jqx.utilities.setTheme(o,n,t._editDialog),t.editRecurrenceDialog&&e.jqx.utilities.setTheme(o,n,t.editRecurrenceDialog),t.menu&&t.menu.jqxMenu({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.refresh()):"date"===i?t.navigateTo(n):t.refresh()}},_rendercolumnheader:function(e,t,i,o){var n="4px";o.columnGroups?((n=i/2-this._columnheight/2)<0&&(n=4),n+="px"):25!=this.columnsHeight&&((n=this.columnsHeight/2-this._columnheight/2)<0&&(n=4),n+="px");var r='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+n+"; margin-top: "+n+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){var s=this.columnRenderer(e,t,i,r);if(null!=s)return s}return r}})}(jqxBaseFramework);