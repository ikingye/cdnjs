!function(N){N.jqx.jqxWidget("jqxForm","",{}),N.extend(N.jqx._jqxForm.prototype,{defineInstance:function(){N.extend(!0,this,{padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#F5F5F5",borderColor:"#E5E5E5",value:{},template:[{type:"text",label:"TextBox 1"},{type:"text",label:"TextBox 2"}]})},createInstance:function(t){var e=this;e._isInitialized=!1,e.host.addClass(e.toThemeProperty("jqx-widget")),e._renderAndInit(),this._setValue(this.value),this._prevValue=this._getValue(),e._isInitialized=!0},destroy:function(){this._destroyElements(),this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_destroyElements:function(){for(var t=0;t<this.template.length;t++){if(N.isArray(this.template[t].columns))for(var e=0;e<this.template[t].columns.length;e++){var i=t+"_"+e;this._getComponentById(i).off(),this.host.find("#rowWrap_el_"+i).remove()}this._getComponentById(t).off(),this._getComponentLabelById(t).off(),this._getComponentLabelById(t).removeData(),this.host.find("#rowWrap_el_"+t).remove()}this.host.find("#formWrap").remove()},val:function(t){if(null==t)return this._getValue();this._setValue(t)},_onChangeHandler:function(t){if(this.isInitialized&&!this._suppressEvents){var e=this._getValue();if(!this._prevValue||JSON.stringify(e)!=JSON.stringify(this._prevValue)){var i=new N.Event("formDataChange");i.args={value:e,previousValue:this._prevValue};var o=(i.owner=this).host.trigger(i);return i.cancel?this._setValue(this._prevValue):this._prevValue=e,o}}},_onButtonClick:function(t,e){if(this.isInitialized){var i=new N.Event("buttonClick");return i.args={name:e.name,text:t.val()},(i.owner=this).host.trigger(i)}},submit:function(t,e,i){var o=this,n=o._getValue(!0),a="<form id='jqx_fromToSubmit'";t&&(a+=' action="'+t+'"'),e&&(a+=' target="'+e+'"'),i&&"get"===i.toString().toLowerCase()?a+=' method="GET"':a+=' method="POST"',a+=">";for(var l=0;l<n.length;l++){var s=n[l].value,r=n[l].tool,h=r.name;null==h&&(h=r.id),null==h&&(h=r.bind),("button"!=r.type&&"label"!=r.type||r.submit&&0!=r.submit)&&0!=r.submit&&void 0!==h&&(a+='<input type="hidden" ',a+=' name="'+h+'"',a+=' value="'+s+'"',a+=">")}a+="</form>",o.host.find("#formSubmit").html(a),o.host.find("#jqx_fromToSubmit").submit()},_getValue:function(t){for(var e={},i=[],o=0;o<this.template.length;o++){var n=this.template[o],a="el_"+this.element.id+o;if(N.isArray(n.columns))for(var l=0;l<n.columns.length;l++){var s,r,h=n.columns[l],d=a+"."+l;"option"!=h.type||"jqxDropDownList"==h.component?(void 0===(s=this._getComponentById(o+"_"+l).val())&&(s=null),null==h.bind||this._setObjectProperty(e,h.bind,s),t&&i.push({tool:h,value:s})):(r=this._radioGroupGetValue(h,d),null==h.bind||this._setObjectProperty(e,h.bind,r),t&&i.push({tool:h,value:r}))}else"option"!=n.type||"jqxDropDownList"==n.component?(void 0===(s=this._getComponentById(o).val())&&(s=null),null==n.bind||this._setObjectProperty(e,n.bind,s),t&&i.push({tool:n,value:s})):(r=this._radioGroupGetValue(n,a),null==n.bind||this._setObjectProperty(e,n.bind,r),t&&i.push({tool:n,value:r}))}return t?i:N.extend({},this._prevValue,e)},_getObjectProperty:function(t,e){if("object"!=typeof t||void 0===t||void 0===e||""==e)return t;for(var i=e.split("."),o=t,n=0;n<i.length;n++)o=o[i[n]];return o},_setObjectProperty:function(t,e,i){if(void 0!==t)if(null!=e&&""!=e){for(var o=e.split("."),n=0;n<o.length-1;)null==t[o[n]]&&(t[o[n]]={}),n++;t[o[n]]=i}else t=i},_setValue:function(t){this._suppressEvents=!0;for(var e=0;e<this.template.length;e++){var i,o=this.template[e],n="el_"+this.element.id+e,a=void 0;if(N.isArray(o.columns))for(var l=0;l<o.columns.length;l++){var s,r=o.columns[l],h=n+"."+l;r.bind&&(a=this._getObjectProperty(t,r.bind),"option"!=r.type||"jqxDropDownList"==r.component?(s=this._getComponentById(e+"_"+l),void 0!==t&&s.val(a)):this._radioGroupSetValue(r,h,a))}else o.bind&&(a=this._getObjectProperty(t,o.bind),"option"!=o.type||"jqxDropDownList"==o.component?(i=this._getComponentById(e),"label"!=o.type?void 0!==t&&i.val(a):i.html(a)):this._radioGroupSetValue(o,n,a))}this._prevValue=t,this._suppressEvents=!1},_radioGroupGetValue:function(t,e){for(var i=0;i<t.options.length;i++){var o=e+"_option_"+i,n=this.host.find("#"+o);if(0<n.length)if(1==n.jqxRadioButton("val"))return void 0!==t.options[i].value?t.options[i].value:t.options[i].label}},_radioGroupSetValue:function(t,e,i){for(var o=0;o<t.options.length;o++){if(void 0!==t.options[o].value){if(i!==t.options[o].value)continue}else if(i!==t.options[o].label)continue;var n=e+"_option_"+o,a=this.host.find("#"+n);0<a.length&&a.jqxRadioButton("val",!0)}},_getToolStyle:function(t){var e="display: block;";return t.height&&(e+="height: "+t.height+";"),void 0!==t.valign?e+="vertical-align: "+t.valign+";":e+="vertical-align: middle;",e},_getAlignMargin:function(t,e){if(!t||!t[e])return"";var i=["left","right","top","bottom"],o={},n="";if(t[e]&&(o={},"left"==t[e]?(o.left="0px",o.right="auto"):"right"==t[e]?(o.left="auto",o.right="0px"):(o.left="auto",o.right="auto")),o)for(var a in i)o[i[a]]&&(n+="margin-"+i[a]+": "+o[i[a]]+";");return n},_getPaddingAndMarginStyle:function(t,e){var i="",o=["left","right","top","bottom"],n=e?"labelpadding":"padding",a=e?"labelmargin":"margin",l=N.extend({left:5,top:5,right:5,bottom:5},t[n]);for(var s in l)l[s]=isNaN(l[s])?parseFloat(l[s].toString()):l[s];var r=t[a];if(l)for(var s in o)l[o[s]]&&(i+="padding-"+o[s]+": "+l[o[s]]+"px;");if(r)for(var s in o)r[o[s]]&&(i+="margin-"+o[s]+": "+r[o[s]]+";");return i},_getToolLabelStyle:function(t){var e="display:block;";return void 0!==t.labelheight?e+="height: "+t.labelheight+";":e+="height: 100%;",void 0!==t.labelvalign?e+="vertical-align: "+t.labelvalign+";":void 0!==t.valign?e+="vertical-align: "+t.valign+";":e+="vertical-align: middle;",e},_renderAndInit:function(){var t=this._createTemplateHtml();this.host.append(t),this._initTools()},refresh:function(t){var e,i=this;i._isInitialized&&!0!==t&&(e=i.val(),i._destroyElements(),i._renderAndInit(),i._prevValue=e,i.val(e))},_createTemplateHtml:function(){this.groups;for(var t="padding-left: "+parseFloat(this.padding.left)+"px;padding-right: "+parseFloat(this.padding.right)+"px;padding-top: "+parseFloat(this.padding.top)+"px;padding-bottom: "+parseFloat(this.padding.bottom)+"px;",e="<table id='formWrap' style='background-color: "+this.backgroundColor+"; width: 100%; white-space: nowrap; border: 1px solid "+this.borderColor+";"+t+"' cellpadding='0' cellspacing='0'><div id='formSubmit' style='display:hidden;'><div>",i=this.template,o=0;o<i.length;o++){var n="el_"+this.element.id+o,a=this.template[o];e+=this._getToolTemplate(a,n)}return e+="</table>"},_beginRow:function(t,e,i){void 0===e&&(e="auto");var o="<tr style='width: 100%; height: "+e+";' id='rowWrap_"+t+"' "+(i=i?"valign='"+i+"'":"")+">";return o+="<td style='width: 100%;'><table style='width: 100%; white-space: nowrap; border: 0px;' cellspacing='0' cellpadding='0'><tr style='width: 100%'>"},_endRow:function(){return"<td style='width: auto; background: transparent;'> </tr></table></td></tr>"},_beginColumn:function(t,e){void 0===t&&(t="auto");var i="<td style='width:"+t+"; background: transparent;'>";return i+="<div style='display:block; overflow: visible; width: 100%; background: transparent;'>"},_endColumn:function(){return"</div></td>"},_splitLabelToolWidth:function(t,e){var i=e?"auto":t.columnwidth,o=t.labelwidth,n=N.extend({left:5,top:5,right:5,bottom:5},t.padding),a=N.extend({left:5,top:5,right:5,bottom:5},t.labelpadding);for(var l in n)n[l]=isNaN(n[l])?parseFloat(n[l].toString()):n[l];for(var l in a)a[l]=isNaN(a[l])?parseFloat(a[l].toString()):a[l];return""!=t.label&&null!=t.label||(a={left:o=0,right:0,top:0,bottom:0}),"top"==t.labelposition||"bottom"==t.labelposition?(void 0===o&&(o=i),void 0===i&&(i=o),i&&-1!=i.toString().indexOf("%")&&o&&-1!=o.toString().indexOf("%")&&(i=o=Math.max(parseFloat(i),parseFloat(o))+"%"),i&&-1==i.toString().indexOf("%")&&o&&-1==o.toString().indexOf("%")&&(i=o=Math.max(parseFloat(i),parseFloat(o))+"px"),[o,i]):void 0===o?void 0!==i&&"auto"!==i?["auto",i]:"right"!=t.labelposition||"right"==t.align||"center"==t.align||"middle"==t.align?["auto","100%"]:["100%","auto"]:-1!==o.toString().indexOf("%")?(o=parseFloat(o),void 0!==i?-1!==i.toString().indexOf("%")?(i=parseFloat(i),[Math.min(100,o)+"%",Math.min(i,100-o)+"%"]):(i=parseFloat(i),[Math.min(100,o)+"%",i]):[Math.min(100,o)+"%",Math.max(0,100-o)+"%"]):(o=parseFloat(o)+a.left+a.right,null==i?[o+"px","calc(100% - "+o+"px)"]:[o+"px",i])},_getToolTemplate:function(t,e,i,o){var n={};for(var a in t)n[a.toLowerCase()]=t[a];if(N.isArray(n.columns)&&isNaN(i)){for(var l=this._beginRow(e,n.rowheight||"auto"),s=0;s<n.columns.length;s++){var r=this._getToolTemplate(n.columns[s],e+"_"+s,void 0,!0),h="auto";void 0!==n.columns[s].columnWidth?h=n.columns[s].columnWidth:void 0!==n.columns[s].width&&(h=n.columns[s].width),l+=this._beginColumn(h),l+="<table cellspacing='0' cellpadding='0' style='width: 100%; white-space: nowrap; border: 0px;'>"+r+"</table>",l+=this._endColumn()}return l+=this._endRow()}if("option"==n.type&&"jqxDropDownList"!=n.component&&isNaN(i)){for(var d=this._beginRow(e,n.rowheight||"auto",n.valign),s=0;s<n.options.length;s++){r=this._getToolTemplate(n,e+"_option_"+s,s,!0);"horizontal"==n.optionslayout?(h=100/Math.max(1,n.options.length)+"%",n.columnwidth&&(h=n.columnwidth),d+=this._beginColumn(h),d+="<table cellspacing='0' cellpadding='0' style='width: 100%; white-space: nowrap; border: 0px;'>"+r+"</table>",d+=this._endColumn()):d+=r}return d+=this._endRow()}var p=n.labelposition,u=n.label;"option"!=n.type||"jqxDropDownList"==n.component||isNaN(i)||(u=n.options[i].label),void 0===u&&(u="");var d="",g=this._getToolLabelStyle(n)+this._getPaddingAndMarginStyle(n,!0),m=this._getToolStyle(n)+this._getPaddingAndMarginStyle(n,!1),c=this._getAlignMargin(n,"align"),v="text-align: left;";"center"==n.labelalign||"middle"==n.labelalign?v="text-align: center":"right"==n.labelalign&&(v="text-align: right");var f="text-align: left;";"center"==n.align||"middle"==n.align?f="text-align: center":"right"==n.align&&(f="text-align: right");var _,b=this._splitLabelToolWidth(n,o),w=u;n.required&&(_="<span class='' style='color:red;'>*</span>",w=n.requiredposition&&"left"==n.requiredposition.toLowerCase()?_+" "+u:u+" "+_);var y="";"boolean"!=n.type&&("option"!=n.type||isNaN(i))||(y+="; cursor: pointer;");var x="<div class='' style='"+g+"'><div style='"+v+y+";' id='label_"+e+"'>"+w+"</div></div>",T="<div style='"+(void 0!==n.info&&"left"!=n.infoposition?"margin-left: -3px;":"margin-right: -3px;")+"' class='"+this.toThemeProperty("jqx-info-icon")+"' title='"+n.info+"'></div>",C="<div style='background: transparent;"+m+"'><div style='width: auto; height: auto; "+c+"' id='"+e+"'></div></div>";return"text"==n.type||"button"==n.type?C="<div style='background: transparent;"+m+f+"'><input style='width: auto; height: auto; "+c+"' id='"+e+"' type='"+n.type+"'/></div>":"password"==n.type&&(C="<div style='background: transparent;"+m+f+"'><input type='password' style='width: auto; height: auto; "+c+"' id='"+e+"'/></div>"),"option"!=n.type||"jqxDropDownList"==n.component||isNaN(i)||(void 0===(h=n.width)&&(h="15px"),b=[n.labelwidth||"auto",h],!n.labelposition||"top"!=n.labelposition&&"bottom"!=n.labelposition||(b=["100%","100%"]),C="<div style='background: transparent;"+m+c+f+"'><div style='width: "+h+"; height: 100%; "+c+f+";' id='"+e+"'></div></div>"),void 0!==n.info&&""!==n.info&&(C="left"==n.infoposition?"<table cellspacing='0' cellpadding='0' style='border: 0px; white-space: nowrap;"+c+"'><tr><td>"+T+"</td><td>"+C+"</td></tr></table>":"<table cellspacing='0' cellpadding='0' style='border: 0px; white-space: nowrap;"+c+"'><tr><td>"+C+"</td><td>"+T+"</td></tr></table>"),"right"==p?(d+=this._beginRow(e,n.rowheight||"auto",n.valign),d+=this._beginColumn(b[1]),d+=C,""!=u&&(d+=this._endColumn(),d+=this._beginColumn(b[0]),d+=x)):"top"==p?(d+=this._beginRow(e,n.rowheight||"auto",n.valign),d+=this._beginColumn(n.columnwidth),""!=u&&(d+=x),d+=C):"bottom"==p?(d+=this._beginRow(e,n.rowheight||"auto",n.valign),d+=this._beginColumn(n.columnwidth),d+=C,""!=u&&(d+=x)):(d+=this._beginRow(e,n.rowheight||"auto",n.valign),""!=u&&(d+=this._beginColumn(b[0]),d+=x,d+=this._endColumn()),d+=this._beginColumn(b[1]),d+=C),d+=this._endColumn(),d+=this._endRow()},_initTools:function(t,e){var i=t||this.template;null==e&&(e="");for(var o=0;o<i.length;o++){var n=i[o];if(N.isArray(n.columns))this._initTools(n.columns,o+"_");else{var a=e+o;switch(n.type){case"color":this._initColorTool(a);break;case"option":"jqxDropDownList"==n.component?this._initOptionToolDropDownList(a):this._initOptionTool(a);break;case"dropdownlist":this._initOptionToolDropDownList(a);break;case"number":this._initNumberTool(a);break;case"boolean":case"checkbox":this._initBooleanTool(a);break;case"text":this._initTextTool(a);break;case"password":this._initPasswordTool(a);break;case"label":this._initLabelTool(a);break;case"date":case"time":case"datetime":this._initDateTimeTool(a);break;case"button":this._initButtonTool(a);break;case"custom":this._initCustomTool(a)}!1===n.visible&&this._showhideComponent(void 0,a,!1),n.theme&&this._setToolTheme(n,a)}}},_setToolTheme:function(t,e){var i=this._getComponentById(e),o=t.theme||this.theme;switch(t.type){case"option":"jqxDropDownList"==t.component&&i.jqxDropDownList("theme",o);break;case"number":i.jqxNumberInput("theme",o);break;case"text":i.jqxInput("theme",o);break;case"password":i.jqxPasswordInput("theme",o)}},_initOptionTool:function(t){for(var e=this,i="el_"+this.element.id+t,o=e._getTool(t),n=0;n<o.options.length;n++){var a=i+"_option_"+n,l=e.host.find("#"+a);0<l.length&&l.jqxRadioButton({width:25,theme:e.theme,groupName:"group_"+t}).on("change",function(t){e._onChangeHandler(t)});var s=e.host.find("#label_"+a);s.data("el",l),s.on("mousedown",function(t){N(this).data("el").jqxRadioButton("toggle")})}},_initOptionToolDropDownList:function(t){var e,i,o=this,n="el_"+this.element.id+t,a=o._getTool(t),l=this.host.find("#"+n),s=[];if(a.options&&N.isArray(a.options))for(var r=0;r<a.options.length;r++)s.push(a.options[r]);a.init?a.init(l):(e=isNaN(parseFloat(a.width))?"auto":a.width,a.width&&-1!=a.width.toString().indexOf("%")&&void 0===a.columnwidth&&(e="100%"),i=isNaN(parseFloat(a.height))?"30px":a.height,l.jqxDropDownList({theme:o.theme,width:e||"auto",autoDropDownHeight:!0,height:i,enableBrowserBoundsDetection:!0,source:s,selectedIndex:0})),l.on("change",function(t){o._onChangeHandler(t)})},_initNumberTool:function(t){var e,i,o=this,n="el_"+this.element.id+t,a=o._getTool(t),l=this.host.find("#"+n);a.init?a.init(l):(e=isNaN(parseFloat(a.width))?"auto":a.width,i=isNaN(parseFloat(a.height))?"30px":a.height,l.jqxNumberInput({theme:o.theme,width:e,height:i,inputMode:"simple"})),l.on("change",function(t){o._onChangeHandler(t)})},_initBooleanTool:function(t){var i=this,o="el_"+this.element.id+t,e=i._getTool(t),n=this.host.find("#"+o);if(e.init)e.init(n);else{var a=isNaN(parseFloat(e.width))?"auto":e.width,l=isNaN(parseFloat(e.height))?"30px":e.height,s=1==e.isThreeState;if(void 0!==e.component&&"jqxCheckBox"!=e.component)return;n.jqxCheckBox({theme:i.theme,width:a,height:l,hasThreeStates:s})}n.on("change",function(t){i._onChangeHandler(t)}),i.host.find("#label_"+o).on("mousedown",function(t){var e=i.host.find("#"+o).val();i.host.find("#"+o).val(!e)})},_initTextTool:function(t){var e,i,o=this,n="el_"+this.element.id+t,a=o._getTool(t),l=this.host.find("#"+n);a.init?a.init(l):(e=isNaN(parseFloat(a.width))?"auto":a.width,i=isNaN(parseFloat(a.height))?"30px":a.height,l.jqxInput({theme:o.theme,width:e,height:i})),l.on("change",function(t){o._onChangeHandler(t)})},_initLabelTool:function(t){var e,i="el_"+this.element.id+t,o=this._getTool(t),n=this.host.find("#"+i);o.render&&N.isFunction(o.render)&&(e=o.render(),n.html(e||""))},_getTool:function(t){var e=t.split("_"),i=this.template[e[0]];return e[1]?N.isArray(i.columns)&&i.columns.length>e[1]?i.columns[e[1]]:void 0:i},_initCustomTool:function(t){var e="el_"+this.element.id+t,i=this._getTool(t),o=this.host.find("#"+e);i.init&&i.init(o)},_initButtonTool:function(t){var e,i,o=this,n="el_"+this.element.id+t,a=o._getTool(t),l=this.host.find("#"+n);a.init?a.init(l):(e=isNaN(parseFloat(a.width))?"auto":a.width,i=isNaN(parseFloat(a.height))?"30px":a.height,l.jqxButton({theme:o.theme,width:e,height:i}),l.val(void 0===a.text?"Button":a.text)),this.host.find("#"+n).on("click",function(t){o._onButtonClick(l,a)})},_initPasswordTool:function(t){var e,i,o=this,n="el_"+this.element.id+t,a=o._getTool(t),l=this.host.find("#"+n);a.init?a.init(l):(e=isNaN(parseFloat(a.width))?"auto":a.width,i=isNaN(parseFloat(a.height))?"25px":a.height,l.jqxPasswordInput({theme:o.theme,width:e,height:i})),l.on("change",function(t){o._onChangeHandler(t)})},_initDateTimeTool:function(t){var e,i,o,n=this,a="el_"+this.element.id+t,l=n._getTool(t),s=this.host.find("#"+a);l.init?l.init(s):(e=isNaN(parseFloat(l.width))?"auto":l.width,i=isNaN(parseFloat(l.height))?"30px":l.height,o=(o=l.formatString)||("time"==l.type?"hh mm ss tt":"date"==l.type?"MM/dd/yyyy":"MM/dd/yyyy hh:mm:ss tt"),s.jqxDateTimeInput({theme:n.theme,width:e,height:i,formatString:o,showTimeButton:"date"!=l.type,showCalendarButton:"time"!=l.type})),s.on("valueChanged",function(t){n._onChangeHandler(t)})},getComponentByName:function(t){if(N.isArray(this.template))for(var e=0;e<this.template.length;e++){if(this.template[e].name==t)return this._getComponentById(e);if(N.isArray(this.template[e].columns))for(var i=0;i<this.template[e].columns.length;i++)if(this.template[e].columns[i].name==t)return this._getComponentById(e+"_"+i)}},_getComponentById:function(t){return this.host.find("#el_"+this.element.id+t)},_getComponentLabelById:function(t){return this.host.find("#label_el_"+t)},hideComponent:function(t){this._showhideComponent(t,void 0,!1)},showComponent:function(t){this._showhideComponent(t,void 0,!0)},_showhideComponent:function(t,e,i){if(N.isArray(this.template)){var o,n="";if(void 0===e)for(var a=0;a<this.template.length;a++){if(this.template[a].name==t){n=a;break}if(N.isArray(this.template[a].columns))for(var l=0;l<this.template[a].length;l++)if(this.template[a].columns[l].name==t){n=a+"_"+l;break}}else n=e;""==n||(o=this.host.find("#rowWrap_el_"+n))&&0!=o.length&&(i?o.show():o.hide())}}})}(jqxBaseFramework);