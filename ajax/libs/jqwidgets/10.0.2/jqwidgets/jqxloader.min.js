!function(i){i.jqx.jqxWidget("jqxLoader","",{}),i.extend(i.jqx._jqxLoader.prototype,{defineInstance:function(){var t={width:200,height:150,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:!1,autoOpen:!1,rtl:!1,events:["create"]};return this===i.jqx._jqxLoader.prototype||i.extend(!0,this,t),t},createInstance:function(t){this._render(!0),this._raiseEvent("0")},render:function(){this._render()},open:function(t,e){var o=this;null!==this.width&&-1!==this.width.toString().indexOf("%")&&o.host.css("width",this.width),null!==this.height&&-1!==this.height.toString().indexOf("%")&&o.host.css("height",this.height),o.host.show(),o.host.css("left",-o.host.width()/2),o.host.css("top",-o.host.height()/2),t&&e&&(o.host.css("left",t),o.host.css("top",e)),o.isModal&&o._modal.show()},close:function(){var t=this;t.host.hide(),t.isModal&&t._modal.hide()},_checkBrowser:function(){var t=this;"msie"===i.jqx.browser.browser&&("7.0"===i.jqx.browser.version?(!1===t.isModal&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")),t.host.css("top",Math.max(0,(i(window).height()-i(t.host).outerHeight())/2+i(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(i(window).width()-i(t.host).outerWidth())/2+i(window).scrollLeft())+"px"),i(window).resize(function(){t.host.css("top",Math.max(0,(i(window).height()-i(t.host).outerHeight())/2+i(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(i(window).width()-i(t.host).outerWidth())/2+i(window).scrollLeft())+"px")}),this.host.css({"margin-top":"0","margin-left":"0"})):"8.0"===i.jqx.browser.version&&!1===t.isModal&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")))},_textPos:function(){var t=this;this._text=t.host.children("div:eq(1)"),this._image&&this._image.css("background-position-y",t.imagePosition),"top"===t.textPosition?(this._text.addClass(t.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-right"))):"bottom"===t.textPosition?(this._text.addClass(t.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-right"))):"left"===t.textPosition?(this._text.addClass(t.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-bottom"))):"right"===t.textPosition&&(this._text.addClass(t.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-bottom")))},refresh:function(t){!0!==t&&this._render(!1)},destroy:function(){this._removeHandlers(),this.host.remove()},propertyChangedHandler:function(t,e,o,s){if(s!==o)switch(e){case"width":t.host.width(s);break;case"height":t.host.height(s);break;case"text":t._text.text(s);break;case"html":t.host.html(s);break;case"textPosition":t._textPos(s);break;case"rtl":!0===s?t._text.addClass(t.toThemeProperty("jqx-loader-rtl")):t._text.removeClass(t.toThemeProperty("jqx-loader-rtl"))}},_raiseEvent:function(t,e){var o=this,s=o.events[t],r=new i.Event(s);r.owner=o,r.args=e;try{var h=o.host.trigger(r)}catch(t){}return h},_render:function(t){var e,o=this;o.host.width(o.width),o.host.height(o.height),!1===o.autoOpen&&o.host.hide(),t&&(null===o.html?(o.host.append('<div class="'+o.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+o.toThemeProperty("jqx-loader-text")+'">'+o.text+"</div>"),o._image=o.host.children("div:eq(0)"),o._text=o.host.children("div:eq(1)")):o.host.html(this.html),!0===o.isModal&&(e=o.host.css("display"),o._modal=i('<div id="'+o.element.id+'Modal" class="'+o.toThemeProperty("jqx-loader-modal")+'" style="display: '+e+';"></div>'),i("body").append(o._modal))),o._checkBrowser(),o._textPos(),o._addClass(),o._removeHandlers(),o._addHandlers()},_addHandlers:function(){var e=this;!0===e.isModal&&e.addHandler(i(document),"keyup.loader"+e.element.id,function(t){27===t.keyCode&&e.close()})},_removeHandlers:function(){this.removeHandler(i(document),"keyup.loader"+this.element.id)},_addClass:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-loader")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl&&t._text.addClass(t.toThemeProperty("jqx-loader-rtl")),i.jqx.browser.msie&&t.host.addClass(this.toThemeProperty("jqx-noshadow")),t.host.addClass(this.toThemeProperty("jqx-rc-t")),t.host.addClass(this.toThemeProperty("jqx-rc-b")),t.host.addClass(this.toThemeProperty("jqx-popup"))}})}(jqxBaseFramework);