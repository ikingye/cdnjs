!function(_e){_e.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),_e.extend(_e.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base&&((this.base.treeGrid=this).base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"});var e={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,aggregatesPosition:"top",rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1};return this===_e.jqx._jqxTreeGrid.prototype||_e.extend(!0,this,e),e},createInstance:function(e){this.theme=this.base.theme},deleteRow:function(e){this.base.deleterowbykey(e)},updateRow:function(e,r){this.base.updaterowbykey(e,r)},setCellValue:function(e,r,t){this.base.setCellValueByKey(e,r,t)},getCellValue:function(e,r){return this.base.getCellValueByKey(e,r)},lockRow:function(e){this.base.lockrowbykey(e)},unlockRow:function(e){this.base.unlockrowbykey(e)},selectRow:function(e){this.base.selectrowbykey(e)},unselectRow:function(e){this.base.unselectrowbykey(e)},ensureRowVisible:function(e){this.base.ensurerowvisiblebykey(e)},beginCellEdit:function(e,r){var t=this.base,o=t.getColumn(r);t.beginroweditbykey(e,o)},beginRowEdit:function(e){this.base.beginroweditbykey(e)},endCellEdit:function(e,r,t){this.base.endroweditbykey(e,t)},endRowEdit:function(e,r){this.base.endroweditbykey(e,r)},_showLoadElement:function(){var e=this.base;"block"==e.host.css("display")&&e.autoShowLoadElement&&(_e(e.dataloadelement).css("visibility","visible"),_e(e.dataloadelement).css("display","block"),e.dataloadelement.width(e.host.width()),e.dataloadelement.height(e.host.height()))},_hideLoadElement:function(){var e=this.base;"block"==e.host.css("display")&&e.autoShowLoadElement&&(_e(e.dataloadelement).css("visibility","hidden"),_e(e.dataloadelement).css("display","none"),e.dataloadelement.width(e.host.width()),e.dataloadelement.height(e.host.height()))},getKey:function(e){if(e)return e.uid},getRows:function(){var e=this.base;return e.source.hierarchy&&0!=e.source.hierarchy.length?e.source.hierarchy:e.source.records},getCheckedRows:function(){var a=this.base,l=a._names(),n=new Array,s=function(e,r){if(r)for(var t,o,i=0;i<r.length;i++){r[i]&&(t=_e.extend({},r[i]),((o=a.rowinfo[r[i].uid])&&o[l.checked]||t[l.checked])&&e.push(t),s(n,r[i].records))}};return s(n,a.dataViewRecords),n},getRow:function(o){var e=this.base,r=e.source.records;if(e.source.hierarchy){var i=function(e){for(var r=0;r<e.length;r++)if(e[r]){if(e[r].uid==o)return e[r];if(e[r].records){var t=i(e[r].records);if(t)return t}}};return i(e.source.hierarchy)}for(var t=0;t<r.length;t++)if(r[t]&&r[t].uid==o)return r[t]},_renderrows:function(){var n=this.base,t=this;if(!n._loading&&!n._updating){var s=n._names();0!==n.source.hierarchy.length||n.loadingFailed||this.virtualModeCreateRecords&&(n._loading=!0,this.virtualModeCreateRecords(null,function(e){if(!1===e||e&&0==e.length)return n._loading=!1,n.loadingFailed=!0,n.source.hierarchy=new Array,t._hideLoadElement(),n._renderrows(),n._updateScrollbars(),void n._arrange();for(var r=0;r<e.length;r++)e[r].level=0,t.virtualModeRecordCreating(e[r]),n.rowsByKey[e[r].uid]=e[r];n.source.hierarchy=e,n.source._source.hierarchy||(n.source._source.hierarchy={}),n._loading=!1,t._hideLoadElement(),n._renderrows(),n._updateScrollbars(),n._arrange()}),this._showLoadElement()),n.rendering&&n.rendering();var e=0;n.table[0].rows=new Array;var r=n.toTP("jqx-cell")+" "+n.toTP("jqx-widget-content")+" "+n.toTP("jqx-item");n.rtl&&(r+=" "+n.toTP("jqx-cell-rtl"));var o=n.columns.records.length,i=_e.jqx.browser.msie&&_e.jqx.browser.version<8;i&&n.host.attr("hideFocus","true");var a,l=new Array,d=function(e,r){for(var t=0;t<e.length;t++){var o=e[t];if(o){var i=n.rowinfo[o.uid]?n.rowinfo[o.uid].expanded:o.expanded;if(0==n.dataview.filters.length&&(o._visible=!0),!1!==o._visible)if(i||o[s.leaf]){if(r.push(o),o.records&&0<o.records.length)for(var a=d(o.records,new Array),l=0;l<a.length;l++)r.push(a[l])}else r.push(o)}}return r},c=0===n.source.hierarchy.length?n.source.records:n.source.hierarchy;c=n.dataview.evaluate(c),n.dataViewRecords=c,this.showSubAggregates&&(a=function(e,r){0!=e&&0<r.length&&(r[r.length-1]?r[r.length-1].aggregate||r.push({_visible:!0,level:e,siblings:r,aggregate:!0,leaf:!0}):_e.jqx.browser.msie&&_e.jqx.browser.version<9&&r[r.length-2]&&(r[r.length-2].aggregate||r.push({_visible:!0,level:e,siblings:r,aggregate:!0,leaf:!0})));for(var t=0;t<r.length;t++)r[t]&&r[t].records&&a(e+1,r[t].records)})(0,c);function h(e){for(var r=0,t=new Array,o=0;o<e.length;o++){var i=e[o];if(0==i[s.level]&&r++,r>n.dataview.pagesize*n.dataview.pagenum&&r<=n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize&&t.push(i),r>n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize)break}return t}var g,w;0===n.source.hierarchy.length?("all"==n.dataview.pagesize||!n.pageable||n.serverProcessing?(w=c,n.pageable&&n.serverProcessing&&c.length>n.dataview.pagesize&&(w=c.slice(n.dataview.pagesize*n.dataview.pagenum,n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize))):w=c.slice(n.dataview.pagesize*n.dataview.pagenum,n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize),l=w):(c=d.call(n,c,new Array),"all"!=n.dataview.pagesize&&n.pageable?(w=c.slice(n.dataview.pagesize*n.dataview.pagenum,n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize),"root"==this.pageSizeMode&&(w=h(c))):w=c,l=w,g=n.dataview.pagenum,n.updatepagerdetails(),n.dataview.pagenum!=g&&("all"!=n.dataview.pagesize&&n.pageable?(w=c.slice(n.dataview.pagesize*n.dataview.pagenum,n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize),"root"==this.pageSizeMode&&(w=h(c))):w=c,l=w));var p=(n.renderedRecords=l).length,u=n.tableZIndex,f=0,v=0;if(i)for(var x=0;x<o;x++){(G=(y=n.columns.records[x]).width)<y.minwidth&&(G=y.minwidth),G>y.maxwidth&&(G=y.maxwidth);var b=_e('<table><tr><td role="gridcell" style="max-width: '+G+"px; width:"+G+'px;" class="'+r+'"></td></tr></table>');_e(document.body).append(b);var m=b.find("td"),f=1+parseInt(m.css("padding-left"))+parseInt(m.css("padding-right"));b.remove();break}for(var y,_=n.rtl?" "+n.toTP("jqx-grid-table-rtl"):"",j="<table cellspacing='0' class='"+n.toTP("jqx-grid-table")+_+"' id='table"+n.element.id+"'><colgroup>",q="<table cellspacing='0' class='"+n.toTP("jqx-grid-table")+_+"' id='pinnedtable"+n.element.id+"'><colgroup>",k=null,x=0;x<o;x++){(y=n.columns.records[x]).hidden||((G=(k=y).width)<y.minwidth&&(G=y.minwidth),G>y.maxwidth&&(G=y.maxwidth),(G-=f)<0&&(G=0),i?(W=G,0==x&&W++,q+="<col style='max-width: "+G+"px; width: "+W+"px;'>",j+="<col style='max-width: "+G+"px; width: "+W+"px;'>"):(q+="<col style='max-width: "+G+"px; width: "+G+"px;'>",j+="<col style='max-width: "+G+"px; width: "+G+"px;'>"),v+=G)}j+="</colgroup>",q+="</colgroup>";var R,T,P,z=n._hiddencolumns=!1;0===p&&(E='<tr role="row">',R=n.host.height(),n.pageable&&(R-=n.pagerHeight,"both"===n.pagerPosition&&(R-=n.pagerHeight)),R-=n.columnsHeight,n.filterable&&(T=n.filter.find(".filterrow"),P=1,0<n.filter.find(".filterrow-hidden").length&&(P=0),R-=n.filterHeight+n.filterHeight*T.length*P),n.showstatusbar&&(R-=n.statusBarHeight),n.showAggregates&&(R-=n.aggregatesHeight),R<25&&(R=25),"hidden"!=n.hScrollBar[0].style.visibility&&(R-=n.hScrollBar.outerHeight()),"auto"!==n.height&&null!==n.height&&!n.autoheight||(R=100),G=n.host.width()+2,b='<td colspan="'+n.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+R+"px; height: "+R+"px;  min-width:"+v+"px; max-width:"+v+"px; width:"+v+"px;",r=n.toTP("jqx-cell")+" "+n.toTP("jqx-grid-cell")+" "+n.toTP("jqx-item"),b+='" class="'+(r+=" "+n.toTP("jqx-center-align"))+'">',n._loading||(b+=n.gridlocalization.emptydatastring),j+=E+=b+="</td>",q+=E,n.table[0].style.width=v+2+"px",e=v);for(var S,B,C=n.source._source.hierarchy&&n.source._source.hierarchy.groupingDataFields?n.source._source.hierarchy.groupingDataFields.length:0,D=0;D<l.length;D++){var L=l[D],M=L.uid;0<C&&L[s.level]<C&&(M=L.uid),void 0===L.uid&&(L.uid=n.dataview.generatekey());var E='<tr data-key="'+M+'" role="row" id="row'+D+n.element.id+'">',F='<tr data-key="'+M+'" role="row" id="row'+D+n.element.id+'">';L.aggregate&&(E='<tr data-role="summaryrow" role="row" id="row'+D+n.element.id+'">',F='<tr data-role="summaryrow" role="row" id="row'+D+n.element.id+'">');var H,A=0;n.rowinfo[M]?(void 0===n.rowinfo[M].checked&&(n.rowinfo[M].checked=L[s.checked]),void 0===n.rowinfo[M].icon&&(n.rowinfo[M].icon=L[s.icon]),void 0===n.rowinfo[M].aggregate&&(n.rowinfo[M].aggregate=L[s.aggregate]),void 0===n.rowinfo[M].row&&(n.rowinfo[M].row=L),void 0===n.rowinfo[M].leaf&&(n.rowinfo[M].leaf=L[s.leaf]),void 0===n.rowinfo[M].expanded&&(n.rowinfo[M].expanded=L[s.expanded])):(void 0===(H=L[s.checked])&&(H=!1),n.rowinfo[M]={selected:L[s.selected],checked:H,icon:L[s.icon],aggregate:L.aggregate,row:L,leaf:L[s.leaf],expanded:L[s.expanded]});var I=n.rowinfo[M];(I.row=L).originalRecord&&(I.originalRecord=L.originalRecord);for(var U,K,V=0,x=0;x<o;x++){var G,N=n.columns.records[x];(N.pinned||n.rtl&&n.columns.records[o-1].pinned)&&(z=!0),(G=N.width)<N.minwidth&&(G=N.minwidth),G>N.maxwidth&&(G=N.maxwidth),(G-=f)<0&&(G=0);var r=n.toTP("jqx-cell")+" "+n.toTP("jqx-grid-cell")+" "+n.toTP("jqx-item");N.pinned&&(r+=" "+n.toTP("jqx-grid-cell-pinned")),n.sortcolumn===N.displayfield&&(r+=" "+n.toTP("jqx-grid-cell-sort")),n.altRows&&D%2!=0&&(r+=" "+n.toTP("jqx-grid-cell-alt")),n.rtl&&(r+=" "+n.toTP("jqx-cell-rtl"));var O="";if(0<C&&!i&&!L.aggregate&&L[s.level]<C){O+=' colspan="'+o+'"';for(var W=0,J=0;J<o;J++){var Z,Q=n.columns.records[J];Q.hidden||((Z=Q.width)<Q.minwidth&&(G=Q.minwidth),Z>Q.maxwidth&&(G=Q.maxwidth),(Z-=f)<0&&(Z=0),W+=Z)}G=W}var b='<td role="gridcell"'+O+' style="max-width:'+G+"px; width:"+G+"px;",X='<td role="gridcell"'+O+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+G+"px; width:"+G+"px;";x==o-1&&1==o&&(b+="border-right-color: transparent;",X+="border-right-color: transparent;"),0<C&&L[s.level]<C&&!L.aggregate?n.rtl&&(r+=" "+n.toTP("jqx-right-align")):"left"!=N.cellsalign&&("right"===N.cellsalign?r+=" "+n.toTP("jqx-right-align"):r+=" "+n.toTP("jqx-center-align")),I&&(I.selected&&n.editKey!==M&&"none"!==n.selectionMode&&(r+=" "+n.toTP("jqx-grid-cell-selected"),r+=" "+n.toTP("jqx-fill-state-pressed")),I.locked&&(r+=" "+n.toTP("jqx-grid-cell-locked")),I.aggregate&&(r+=" "+n.toTP("jqx-grid-cell-pinned"))),N.hidden?(b+="display: none;",X+="display: none;",n._hiddencolumns=!0):(0!=V||n.rtl?(b+="border-right-width: 0px;",X+="border-right-width: 0px;"):(b+="border-left-width: 0px;",X+="border-left-width: 0px;"),V++,A+=f+G),N.pinned&&(b+="pointer-events: auto;",X+="pointer-events: auto;");var Y="";if(0!=n.source.hierarchy.length&&L.records&&(!L.records||0!==L.records.length)||this.virtualModeCreateRecords||(I.leaf=!0),L.records&&0<L.records.length&&(I.leaf=!1),0<n.dataview.filters.length&&L.records&&0<L.records.length){for(var $=!1,ee=0;ee<L.records.length;ee++)if(!1!==L.records[ee]._visible&&null==L.records[ee].aggregate){$=!0;break}I.leaf=!$}I&&!I.leaf&&(I.expanded?(Y+=n.toTP("jqx-tree-grid-expand-button")+" ",n.rtl?Y+=n.toTP("jqx-grid-group-expand-rtl"):Y+=n.toTP("jqx-grid-group-expand"),Y+=" "+n.toTP("jqx-icon-arrow-down")):(Y+=n.toTP("jqx-tree-grid-collapse-button")+" ",n.rtl?(Y+=n.toTP("jqx-grid-group-collapse-rtl"),Y+=" "+n.toTP("jqx-icon-arrow-left")):(Y+=n.toTP("jqx-grid-group-collapse"),Y+=" "+n.toTP("jqx-icon-arrow-right")))),n.autoRowHeight&&1!==V&&(!n.autoRowHeight||N.autoCellHeight)||(r+=" "+n.toTP("jqx-grid-cell-nowrap"));var re,te,oe,ie,ae,le=n._getcellvalue(N,I.row);if(0<C&&!L.aggregate&&L[s.level]<C&&(le=L.label),""!=N.cellsFormat&&_e.jqx.dataFormat&&(_e.jqx.dataFormat.isDate(le)?le=_e.jqx.dataFormat.formatdate(le,N.cellsFormat,n.gridlocalization):(_e.jqx.dataFormat.isNumber(le)||!isNaN(parseFloat(le))&&isFinite(le))&&(le=_e.jqx.dataFormat.formatnumber(le,N.cellsFormat,n.gridlocalization))),""!=N.cellclassname&&N.cellclassname&&("string"==typeof N.cellclassname?r+=" "+N.cellclassname:(re=N.cellclassname(D,N.datafield,n._getcellvalue(N,I.row),I.row,le))&&(r+=" "+re)),""==N.cellsRenderer||!N.cellsRenderer||void 0!==(te=N.cellsRenderer(M,N.datafield,n._getcellvalue(N,I.row),I.row,le))&&(le=te),I.aggregate&&N.aggregates&&(oe=L.siblings.slice(0,L.siblings.length-1),ie=n._calculateaggregate(N,null,!0,oe),L[N.displayfield]="",ie?N.aggregatesRenderer?ie&&(le=N.aggregatesRenderer(ie[N.datafield],N,null,n.getcolumnaggregateddata(N.datafield,N.aggregates,!1,oe),"subAggregates"),ae=Object.keys(ie[N.datafield]),L[N.displayfield]+=name+":"+ie[N.datafield][ae[0]]+"\n"):(le="",L[N.displayfield]="",_e.each(ie,function(){for(var e in this){var r=e,t='<div style="position: relative; margin: 0px; overflow: hidden;">'+(r=n._getaggregatename(r))+":"+this[e]+"</div>";le+=t,L[N.displayfield]+=r+":"+this[e]+"\n"}})):le=""),1===V&&!n.rtl||N==k&&n.rtl||0<C&&L[s.level]<C){for(var ne="",se=n.toThemeProperty("jqx-tree-grid-indent"),de=I.leaf?1:0,ce=0;ce<L[s.level]+de;ce++)ne+="<span class='"+se+"'></span>";var he,ge,we,pe,ue,fe,ve="<span class='"+Y+"'></span>",xe="",be="";this.checkboxes&&!L.aggregate&&(he=n.toThemeProperty("jqx-tree-grid-checkbox")+" "+se+" "+n.toThemeProperty("jqx-checkbox-default")+" "+n.toThemeProperty("jqx-fill-state-normal")+" "+n.toThemeProperty("jqx-rc-all"),ge=!0,_e.isFunction(this.checkboxes)&&null==(ge=this.checkboxes(M,L))&&(ge=!1),ge&&(I?(void 0===(we=I.checked)&&(we=!1),0==this.hierarchicalCheckboxes&&null===we&&(we=!1),xe+=we?"<span checked='true' class='"+he+"'><div class='"+n.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+n.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":!1===we?"<span checked='undefined' class='"+he+"'></span>":"<span class='"+he+"'><div class='"+n.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+n.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"):xe+="<span class='"+he+"'></span>")),this.icons&&!L.aggregate&&(pe=n.toThemeProperty("jqx-tree-grid-icon")+" "+se,n.rtl&&(pe=n.toThemeProperty("jqx-tree-grid-icon")+" "+n.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+se),ue=n.toThemeProperty("jqx-tree-grid-icon-size")+" "+se,fe=I.icon,_e.isFunction(this.icons)&&(I.icon=this.icons(M,L),I.icon&&(fe=!0)),fe&&(I.icon?be+="<span class='"+pe+"'><img class='"+ue+"' src='"+I.icon+"'/></span>":be+="<span class='"+pe+"'></span>"));var me=n.autoRowHeight&&1===V&&N.autoCellHeight?" "+n.toTP("jqx-grid-cell-wrap"):"",ye=ne+ve+xe+be+"<span class='"+n.toThemeProperty("jqx-tree-grid-title")+me+"'>"+le+"</span>";le=n.rtl?"<span class='"+n.toThemeProperty("jqx-tree-grid-title")+me+"'>"+le+"</span>"+be+xe+ve+ne:ye}if(0<C&&i&&C<=x&&L[s.level]<C&&(b+="padding-left: 5px; border-left-width: 0px;",X+="padding-left: 5px; border-left-width: 0px;",le="<span style='visibility: hidden;'>-</span>"),b+='" class="'+r+'">',b+=le,b+="</td>",X+='" class="'+r+'">',X+=le,X+="</td>",N.pinned?(F+=b,E+=b):(E+=b,z&&(F+=X)),0<C&&!i&&L[s.level]<C&&!L.aggregate)break}0==e&&(n.table[0].style.width=A+2+"px",e=A),j+=E+="</tr>",q+=F+="</tr>",n.rowDetails&&!L.aggregate&&this.rowDetailsRenderer&&(U='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+G+"px; width:"+G+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+n.columns.records.length+'" role="gridcell"',r=n.toTP("jqx-cell")+" "+n.toTP("jqx-grid-cell")+" "+n.toTP("jqx-item"),r+=" "+n.toTP("jqx-details"),r+=" "+n.toTP("jqx-reset"),(K=this.rowDetailsRenderer(M,L))&&(j+=U+='" class="'+r+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+K+"</div></div></td></tr>",q+=U))}j+="</table>",q+="</table>",z?(n.WinJS?MSApp.execUnsafeLocalFunction(function(){n.table.html(q+j)}):n.table[0].innerHTML=q+j,S=n.table.find("#table"+n.element.id),(B=n.table.find("#pinnedtable"+n.element.id)).css("float","left"),B.css("pointer-events","none"),S.css("float","left"),B[0].style.position="absolute",S[0].style.position="relative",S[0].style.zIndex=u-10,B[0].style.zIndex=u+10,n._table=S,n._table[0].style.left="0px",n._pinnedTable=B,i&&(B[0].style.left="0px"),n._table[0].style.width=e+"px",n._pinnedTable[0].style.width=e+"px",n.rtl&&n._haspinned&&(n._pinnedTable[0].style.left=3-e+parseInt(n.element.style.width)+"px")):(n.WinJS?MSApp.execUnsafeLocalFunction(function(){n.table.html(j)}):n.table[0].innerHTML=j,J=n.table.find("#table"+n.element.id),n._table=J,_e.jqx.browser.msie&&_e.jqx.browser.version<10&&(n._table[0].style.width=e+"px"),0===p&&(n._table[0].style.width=2+e+"px")),0===p&&(n._table[0].style.tableLayout="auto",n._pinnedTable&&(n._pinnedTable[0].style.tableLayout="auto")),n.showAggregates&&n._updatecolumnsaggregates(),n._loading&&0==p&&(n._arrange(),this._showLoadElement()),n.rendered&&n.rendered()}},propertyChangedHandler:function(e,r,t,o){if(null!=e.isInitialized&&0!=e.isInitialized){var i,a,l=e.base;if("pageSizeMode"==r||"hierarchicalCheckboxes"==r)e._renderrows();else if("filterable"==r)l._render();else if("height"===r)l.host.height(e.height),l.host.width(e.width),l._updatesize(!1,!0);else if("width"===r)l.host.height(e.height),l.host.width(e.width),l._updatesize(!0,!1);else if("source"===r)l.updateBoundData();else if("columns"===r||"columnGroups"===r)l._columns=null,l._render();else if("rtl"===r)l.content.css("left",""),e.columns=e._columns,l.vScrollBar.jqxScrollBar({rtl:o}),l.hScrollBar.jqxScrollBar({rtl:o}),l._render();else if("pagerMode"===r)e.pagerMode=o,l._initpager();else if("pageSizeOptions"==r){l._initpager();for(var n=!1,s=0;s<o.length;s++)if(parseInt(o[s])==e.pageSize){n=!0;break}n||_e.jqx.set(e,[{pageSize:o[0]}])}else if("pageSize"==r){var d=l.dataview.pagenum*l.dataview.pagesize;l.dataview.pagesize=l.pageSize;var c=Math.floor(d/l.dataview.pagesize);c===l.dataview.pagenum&&parseInt(o)===parseInt(t)||(e._raiseEvent("pageSizeChanged",{pagenum:o,oldpageSize:t,pageSize:l.dataview.pagesize}),e.goToPage(c)||l.refresh())}else if("pagerPosition"===r)l.refresh();else if("selectionMode"===r)l.selectionMode=o.toLowerCase();else if("touchmode"==r)l.touchDevice=null,l._removeHandlers(),l.touchDevice=null,l.vScrollBar.jqxScrollBar({touchMode:o}),l.hScrollBar.jqxScrollBar({touchMode:o}),l._updateTouchScrolling(),l._arrange(),l._updatecolumnwidths(),l._renderrows(),l._addHandlers();else{if("enableHover"==r)return;"disabled"==r?(o?l.base.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):l.base.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),l.pageable&&(l.pagernexttop&&(l.pagernexttop.jqxButton({disabled:o}),l.pagerprevioustop.jqxButton({disabled:o}),l.pagernextbottom.jqxButton({disabled:o}),l.pagerpreviousbottom.jqxButton({disabled:o}),l.pagerfirsttop.jqxButton({disabled:o}),l.pagerfirstbottom.jqxButton({disabled:o}),l.pagerlasttop.jqxButton({disabled:o}),l.pagerlastbottom.jqxButton({disabled:o}),l.pagershowrowscombotop.jqxDropDownList&&"advanced"==l.pagerMode&&(l.pagershowrowscombotop.jqxDropDownList({disabled:!1}),l.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),l.base.host.find(".jqx-grid-pager-number").css("cursor",o?"default":"pointer")),l.base.host.find(".jqx-grid-group-collapse").css("cursor",o?"default":"pointer"),l.base.host.find(".jqx-grid-group-expand").css("cursor",o?"default":"pointer")):"columnsHeight"==r?l._render():("theme"==r&&(i=o,l.theme=o,_e.jqx.utilities.setTheme(t,o,l.host),l.vScrollBar.jqxScrollBar({theme:i}),l.hScrollBar.jqxScrollBar({theme:i}),l.pageable&&l.pagernexttop&&(l.pagernexttop.jqxButton({theme:i}),l.pagerprevioustop.jqxButton({theme:i}),l.pagernextbottom.jqxButton({theme:i}),l.pagerpreviousbottom.jqxButton({theme:i}),l.pagerfirsttop.jqxButton({theme:i}),l.pagerfirstbottom.jqxButton({theme:i}),l.pagerlasttop.jqxButton({theme:i}),l.pagerlastbottom.jqxButton({theme:i}),l.pagershowrowscombotop.jqxDropDownList&&"advanced"==l.pagerMode&&(l.pagershowrowscombotop.jqxDropDownList({theme:i}),l.pagershowrowscombobottom.jqxDropDownList({theme:i}))),l.filterable&&(0<(a=_e(".filterconditions")).length&&a.jqxDropDownList({theme:i}),l.filtercolumnsList&&l.filtercolumnsList.jqxDropDownList({theme:i}))),l.refresh())}}},checkRow:function(e,r,t){var o,i,a=this.base,l=a._names();a._loading||((o=a.rowinfo[e])?(o.checked=!0,o.row[l.checked]=!0,o.originalRecord&&(o.originalRecord[l.checked]=!0),null==t&&this.hierarchicalCheckboxes&&this.checkRows(o.row,o.row),!1!==r&&a._renderrows(),a._raiseEvent("rowCheck",{key:e,row:o.row})):(i=this.getRow(e))&&(a.rowinfo[e]={row:i,checked:!0},a.rowinfo[e].row[l.checked]=!0,i.originalRecord&&(a.rowinfo[e].originalRecord=i.originalRecord),a._raiseEvent("rowCheck",{key:e,row:i}),null==t&&this.hierarchicalCheckboxes&&this.checkRows(i,i),!1!==r&&a._renderrows()))},checkRows:function(e,r){function t(e){var t=new Array,o=function(e){for(var r=0;r<e.length;r++)t.push(e[r]),e[r]&&e[r].records&&o(e[r].records)};return e.records&&o(e.records),t}var o,i,a,l,n,s,d=this.base,c=this,h=d._names();null!=e?(i=o=0,a=function(e){for(var r,t=0;t<e.length;t++){e[t]&&(void 0===(r=e[t][h.checked])&&(r=!1),0!=r&&(null==e[t][h.checked]&&0,e[t].records&&a(e[t].records),o++),i++)}},e.records&&a(e.records),e!=r?o==i?this.checkRow(e.uid,!1,"tree"):0<o?this.indeterminateRow(e.uid,!1,"tree"):this.uncheckRow(e.uid,!1,"tree"):(n=r[h.checked],s=t(r),_e.each(s,function(){!0===n?c.checkRow(this.uid,!1,"tree"):!1===n?c.uncheckRow(this.uid,!1,"tree"):c.indeterminateRow(this.uid,!1,"tree")})),l=e[h.parent]?e[h.parent]:null,this.checkRows(l,r)):(n=r[h.checked],s=t(r),_e.each(s,function(){!0===n?c.checkRow(this.uid,!1,"tree"):!1===n?c.uncheckRow(this.uid,!1,"tree"):c.indeterminateRow(this.uid,!1,"tree")}))},indeterminateRow:function(e,r,t){var o,i,a=this.base,l=a._names();a._loading||((o=a.rowinfo[e])?(o.checked=null,o.row[l.checked]=null,o.originalRecord&&(o.originalRecord[l.checked]=null),null==t&&this.hierarchicalCheckboxes&&this.checkRows(o.row,o.row),!1!==r&&a._renderrows()):(i=this.getRow(e))&&(a.rowinfo[e]={row:i,checked:null},a.rowinfo[e].row[l.checked]=null,i.originalRecord&&(a.rowinfo[e].originalRecord=i.originalRecord),null==t&&this.hierarchicalCheckboxes&&this.checkRows(i,i),!1!==r&&a._renderrows()))},uncheckRow:function(e,r,t){var o,i,a=this.base,l=a._names();a._loading||((o=a.rowinfo[e])?(o.checked=!1,o.row[l.checked]=!1,o.originalRecord&&(o.originalRecord[l.checked]=!1),null==t&&this.hierarchicalCheckboxes&&this.checkRows(o.row,o.row),!1!==r&&a._renderrows(),a._raiseEvent("rowUncheck",{key:e,row:o.row})):(i=this.getRow(e))&&(a.rowinfo[e]={row:i,checked:!1},a.rowinfo[e].row[l.checked]=!1,i.originalRecord&&(a.rowinfo[e].originalRecord=i.originalRecord),a._raiseEvent("rowUncheck",{key:e,row:i}),null==t&&this.hierarchicalCheckboxes&&this.checkRows(i,i),!1!==r&&a._renderrows()))},expandRows:function(e){var r=this;if(e)if(r.virtualModeCreateRecords)_e.each(e,function(){var e=this;r.base._loading=!1,r.expandRow(e.uid,function(){r.base._loading=!1,r.expandRows(e.records)})});else for(var t=0;t<e.length;t++){var o=e[t];r.expandRow(o.uid),r.expandRows(o.records)}},collapseRows:function(e){if(e)for(var r=0;r<e.length;r++)this.collapseRow(e[r].uid),this.collapseRows(e[r].records)},expandAll:function(){var e=this.base;e.beginUpdate(),this.expandRows(this.getRows()),e.endUpdate()},collapseAll:function(){var e=this.base;e.beginUpdate(),this.collapseRows(this.getRows()),e.endUpdate()},expandRow:function(e,i){var a=this.base;if(!a._loading){var r,t,o,l=a._names(),n=this,s=a.rowinfo[e];if(s||(r=this.getRow(e))&&(a.rowinfo[e]={row:r},r.originalRecord&&(a.rowinfo[e].originalRecord=r.originalRecord),s=a.rowinfo[e]),s){if(s.expanded)return void(s.row[l.expanded]=!0);if(s.expanded=!0,s.row[l.expanded]=!0,s.originalRecord&&(s.originalRecord[l.expanded]=!0),this.virtualModeCreateRecords&&!s.row._loadedOnDemand){if(!s.row[l.leaf])return a._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(s.row,function(e){if(!(s.row._loadedOnDemand=!0)===e)return a._loading=!1,n._hideLoadElement(),s.leaf=!0,s.row[l.leaf]=!0,a._renderrows(),void(i&&i());for(var r=0;r<e.length;r++){if(e[r][l.level]=s.row[l.level]+1,e[r][l.parent]=s.row,a.rowsByKey[e[r].uid])throw a._loading=!1,n._hideLoadElement(),s.leaf=!0,s.row[l.leaf]=!0,a._renderrows(),i&&i(),new Error("Please, check whether you Add Records with unique ID/Key. ");a.rowsByKey[e[r].uid]=e[r],n.virtualModeRecordCreating(e[r])}s.row.records?s.row.records=s.row.records.concat(e):s.row.records=e,(!e||e&&0==e.length)&&(s.leaf=!0,s.row[l.leaf]=!0),s.originalRecord&&(s.originalRecord.records=e,s.originalRecord[l.expanded]=!0,0==e.length&&(s.originalRecord[l.leaf]=!0)),a._loading=!1,n._hideLoadElement();var t=a.vScrollBar.css("visibility");a._renderrows(),a._updateScrollbars();var o=t!=a.vScrollBar.css("visibility");("auto"===a.height||null===a.height||a.autoheight||o)&&a._arrange(),a._renderhorizontalscroll(),i&&i()})}a.updating()||(t=a.vScrollBar.css("visibility"),a._renderrows(),a._updateScrollbars(),o=t!=a.vScrollBar.css("visibility"),("auto"===a.height||null===a.height||a.autoheight||o)&&a._arrange(),a._renderhorizontalscroll(),a._raiseEvent("rowExpand",{row:s.row,key:e}))}}},collapseRow:function(e){var r=this.base,t=r._names();if(!r._loading){var o,i,a,l=r.rowinfo[e];if(l||(o=this.getRow(e))&&(r.rowinfo[e]={row:o},o.originalRecord&&(r.rowinfo[e].originalRecord=o.originalRecord),l=r.rowinfo[e]),l){if(!l.expanded)return void(l.row[t.expanded]=!1);l.expanded=!1,l.row[t.expanded]=!1,l.originalRecord&&(l.originalRecord[t.expanded]=!1),r.updating()||(i=r.vScrollBar.css("visibility"),r._renderrows(),r._updateScrollbars(),a=i!=r.vScrollBar.css("visibility"),("auto"===r.height||null===r.height||r.autoheight||a)&&r._arrange(),r._renderhorizontalscroll(),r._raiseEvent("rowCollapse",{row:l.row,key:e}))}}}})}(jqxBaseFramework);