!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("shifty",[],n):"object"==typeof exports?exports.shifty=n():t.shifty=n()}(global,function(){return r={},i.m=e=[function(t,n,e){"use strict";e.r(n),e.d(n,"processTweens",function(){return ut}),e.d(n,"Tweenable",function(){return ot}),e.d(n,"tween",function(){return at}),e.d(n,"interpolate",function(){return Rt}),e.d(n,"Scene",function(){return Wt}),e.d(n,"setBezierFunction",function(){return Ht}),e.d(n,"unsetBezierFunction",function(){return Jt});var r={};e.r(r),e.d(r,"linear",function(){return u}),e.d(r,"easeInQuad",function(){return o}),e.d(r,"easeOutQuad",function(){return a}),e.d(r,"easeInOutQuad",function(){return c}),e.d(r,"easeInCubic",function(){return f}),e.d(r,"easeOutCubic",function(){return s}),e.d(r,"easeInOutCubic",function(){return l}),e.d(r,"easeInQuart",function(){return h}),e.d(r,"easeOutQuart",function(){return p}),e.d(r,"easeInOutQuart",function(){return d}),e.d(r,"easeInQuint",function(){return y}),e.d(r,"easeOutQuint",function(){return v}),e.d(r,"easeInOutQuint",function(){return m}),e.d(r,"easeInSine",function(){return g}),e.d(r,"easeOutSine",function(){return _}),e.d(r,"easeInOutSine",function(){return b}),e.d(r,"easeInExpo",function(){return w}),e.d(r,"easeOutExpo",function(){return O}),e.d(r,"easeInOutExpo",function(){return S}),e.d(r,"easeInCirc",function(){return j}),e.d(r,"easeOutCirc",function(){return M}),e.d(r,"easeInOutCirc",function(){return P}),e.d(r,"easeOutBounce",function(){return k}),e.d(r,"easeInBack",function(){return A}),e.d(r,"easeOutBack",function(){return E}),e.d(r,"easeInOutBack",function(){return I}),e.d(r,"elastic",function(){return x}),e.d(r,"swingFromTo",function(){return T}),e.d(r,"swingFrom",function(){return F}),e.d(r,"swingTo",function(){return C}),e.d(r,"bounce",function(){return D}),e.d(r,"bouncePast",function(){return q}),e.d(r,"easeFromTo",function(){return Q}),e.d(r,"easeFrom",function(){return B}),e.d(r,"easeTo",function(){return N});var i={};e.r(i),e.d(i,"doesApply",function(){return Tt}),e.d(i,"tweenCreated",function(){return Ft}),e.d(i,"beforeTween",function(){return Ct}),e.d(i,"afterTween",function(){return Dt});var u=function(t){return t},o=function(t){return Math.pow(t,2)},a=function(t){return-(Math.pow(t-1,2)-1)},c=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},f=function(t){return Math.pow(t,3)},s=function(t){return Math.pow(t-1,3)+1},l=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},h=function(t){return Math.pow(t,4)},p=function(t){return-(Math.pow(t-1,4)-1)},d=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},y=function(t){return Math.pow(t,5)},v=function(t){return Math.pow(t-1,5)+1},m=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},g=function(t){return 1-Math.cos(t*(Math.PI/2))},_=function(t){return Math.sin(t*(Math.PI/2))},b=function(t){return-.5*(Math.cos(Math.PI*t)-1)},w=function(t){return 0===t?0:Math.pow(2,10*(t-1))},O=function(t){return 1===t?1:1-Math.pow(2,-10*t)},S=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},j=function(t){return-(Math.sqrt(1-t*t)-1)},M=function(t){return Math.sqrt(1-Math.pow(t-1,2))},P=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},k=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},A=function(t){return t*t*(2.70158*t-1.70158)},E=function(t){return--t*t*(2.70158*t+1.70158)+1},I=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},x=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},T=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},F=function(t){return t*t*(2.70158*t-1.70158)},C=function(t){return--t*t*(2.70158*t+1.70158)+1},D=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},q=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},Q=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},B=function(t){return Math.pow(t,4)},N=function(t){return Math.pow(t,.25)};function R(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return z(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return z(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,o=!0,a=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,u=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw u}}}}function z(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function U(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function V(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?L(Object(e),!0).forEach(function(t){W(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):L(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function W(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function G(){}function H(t,n,e,r,i,u,o){var a=t<u?0:(t-u)/i;for(var c in n){var f=o[c],s=f.call?f:it[f],l=e[c];n[c]=l+(r[c]-l)*s(a)}return n}function J(t,n){var e=t._attachment,r=t._currentState,i=t._delay,u=t._easing,o=t._originalState,a=t._duration,c=t._step,f=t._targetState,s=t._timestamp,l=s+i+a,h=l<n?l:n,p=a-(l-h);l<=h?(c(f,e,p),t.stop(!0)):(t._applyFilter(tt),h<s+i?s=a=h=1:s+=i,H(h,r,o,f,a,s,u),t._applyFilter(Z),c(r,e,p))}function K(t,n){var e=1<arguments.length&&void 0!==n?n:"linear",r={},i=$(e);if("string"===i||"function"===i)for(var u in t)r[u]=e;else for(var o in t)r[o]=e[o]||"linear";return r}function X(t){var n,e;t===et?(et=t._next)?et._previous=null:rt=null:t===rt?(rt=t._previous)?rt._next=null:et=null:(n=t._previous,e=t._next,(n._next=e)._previous=n),t._previous=t._next=null}var Y="undefined"!=typeof window?window:global,Z="afterTween",tt="beforeTween",nt=Y.requestAnimationFrame||Y.webkitRequestAnimationFrame||Y.oRequestAnimationFrame||Y.msRequestAnimationFrame||Y.mozCancelRequestAnimationFrame&&Y.mozRequestAnimationFrame||setTimeout,et=null,rt=null,it=V({},r),ut=function(){for(var t=ot.now(),n=et;n;){var e=n._next;J(n,t),n=e}},ot=function(){function b(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,b),this._currentState=t,this._configured=!1,this._filters=[],this._timestamp=null,this._next=null,this._previous=null,n&&this.setConfig(n)}var t,n,e;return t=b,(n=[{key:"_applyFilter",value:function(t){var n,e=R(this._filters);try{for(e.s();!(n=e.n()).done;){var r=n.value[t];r&&r(this)}}catch(t){e.e(t)}finally{e.f()}}},{key:"tween",value:function(t){var n=0<arguments.length&&void 0!==t?t:void 0,e=this._attachment,r=this._configured;return this._isPlaying&&this.stop(),!n&&r||this.setConfig(n),this._pausedAtTime=null,this._timestamp=b.now(),this._start(this.get(),e),this.resume()}},{key:"setConfig",value:function(t){var n=this,e=0<arguments.length&&void 0!==t?t:{},r=e.attachment,i=e.delay,u=void 0===i?0:i,o=e.duration,a=void 0===o?500:o,c=e.easing,f=e.from,s=e.promise,l=void 0===s?Promise:s,h=e.start,p=void 0===h?G:h,d=e.step,y=void 0===d?G:d,v=e.to;this._configured=!0,this._attachment=r,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=u,this._start=p,this._step=y,this._duration=a,this._currentState=V({},f||this.get()),this._originalState=this.get(),this._targetState=V({},v||this.get());var m=this._currentState;this._targetState=V(V({},m),this._targetState),this._easing=K(m,c);var g=b.filters;for(var _ in this._filters.length=0,g)g[_].doesApply(this)&&this._filters.push(g[_]);return this._applyFilter("tweenCreated"),this._promise=new l(function(t){n._resolve=t}),this._promise.catch(G),this}},{key:"get",value:function(){return V({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=b.now(),this._isPlaying=!1,X(this),this}},{key:"resume",value:function(){if(null===this._timestamp)return this.tween();if(this._isPlaying)return this._promise;var t=b.now();return this._pausedAtTime&&(this._timestamp+=t-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===et?(rt=et=this,function t(){et&&(nt.call(Y,t,1e3/60),ut())}()):((this._previous=rt)._next=this,rt=this),this._promise}},{key:"seek",value:function(t){t=Math.max(t,0);var n=b.now();return this._timestamp+t===0||(this._timestamp=n-t,this._isPlaying||J(this,n)),this}},{key:"stop",value:function(t){var n=0<arguments.length&&void 0!==t&&t,e=this._attachment,r=this._currentState,i=this._easing,u=this._originalState,o=this._targetState;if(this._isPlaying)return this._isPlaying=!1,X(this),n&&(this._applyFilter(tt),H(1,r,u,o,1,0,i),this._applyFilter(Z),this._applyFilter("afterTweenEnd"),this._resolve(r,e)),this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"setScheduleFunction",value:function(t){b.setScheduleFunction(t)}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}])&&U(t.prototype,n),e&&U(t,e),b}();function at(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=new ot,e=n.tween(t);return e.tweenable=n,e}ot.setScheduleFunction=function(t){return nt=t},ot.formulas=it,ot.filters={},ot.now=Date.now||function(){return+new Date};function ct(t,e){return t.map(function(t,n){return"_".concat(e,"_").concat(n)})}var ft,st,lt=/(\d|-|\.)/,ht=/([^\-0-9.]+)/g,pt=/[0-9.-]+/g,dt=(ft=pt.source,st=/,\s*/.source,new RegExp("rgb\\(".concat(ft).concat(st).concat(ft).concat(st).concat(ft,"\\)"),"g")),yt=/^.*\(/,vt=/#([0-9]|[a-f]){3,6}/gi,mt="VAL";function gt(t){return parseInt(t,16)}function _t(t){return"rgb(".concat((3===(n=(n=t).replace(/#/,"")).length&&(n=(n=n.split(""))[0]+n[0]+n[1]+n[1]+n[2]+n[2]),[gt(n.substr(0,2)),gt(n.substr(2,2)),gt(n.substr(4,2))].join(",")),")");var n}function bt(t,n,e){var r=n.match(t),i=n.replace(t,mt);return r&&r.forEach(function(t){return i=i.replace(mt,e(t))}),i}function wt(t){var n=t.match(pt).map(Math.floor),e=t.match(yt)[0];return"".concat(e).concat(n.join(","),")")}function Ot(t){return t.match(pt)}function St(n,t){var e={};return t.forEach(function(t){e[t]=n[t],delete n[t]}),e}function jt(n,t){return t.map(function(t){return n[t]})}function Mt(n,t){return t.forEach(function(t){return n=n.replace(mt,+t.toFixed(4))}),n}var Pt=function(t){for(var n in t){var e=t[n];"string"==typeof e&&e.match(vt)&&(t[n]=bt(vt,e,_t))}},kt=function(t){var n,e,r={};for(var i in t){var u=t[i];"string"==typeof u&&(r[i]={formatString:(e=void 0,(e=(n=u).match(ht))?1!==e.length&&!n.charAt(0).match(lt)||e.unshift(""):e=["",""],e.join(mt)),chunkNames:ct(Ot(u),i)})}return r},At=function(r,i){function t(e){Ot(r[e]).forEach(function(t,n){return r[i[e].chunkNames[n]]=+t}),delete r[e]}for(var n in i)t(n)},Et=function(t,n){for(var e in n){var r=n[e],i=r.chunkNames,u=r.formatString,o=Mt(u,jt(St(t,i),i));t[e]=bt(dt,o,wt)}},It=function(u,o){function t(t){var e,r,n=o[t].chunkNames,i=u[t];"string"==typeof i?(e=i.split(" "),r=e[e.length-1],n.forEach(function(t,n){return u[t]=e[n]||r})):n.forEach(function(t){return u[t]=i}),delete u[t]}for(var n in o)t(n)},xt=function(e,t){for(var n in t){var r=t[n].chunkNames,i=e[r[0]];e[n]="string"==typeof i?r.map(function(t){var n=e[t];return delete e[t],n}).join(" "):i}},Tt=function(t){var n=t._currentState;return Object.keys(n).some(function(t){return"string"==typeof n[t]})};function Ft(t){var n=t._currentState;[n,t._originalState,t._targetState].forEach(Pt),t._tokenData=kt(n)}function Ct(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;It(i,u),[n,e,r].forEach(function(t){return At(t,u)})}function Dt(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;[n,e,r].forEach(function(t){return Et(t,u)}),xt(i,u)}function qt(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function Qt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var Bt=new ot,Nt=ot.filters,Rt=function(t,n,e,r,i){var u=4<arguments.length&&void 0!==i?i:0,o=function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(e),!0).forEach(function(t){Qt(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):qt(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}({},t),a=K(t,r);for(var c in Bt._filters.length=0,Bt.set({}),Bt._currentState=o,Bt._originalState=t,Bt._targetState=n,Bt._easing=a,Nt)Nt[c].doesApply(Bt)&&Bt._filters.push(Nt[c]);Bt._applyFilter("tweenCreated"),Bt._applyFilter("beforeTween");var f=H(e,o,t,n,1,u,a);return Bt._applyFilter("afterTween"),f};function zt(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return Ut(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ut(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function $t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,n){var e=n.get(t);if(!e)throw new TypeError("attempted to get private field on non-instance");return e.get?e.get.call(t):e.value}var Vt=new WeakMap,Wt=function(){function r(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),Vt.set(this,{writable:!0,value:[]});for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];n.forEach(this.add.bind(this))}var t,n,e;return t=r,(n=[{key:"add",value:function(t){return Lt(this,Vt).push(t),t}},{key:"remove",value:function(t){var n=Lt(this,Vt).indexOf(t);return~n&&Lt(this,Vt).splice(n,1),t}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Lt(this,Vt).some(function(t){return t.isPlaying()})}},{key:"play",value:function(){return Lt(this,Vt).forEach(function(t){return t.tween()}),this}},{key:"pause",value:function(){return Lt(this,Vt).forEach(function(t){return t.pause()}),this}},{key:"resume",value:function(){return Lt(this,Vt).forEach(function(t){return t.resume()}),this}},{key:"stop",value:function(n){return Lt(this,Vt).forEach(function(t){return t.stop(n)}),this}},{key:"tweenables",get:function(){return zt(Lt(this,Vt))}},{key:"promises",get:function(){return Lt(this,Vt).map(function(t){return t._promise})}}])&&$t(t.prototype,n),e&&$t(t,e),r}();function Gt(t,n,e,r,i,u){function f(t){return((l*t+h)*t+p)*t}function s(t){return 0<=t?t:0-t}var o,l=0,h=0,p=0,a=0,c=0,d=0,l=1-(p=3*n)-(h=3*(r-n)-p),a=1-(d=3*e)-(c=3*(i-e)-d);return o=function(t,n){for(var e,r,i,u,o,a=t,c=0;c<8;c++){if(i=f(a)-t,s(i)<n)return a;if(s(u=(3*l*(o=a)+2*h)*o+p)<1e-6)break;a-=i/u}if((a=t)<(e=0))return e;if((r=1)<a)return r;for(;e<r;){if(i=f(a),s(i-t)<n)return a;i<t?e=a:r=a,a=.5*(r-e)+e}return a}(t,1/(200*u)),((a*o+c)*o+d)*o}var Ht=function(t,n,e,r,i){var u,o,a,c,f=(u=n,o=e,a=r,c=i,function(t){return Gt(t,u,o,a,c,1)});return f.displayName=t,f.x1=n,f.y1=e,f.x2=r,f.y2=i,ot.formulas[t]=f},Jt=function(t){return delete ot.formulas[t]};ot.filters.token=i}],i.c=r,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)i.d(e,r,function(t){return n[t]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0);function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var e,r});