!function(e,n,t,i){"function"==typeof define&&define.amd?(t=Object.keys(t).map(e=>e.replace(/^\.\//,"")),define(e,t,i)):"undefined"!=typeof module&&module.exports?(t=Object.keys(t).map(e=>require(e)),module.exports=i(...t)):(t=Object.values(t).map(e=>n[e]),n[e]=i(...t))}("IOEventStream","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./io.js":"IO"},function(e,n){"use strict";var{isFunction:t,curry:i}=e;function r(){var e;return{pr:new Promise(n=>e=n),next:e}}return i(function(e,i){return n(()=>{var{pr:n,next:o}=r();t(e.addEventListener)?e.addEventListener(i,f,!1):t(e.addListener)?e.addListener(i,f):t(e.on)&&e.on(i,f);var d=t(e.removeEventListener)?e.removeEventListener.bind(e,i,f,!1):t(e.removeListener)?e.removeListener.bind(e,i,f):t(e.off)?e.off.bind(e,i,f):()=>{};return async function*(){try{for(;;)yield n}finally{d()}}();function f(e){var t=o;({pr:n,next:o}=r()),t(e)}})})});