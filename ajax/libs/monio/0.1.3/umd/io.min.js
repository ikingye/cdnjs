!function(n,t,e,i){"function"==typeof define&&define.amd?(e=Object.keys(e).map(n=>n.replace(/^\.\//,"")),define(n,e,i)):"undefined"!=typeof module&&module.exports?(e=Object.keys(e).map(n=>require(n)),module.exports=i(...e)):(e=Object.values(e).map(n=>t[n]),t[n]=i(...e))}("IO","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(n,t){"use strict";var e={},{isPromise:i}=n,r={},o=Object.assign(u,{of:function(n){return u(()=>n)},is:function(n){return n&&"function"==typeof n._is&&n._is(r)},do:function(n){return u(t=>{var e=c(n,t);return async function n(r){var o=e.next(i(r)?await r:r);return(o=i(o)?await o:o).done?o.value:a(n,o.value,t)}()})},doEither:function(n){return u(e=>{var r=c(n,e);return async function n(o){try{o=i(o)?await o:o;let u=t.Left.is(o)?r.throw(o):r.next(o),c=(u=i(u)?await u:u).done&&i(u.value)?await u.value:u.value;return u.done?t.Right.is(c)?c:t.Right(c):a(n,c,e).catch(n)}catch(n){throw t.Left.is(n)?n:t.Left(n)}}()})}});function u(n){var t={map:function(t){return u(e=>{var r=n(e);return i(r)?r.then(t):t(r)})},chain:e,flatMap:e,bind:e,ap:function(t){return t.map(n)},concat:function(t){return u(e=>{var r=n(e),o=t.run(e);return i(r)||i(o)?Promise.all([r,o]).then(([n,t])=>n.concat(t)):r.concat(o)})},run:function(t){return n(t)},_inspect:function(){return`${t[Symbol.toStringTag]}(${"function"==typeof n?n.name||"anonymous function":n&&"function"==typeof n._inspect?n._inspect():val})`},_is:function(n){return n===r},[Symbol.toStringTag]:"IO"};return t;function e(t){return u(e=>{var r=n(e);return i(r)?r.then(t).then(n=>n.run(e)):t(r).run(e)})}}function a(n,t,e){return new Promise(async(r,o)=>{try{await function(n,t){return n["flatMap"in n?"flatMap":"chain"in n?"chain":"bind"](t)}(i(t)?await t:t,t=>u(()=>n(t).then(r,o))).run(e)}catch(n){o(n)}})}function c(n,t){return"function"==typeof n?n(t):n&&"object"==typeof n&&"function"==typeof n.next?n:void 0}return(e=o).RIO=o,e.Reader=o,e});