!function(n,t,e,i){"function"==typeof define&&define.amd?(e=Object.keys(e).map(n=>n.replace(/^\.\//,"")),define(n,e,i)):"undefined"!=typeof module&&module.exports?(e=Object.keys(e).map(n=>require(n)),module.exports=i(...e)):(e=Object.values(e).map(n=>t[n]),t[n]=i(...e))}("IO","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(n,t){"use strict";var{isPromise:e}=n,i={};let r={};function o(n){var t={map:function(t){return o(i=>{var r=n(i);return e(r)?r.then(t):t(r)})},chain:r,flatMap:r,bind:r,ap:function(t){return t.map(n)},concat:function(t){return o(i=>{var r=n(i),o=t.run(i);return e(r)||e(o)?Promise.all([r,o]).then(([n,t])=>n.concat(t)):r.concat(o)})},run:function(t){return n(t)},_inspect:function(){return`${t[Symbol.toStringTag]}(${"function"==typeof n?n.name||"anonymous function":n&&"function"==typeof n._inspect?n._inspect():val})`},_is:function(n){return n===i},[Symbol.toStringTag]:"IO"};return t;function r(t){return o(i=>{var r=n(i);return e(r)?r.then(t).then(n=>n.run(i)):t(r).run(i)})}}function u(n,t,i){return new Promise(async(r,u)=>{try{await function(n,t){return n["flatMap"in n?"flatMap":"chain"in n?"chain":"bind"](t)}(e(t)?await t:t,t=>o(()=>n(t).then(r,u))).run(i)}catch(n){u(n)}})}function a(n,t){return"function"==typeof n?n(t):n&&"object"==typeof n&&"function"==typeof n.next?n:void 0}return(r=Object.assign(o,{of:function(n){return o(()=>n)},is:function(n){return n&&"function"==typeof n._is&&n._is(i)},do:function(n){return o(t=>{var i=a(n,t);return async function n(r){var o=i.next(e(r)?await r:r);return(o=e(o)?await o:o).done?o.value:u(n,o.value,t)}()})},doEither:function(n){return o(i=>{var r=a(n,i);return async function n(o){try{o=e(o)?await o:o;let a=t.Left.is(o)?r.throw(o):r.next(o),c=(a=e(a)?await a:a).done&&e(a.value)?await a.value:a.value;return a.done?t.Right.is(c)?c:t.Right(c):u(n,c,i).catch(n)}catch(n){throw t.Left.is(n)?n:t.Left(n)}}()})}})).RIO=o,r.Reader=o,r});