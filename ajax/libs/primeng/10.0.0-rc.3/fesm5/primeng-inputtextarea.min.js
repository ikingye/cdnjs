import{EventEmitter,ElementRef,Optional,Directive,Input,Output,HostListener,NgModule}from"@angular/core";import{NgModel,NgControl}from"@angular/forms";import{CommonModule}from"@angular/common";var InputTextarea=function(){function t(t,e,o){this.el=t,this.ngModel=e,this.control=o,this.onResize=new EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(function(){t.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(function(){t.updateState()}))},t.prototype.onInput=function(t){this.updateState()},t.prototype.updateFilledState=function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model},t.prototype.onFocus=function(t){this.autoResize&&this.resize(t)},t.prototype.onBlur=function(t){this.autoResize&&this.resize(t)},t.prototype.resize=function(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})},t.prototype.updateState=function(){this.updateFilledState(),this.autoResize&&this.resize()},t.prototype.ngOnDestroy=function(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()},t.ctorParameters=function(){return[{type:ElementRef},{type:NgModel,decorators:[{type:Optional}]},{type:NgControl,decorators:[{type:Optional}]}]},t.decorators=[{type:Directive,args:[{selector:"[pInputTextarea]",host:{"[class.p-inputtextarea]":"true","[class.p-inputtext]":"true","[class.p-component]":"true","[class.p-filled]":"filled","[class.p-inputtextarea-resizable]":"autoResize"}}]}],t.ctorParameters=function(){return[{type:ElementRef},{type:NgModel,decorators:[{type:Optional}]},{type:NgControl,decorators:[{type:Optional}]}]},t.propDecorators={autoResize:[{type:Input}],onResize:[{type:Output}],onInput:[{type:HostListener,args:["input",["$event"]]}],onFocus:[{type:HostListener,args:["focus",["$event"]]}],onBlur:[{type:HostListener,args:["blur",["$event"]]}]},t}(),InputTextareaModule=function(){function t(){}return t.decorators=[{type:NgModule,args:[{imports:[CommonModule],exports:[InputTextarea],declarations:[InputTextarea]}]}],t}();export{InputTextarea,InputTextareaModule};