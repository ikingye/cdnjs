import{ElementRef,NgZone,Optional,Directive,NgModule}from"@angular/core";import{CommonModule}from"@angular/common";import{DomHandler}from"primeng/dom";import{PrimeNGConfig}from"primeng/api";var Ripple=function(){function e(e,t,n){this.el=e,this.zone=t,this.config=n}return e.prototype.ngAfterViewInit=function(){var e=this;this.config&&this.config.ripple&&this.zone.runOutsideAngular(function(){e.create(),e.mouseDownListener=e.onMouseDown.bind(e),e.el.nativeElement.addEventListener("mousedown",e.mouseDownListener)})},e.prototype.onMouseDown=function(e){var t=this.getInk();if(t&&"none"!==getComputedStyle(t,null).display){if(DomHandler.removeClass(t,"p-ink-active"),!DomHandler.getHeight(t)&&!DomHandler.getWidth(t)){var n=Math.max(DomHandler.getOuterWidth(this.el.nativeElement),DomHandler.getOuterHeight(this.el.nativeElement));t.style.height=n+"px",t.style.width=n+"px"}var i=DomHandler.getOffset(this.el.nativeElement),o=e.pageX-i.left+document.body.scrollTop-DomHandler.getWidth(t)/2,r=e.pageY-i.top+document.body.scrollLeft-DomHandler.getHeight(t)/2;t.style.top=r+"px",t.style.left=o+"px",DomHandler.addClass(t,"p-ink-active")}},e.prototype.getInk=function(){for(var e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null},e.prototype.resetInk=function(){var e=this.getInk();e&&DomHandler.removeClass(e,"p-ink-active")},e.prototype.onAnimationEnd=function(e){DomHandler.removeClass(e.currentTarget,"p-ink-active")},e.prototype.create=function(){var e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)},e.prototype.remove=function(){var e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),e.remove())},e.prototype.ngOnDestroy=function(){this.config&&this.config.ripple&&this.remove()},e.ctorParameters=function(){return[{type:ElementRef},{type:NgZone},{type:PrimeNGConfig,decorators:[{type:Optional}]}]},e.decorators=[{type:Directive,args:[{selector:"[pRipple]",host:{"[class.p-ripple]":"true"}}]}],e.ctorParameters=function(){return[{type:ElementRef},{type:NgZone},{type:PrimeNGConfig,decorators:[{type:Optional}]}]},e}(),RippleModule=function(){function e(){}return e.decorators=[{type:NgModule,args:[{imports:[CommonModule],exports:[Ripple],declarations:[Ripple]}]}],e}();export{Ripple,RippleModule};