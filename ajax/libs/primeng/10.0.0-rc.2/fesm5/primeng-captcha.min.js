import{EventEmitter,ElementRef,NgZone,ChangeDetectorRef,Component,ChangeDetectionStrategy,ViewEncapsulation,Input,Output,NgModule}from"@angular/core";import{CommonModule}from"@angular/common";var Captcha=function(){function t(t,e,n){this.el=t,this._zone=e,this.cd=n,this.siteKey=null,this.theme="light",this.type="image",this.size="normal",this.tabindex=0,this.language=null,this.initCallback="initRecaptcha",this.onResponse=new EventEmitter,this.onExpire=new EventEmitter,this._instance=null}return t.prototype.ngAfterViewInit=function(){var t=this;window.grecaptcha?window.grecaptcha.render?this.init():setTimeout(function(){t.init()},100):window[this.initCallback]=function(){t.init()}},t.prototype.init=function(){var t=this;this._instance=window.grecaptcha.render(this.el.nativeElement.children[0],{sitekey:this.siteKey,theme:this.theme,type:this.type,size:this.size,tabindex:this.tabindex,hl:this.language,callback:function(e){t._zone.run(function(){return t.recaptchaCallback(e)})},"expired-callback":function(){t._zone.run(function(){return t.recaptchaExpiredCallback()})}})},t.prototype.reset=function(){null!==this._instance&&(window.grecaptcha.reset(this._instance),this.cd.markForCheck())},t.prototype.getResponse=function(){return null===this._instance?null:window.grecaptcha.getResponse(this._instance)},t.prototype.recaptchaCallback=function(t){this.onResponse.emit({response:t})},t.prototype.recaptchaExpiredCallback=function(){this.onExpire.emit()},t.prototype.ngOnDestroy=function(){null!=this._instance&&window.grecaptcha.reset(this._instance)},t.ctorParameters=function(){return[{type:ElementRef},{type:NgZone},{type:ChangeDetectorRef}]},t.decorators=[{type:Component,args:[{selector:"p-captcha",template:"<div></div>",changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:ElementRef},{type:NgZone},{type:ChangeDetectorRef}]},t.propDecorators={siteKey:[{type:Input}],theme:[{type:Input}],type:[{type:Input}],size:[{type:Input}],tabindex:[{type:Input}],language:[{type:Input}],initCallback:[{type:Input}],onResponse:[{type:Output}],onExpire:[{type:Output}]},t}(),CaptchaModule=function(){function t(){}return t.decorators=[{type:NgModule,args:[{imports:[CommonModule],exports:[Captcha],declarations:[Captcha]}]}],t}();export{Captcha,CaptchaModule};