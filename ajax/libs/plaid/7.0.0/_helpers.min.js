const R=require("ramda"),verificationDateNotKnown=new Date(0).toISOString();function processField(e,{value:r,verified:i,verified_at:t}){if("string"==typeof r){if(null!=t&&null!=i)throw Error("createItemAddToken accepts only one of verified and verified_at");return t?{[e]:r,[`${e}_verified_time`]:t.toISOString()}:i?{[e]:r,[`${e}_verified_time`]:verificationDateNotKnown}:{[e]:r}}}module.exports.processUserFields=function(e){if(!e)return{};const{client_user_id:r}=e,i=null==r?{}:{client_user_id:r},t=R.merge(i,["email_address","phone_number","legal_name"].reduce((r,i)=>R.merge(r,processField(i,e[i]||{})),{}));return 0===Object.keys(t).length?{}:{user:t}};