!function(v){"use strict";provide(["/demand/abstract/uuid","/demand/descriptor","/demand/function/iterate"],function(i,u,n){var t,s=Object.defineProperties,o={},e=/^\//,a=/[?&]?([^=]+)=([^&]*)/g,h=/%20/g,d=/%5B/g,c=/%5D/g,r=new RegExp("^"+((t=v.createElement("a")).href="/",t.href.slice(0,-1)),"i"),p={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/};function f(t,e){var r;if(r=o[t])return r.link[e]}function l(t,e,r){var i;(i=o[t])&&(i.link[e]=r)}function m(t){s(this,{uuid:new u(t)}),m.update(this)}function g(t){var e=i.call(this),r=v.createElement("a");return r.href=t,o[e.uuid]={link:r,parameter:{}},s(e,{toString:new u(function(){return r.toString()}),valueOf:new u(function(){return r.valueOf()}),parameter:new u(new m(e.uuid))}),e}return m.prototype={get:function(t){return o[this.uuid].parameter[t]},set:function(t,e){o[this.uuid].parameter[t]=e,m.serialize(this)},remove:function(t){delete o[this.uuid].parameter[t],m.serialize(this)}},m.update=function(t){var e,r=o[t.uuid],i=r.parameter,u=r.link.search.split("+").join(" ");for(n(i,function(t){delete i[t]});e=a.exec(u);)i[decodeURIComponent(e[1])]=decodeURIComponent(e[2])},m.serialize=function(t){var e=o[t.uuid],r=e.parameter,i="";n(r,function(t,e){i+=(i?"&":"?")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),e.link.search=i.replace(h,"+").replace(d,"[").replace(c,"]")},g.prototype={get local(){var t;if(t=f(this.uuid,"href"))return r.test(t)},get href(){return f(this.uuid,"href")},set href(t){l(this.uuid,"href",t)},get origin(){return f(this.uuid,"origin")||this.protocol+"//"+this.host},get protocol(){return f(this.uuid,"protocol")},set protocol(t){l(this.uuid,"protocol",t)},get username(){return f(this.uuid,"username")},set username(t){l(this.uuid,"username",t)},get password(){return f(this.uuid,"password")},set password(t){l(this.uuid,"password",t)},get host(){var t,e;if(t=f(this.uuid,"host"))return e=f(this.uuid,"protocol"),p[e]?t.replace(p[e],""):t},set host(t){l(this.uuid,"host",t)},get hostname(){return f(this.uuid,"hostname")},set hostname(t){l(this.uuid,"hostname",t)},get port(){return f(this.uuid,"port")},set port(t){l(this.uuid,"port",t)},get pathname(){var t;if(t=f(this.uuid,"pathname"))return e.test(t)?t:"/"+t},set pathname(t){l(this.uuid,"pathname",t)},get search(){return f(this.uuid,"search")},set search(t){l(this.uuid,"search",t),m.update.call(this)},get hash(){return f(this.uuid,"hash")},set hash(t){l(this.uuid,"hash",t)}},g.extends(i)})}(document);