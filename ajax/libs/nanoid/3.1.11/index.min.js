import crypto from"crypto";import{urlAlphabet}from"./url-alphabet/index.js";let buffers={},random=r=>{let t=buffers[r];return t||(t=Buffer.allocUnsafe(r),r<=255&&(buffers[r]=t)),crypto.randomFillSync(t)},customRandom=(r,t,e)=>{let o=(2<<31-Math.clz32(r.length-1|1))-1,l=Math.ceil(1.6*o*t/r.length);return()=>{let n="";for(;;){let a=e(l),m=l;for(;m--;)if((n+=r[a[m]&o]||"").length===+t)return n}}},customAlphabet=(r,t)=>customRandom(r,t,random),nanoid=(r=21)=>{let t=random(r),e="";for(;r--;)e+=urlAlphabet[63&t[r]];return e};export{nanoid,customAlphabet,customRandom,urlAlphabet,random};