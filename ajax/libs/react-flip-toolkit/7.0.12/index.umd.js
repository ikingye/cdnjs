!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("prop-types"),require("react"),require("flip-toolkit")):"function"==typeof define&&define.amd?define(["exports","prop-types","react","flip-toolkit"],t):t(e.ReactFlipToolkit={},e.PropTypes,e.React,e.FlipToolkit)}(this,function(e,t,n,i){t=t&&t.hasOwnProperty("default")?t.default:t;var r="default"in n?n.default:n,o=n.createContext({}),p=n.createContext("portal"),l=function(e){function t(){e.apply(this,arguments),this.inProgressAnimations={},this.flipCallbacks={},this.el=void 0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getSnapshotBeforeUpdate=function(e){return e.flipKey!==this.props.flipKey&&this.el?i.getFlippedElementPositionsBeforeUpdate({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},t.prototype.componentDidUpdate=function(e,t,n){this.props.flipKey!==e.flipKey&&this.el&&i.onFlipKeyUpdate({flippedElementPositionsBeforeUpdate:n.flippedElementPositions,cachedOrderedFlipIds:n.cachedOrderedFlipIds,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{previous:e.decisionData,current:this.props.decisionData},onComplete:this.props.onComplete,onStart:this.props.onStart})},t.prototype.render=function(){var e=this,t=this.props,n=t.portalKey,i=r.createElement(o.Provider,{value:this.flipCallbacks},r.createElement(t.element,{className:t.className,ref:function(t){return e.el=t}},this.props.children));return n&&(i=r.createElement(p.Provider,{value:n},i)),i},t}(n.Component);function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1===t.indexOf(i)&&(n[i]=e[i]);return n}l.defaultProps={applyTransformOrigin:!0,element:"div"};var a=function(e){var t=e.children,r=e.flipId,o=e.inverseFlipId,p=e.portalKey,l=s(e,["children","flipId","inverseFlipId","portalKey"]),a=t,c=function(e){return"function"==typeof e}(a);if(!c)try{a=n.Children.only(t)}catch(e){throw new Error("Each Flipped component must wrap a single child")}l.scale||l.translate||l.opacity||i.utilities.assign(l,{translate:!0,scale:!0,opacity:!0});var d={};return d[i.constants.DATA_FLIP_CONFIG]=JSON.stringify(l),r?d[i.constants.DATA_FLIP_ID]=String(r):o&&(d[i.constants.DATA_INVERSE_FLIP_ID]=String(o)),p&&(d[i.constants.DATA_PORTAL_KEY]=p),c?a(d):n.cloneElement(a,d)},c=function(e){var t=e.children,n=e.flipId,l=e.shouldFlip,c=e.shouldInvert,d=e.onAppear,f=e.onStart,u=e.onStartImmediate,h=e.onComplete,m=e.onExit,y=e.onSpringUpdate,g=s(e,["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onStartImmediate","onComplete","onExit","onSpringUpdate"]);return t?g.inverseFlipId?r.createElement(a,Object.assign({},g),t):r.createElement(p.Consumer,null,function(e){return r.createElement(o.Consumer,null,function(o){return i.utilities.isObject(o)&&n&&(o[n]={shouldFlip:l,shouldInvert:c,onAppear:d,onStart:f,onStartImmediate:u,onComplete:h,onExit:m,onSpringUpdate:y}),r.createElement(a,Object.assign({flipId:n},g,{portalKey:e}),t)})}):null};c.displayName="Flipped",e.Flipper=l,e.Flipped=c,e.ExitContainer=function(e){var t;return n.cloneElement(e.children,((t={})[i.constants.DATA_EXIT_CONTAINER]=!0,t))},e.spring=i.spring});
//# sourceMappingURL=index.umd.js.map
