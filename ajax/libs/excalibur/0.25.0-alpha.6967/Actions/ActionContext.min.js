import*as Actions from"./Action";import{Promise}from"../Promises";import{EasingFunctions}from"../Util/EasingFunctions";var ActionContext=function(){function t(){this._actors=[],this._queues=[],null!==arguments&&(this._actors=Array.prototype.slice.call(arguments,0),this._queues=this._actors.map(function(t){return t.actionQueue}))}return t.prototype.clearActions=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].clearActions()},t.prototype.addActorToContext=function(t){this._actors.push(t),this._queues.push(t.actionQueue)},t.prototype.removeActorFromContext=function(t){var e=this._actors.indexOf(t);e>-1&&(this._actors.splice(e,1),this._queues.splice(e,1))},t.prototype.easeTo=function(t,e,s,o){void 0===o&&(o=EasingFunctions.Linear);for(var i=this._queues.length,r=0;r<i;r++)this._queues[r].add(new Actions.EaseTo(this._actors[r],t,e,s,o));return this},t.prototype.moveTo=function(t,e,s){for(var o=this._queues.length,i=0;i<o;i++)this._queues[i].add(new Actions.MoveTo(this._actors[i],t,e,s));return this},t.prototype.moveBy=function(t,e,s){for(var o=this._queues.length,i=0;i<o;i++)this._queues[i].add(new Actions.MoveBy(this._actors[i],t,e,s));return this},t.prototype.rotateTo=function(t,e,s){for(var o=this._queues.length,i=0;i<o;i++)this._queues[i].add(new Actions.RotateTo(this._actors[i],t,e,s));return this},t.prototype.rotateBy=function(t,e,s){for(var o=this._queues.length,i=0;i<o;i++)this._queues[i].add(new Actions.RotateBy(this._actors[i],t,e,s));return this},t.prototype.scaleTo=function(t,e,s,o){for(var i=this._queues.length,r=0;r<i;r++)this._queues[r].add(new Actions.ScaleTo(this._actors[r],t,e,s,o));return this},t.prototype.scaleBy=function(t,e,s){for(var o=this._queues.length,i=0;i<o;i++)this._queues[i].add(new Actions.ScaleBy(this._actors[i],t,e,s));return this},t.prototype.blink=function(t,e,s){void 0===s&&(s=1);for(var o=this._queues.length,i=0;i<o;i++)this._queues[i].add(new Actions.Blink(this._actors[i],t,e,s));return this},t.prototype.fade=function(t,e){for(var s=this._queues.length,o=0;o<s;o++)this._queues[o].add(new Actions.Fade(this._actors[o],t,e));return this},t.prototype.delay=function(t){for(var e=this._queues.length,s=0;s<e;s++)this._queues[s].add(new Actions.Delay(this._actors[s],t));return this},t.prototype.die=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new Actions.Die(this._actors[e]));return this},t.prototype.callMethod=function(t){for(var e=this._queues.length,s=0;s<e;s++)this._queues[s].add(new Actions.CallMethod(this._actors[s],t));return this},t.prototype.repeat=function(t){if(!t)return this.repeatForever(),this;for(var e=this._queues.length,s=0;s<e;s++)this._queues[s].add(new Actions.Repeat(this._actors[s],t,this._actors[s].actionQueue.getActions()));return this},t.prototype.repeatForever=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new Actions.RepeatForever(this._actors[e],this._actors[e].actionQueue.getActions()));return this},t.prototype.follow=function(t,e){for(var s=this._queues.length,o=0;o<s;o++)void 0===e?this._queues[o].add(new Actions.Follow(this._actors[o],t)):this._queues[o].add(new Actions.Follow(this._actors[o],t,e));return this},t.prototype.meet=function(t,e){for(var s=this._queues.length,o=0;o<s;o++)void 0===e?this._queues[o].add(new Actions.Meet(this._actors[o],t)):this._queues[o].add(new Actions.Meet(this._actors[o],t,e));return this},t.prototype.asPromise=function(){var t=this,e=this._queues.map(function(e,s){var o=new Promise;return e.add(new Actions.CallMethod(t._actors[s],function(){o.resolve()})),o});return Promise.join.apply(this,e)},t}();export{ActionContext};