var Timer=function(){function e(t,i,s,r){if(this.id=0,this.interval=10,this.repeats=!1,this.maxNumberOfRepeats=-1,this._elapsedTime=0,this._totalTimeAlive=0,this._paused=!1,this._numberOfTicks=0,this.complete=!1,this.scene=null,"function"!=typeof t){var a=t;t=a.fcn,i=a.interval,s=a.repeats,r=a.numberOfRepeats}if(r&&r>=0&&(this.maxNumberOfRepeats=r,!s))throw new Error("repeats must be set to true if numberOfRepeats is set");this.id=e.id++,this.interval=i||this.interval,this.repeats=s||this.repeats,this._callbacks=[],t&&this.on(t)}return e.prototype.on=function(e){this._callbacks.push(e)},e.prototype.off=function(e){var t=this._callbacks.indexOf(e);this._callbacks.splice(t,1)},e.prototype.update=function(e){var t=this;this._paused||(this._totalTimeAlive+=e,this._elapsedTime+=e,this.maxNumberOfRepeats>-1&&this._numberOfTicks>=this.maxNumberOfRepeats&&(this.complete=!0),!this.complete&&this._elapsedTime>=this.interval&&(this._callbacks.forEach(function(e){e.call(t)}),this._numberOfTicks++,this.repeats?this._elapsedTime=0:this.complete=!0))},e.prototype.reset=function(e,t){if(e&&e>=0&&(this.interval=e),this.maxNumberOfRepeats&&this.maxNumberOfRepeats>=0&&(this.maxNumberOfRepeats=t,!this.repeats))throw new Error("repeats must be set to true if numberOfRepeats is set");this.complete=!1,this._elapsedTime=0,this._numberOfTicks=0},Object.defineProperty(e.prototype,"timesRepeated",{get:function(){return this._numberOfTicks},enumerable:!1,configurable:!0}),e.prototype.getTimeRunning=function(){return this._totalTimeAlive},e.prototype.pause=function(){this._paused=!0},e.prototype.unpause=function(){this._paused=!1},e.prototype.cancel=function(){this.scene&&this.scene.cancelTimer(this)},e.id=0,e}();export{Timer};