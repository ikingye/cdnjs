import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{elementTypeAcceptingRef,refType}from"@material-ui/utils";import useForkRef from"../utils/useForkRef";import useEventCallback from"../utils/useEventCallback";import withStyles from"../styles/withStyles";import useIsFocusVisible from"../utils/useIsFocusVisible";import TouchRipple from"./TouchRipple";export var styles={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}};var ButtonBase=React.forwardRef(function(e,o){var t=e.action,n=e.buttonRef,r=e.centerRipple,s=void 0!==r&&r,u=e.children,p=e.classes,c=e.className,i=e.component,a=void 0===i?"button":i,l=e.disabled,f=void 0!==l&&l,d=e.disableRipple,b=void 0!==d&&d,y=e.disableTouchRipple,T=void 0!==y&&y,m=e.focusRipple,v=void 0!==m&&m,R=e.focusVisibleClassName,h=e.onBlur,P=e.onClick,g=e.onFocus,k=e.onFocusVisible,E=e.onKeyDown,D=e.onKeyUp,M=e.onMouseDown,F=e.onMouseLeave,x=e.onMouseUp,C=e.onTouchEnd,B=e.onTouchMove,V=e.onTouchStart,w=e.onDragLeave,N=e.tabIndex,S=void 0===N?0:N,I=e.TouchRippleProps,U=_objectWithoutProperties(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps"]),j=React.useRef(null),K=React.useRef(null),L=useIsFocusVisible(),_=L.isFocusVisibleRef,A=L.onFocus,O=L.onBlur,W=L.ref,z=React.useState(!1),H=z[0],$=z[1];function q(e,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return useEventCallback(function(n){return o&&o(n),!t&&K.current&&K.current[e](n),!0})}f&&H&&$(!1),React.useEffect(function(){_.current=H},[H,_]),React.useImperativeHandle(t,function(){return{focusVisible:function(){$(!0),j.current.focus()}}},[]),React.useEffect(function(){H&&v&&!b&&K.current.pulsate()},[b,v,H]);var G=q("start",M),J=q("stop",w),Q=q("stop",x),X=q("stop",function(e){H&&e.preventDefault(),F&&F(e)}),Y=q("start",V),Z=q("stop",C),ee=q("stop",B),oe=q("stop",function(e){O(e),!1===_.current&&$(!1),h&&h(e)},!1),te=useEventCallback(function(e){j.current||(j.current=e.currentTarget),A(e),!0===_.current&&($(!0),k&&k(e)),g&&g(e)}),ne=function(){var e=j.current;return a&&"button"!==a&&!("A"===e.tagName&&e.href)},re=React.useRef(!1),se=useEventCallback(function(e){v&&!re.current&&H&&K.current&&" "===e.key&&(re.current=!0,e.persist(),K.current.stop(e,function(){K.current.start(e)})),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),E&&E(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!f&&(e.preventDefault(),P&&P(e))}),ue=useEventCallback(function(e){v&&" "===e.key&&K.current&&H&&!e.defaultPrevented&&(re.current=!1,e.persist(),K.current.stop(e,function(){K.current.pulsate(e)})),D&&D(e),P&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&P(e)}),pe=a;"button"===pe&&U.href&&(pe="a");var ce={};"button"===pe?(ce.type=void 0===U.type?"button":U.type,ce.disabled=f):("a"===pe&&U.href||(ce.role="button"),ce["aria-disabled"]=f);var ie=useForkRef(n,o),ae=useForkRef(W,j),le=useForkRef(ie,ae),fe=React.useState(!1),de=fe[0],be=fe[1];React.useEffect(function(){be(!0)},[]);var ye=de&&!b&&!f;return"production"!==process.env.NODE_ENV&&React.useEffect(function(){ye&&!K.current&&console.error(["Material-UI: The `component` prop provided to ButtonBase is invalid.","Please make sure the children prop is rendered in this custom component."].join("\n"))},[ye]),React.createElement(pe,_extends({className:clsx(p.root,c,H&&[p.focusVisible,R],f&&p.disabled),onBlur:oe,onClick:P,onFocus:te,onKeyDown:se,onKeyUp:ue,onMouseDown:G,onMouseLeave:X,onMouseUp:Q,onDragLeave:J,onTouchEnd:Z,onTouchMove:ee,onTouchStart:Y,ref:le,tabIndex:f?-1:S},ce,U),u,ye?React.createElement(TouchRipple,_extends({ref:K,center:s},I)):null)});"production"!==process.env.NODE_ENV&&(ButtonBase.propTypes={action:refType,buttonRef:refType,centerRipple:PropTypes.bool,children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,component:elementTypeAcceptingRef,disabled:PropTypes.bool,disableRipple:PropTypes.bool,disableTouchRipple:PropTypes.bool,focusRipple:PropTypes.bool,focusVisibleClassName:PropTypes.string,href:PropTypes.string,onBlur:PropTypes.func,onClick:PropTypes.func,onDragLeave:PropTypes.func,onFocus:PropTypes.func,onFocusVisible:PropTypes.func,onKeyDown:PropTypes.func,onKeyUp:PropTypes.func,onMouseDown:PropTypes.func,onMouseLeave:PropTypes.func,onMouseUp:PropTypes.func,onTouchEnd:PropTypes.func,onTouchMove:PropTypes.func,onTouchStart:PropTypes.func,tabIndex:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),TouchRippleProps:PropTypes.object,type:PropTypes.oneOfType([PropTypes.oneOf(["button","reset","submit"]),PropTypes.string])});export default withStyles(styles,{name:"MuiButtonBase"})(ButtonBase);