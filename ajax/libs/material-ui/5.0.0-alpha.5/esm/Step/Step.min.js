import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import{isFragment}from"react-is";import PropTypes from"prop-types";import clsx from"clsx";import withStyles from"../styles/withStyles";import StepperContext from"../Stepper/StepperContext";import StepContext from"./StepContext";export var styles={root:{},horizontal:{paddingLeft:8,paddingRight:8},vertical:{},alternativeLabel:{flex:1,position:"relative"},completed:{}};var Step=React.forwardRef(function(e,t){var o=e.active,r=e.children,a=e.classes,p=e.className,i=e.completed,n=e.disabled,s=e.expanded,l=void 0!==s&&s,c=e.index,d=e.last,m=_objectWithoutProperties(e,["active","children","classes","className","completed","disabled","expanded","index","last"]),v=React.useContext(StepperContext),x=v.activeStep,u=v.connector,b=v.alternativeLabel,y=v.orientation,f=v.nonLinear,h=void 0!==o&&o,S=void 0!==i&&i,P=void 0!==n&&n;x===c?h=void 0===o||o:!f&&x>c?S=void 0===i||i:!f&&x<c&&(P=void 0===n||n);var R=React.useMemo(function(){return{index:c,last:d,expanded:l,icon:c+1,active:h,completed:S,disabled:P}},[c,d,l,h,S,P]),T=React.createElement("div",_extends({className:clsx(a.root,a[y],p,b&&a.alternativeLabel,S&&a.completed),ref:t},m),u&&b&&0!==c?u:null,React.Children.map(r,function(e){return React.isValidElement(e)?("production"!==process.env.NODE_ENV&&isFragment(e)&&console.error(["Material-UI: The Step component doesn't accept a Fragment as a child.","Consider providing an array instead."].join("\n")),React.cloneElement(e,_extends({},e.props))):null}));return React.createElement(StepContext.Provider,{value:R},u&&!b&&0!==c?React.createElement(React.Fragment,null,u,T):T)});"production"!==process.env.NODE_ENV&&(Step.propTypes={active:PropTypes.bool,children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,completed:PropTypes.bool,disabled:PropTypes.bool,expanded:PropTypes.bool,index:PropTypes.number,last:PropTypes.bool});export default withStyles(styles,{name:"MuiStep"})(Step);