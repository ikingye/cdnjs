"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_utils=require("@material-ui/utils"),_useForkRef=_interopRequireDefault(require("../utils/useForkRef")),_useEventCallback=_interopRequireDefault(require("../utils/useEventCallback")),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_useIsFocusVisible2=_interopRequireDefault(require("../utils/useIsFocusVisible")),_TouchRipple=_interopRequireDefault(require("./TouchRipple")),styles={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}};exports.styles=styles;var ButtonBase=React.forwardRef(function(e,t){var o=e.action,r=e.buttonRef,u=e.centerRipple,n=void 0!==u&&u,s=e.children,p=e.classes,a=e.className,i=e.component,l=void 0===i?"button":i,c=e.disabled,f=void 0!==c&&c,d=e.disableRipple,b=void 0!==d&&d,_=e.disableTouchRipple,y=void 0!==_&&_,T=e.focusRipple,R=void 0!==T&&T,v=e.focusVisibleClassName,h=e.onBlur,m=e.onClick,D=e.onFocus,g=e.onFocusVisible,q=e.onKeyDown,k=e.onKeyUp,E=e.onMouseDown,x=e.onMouseLeave,M=e.onMouseUp,F=e.onTouchEnd,C=e.onTouchMove,B=e.onTouchStart,V=e.onDragLeave,w=e.tabIndex,N=void 0===w?0:w,S=e.TouchRippleProps,I=(0,_objectWithoutProperties2.default)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps"]),P=React.useRef(null),j=React.useRef(null),U=(0,_useIsFocusVisible2.default)(),K=U.isFocusVisibleRef,L=U.onFocus,W=U.onBlur,O=U.ref,A=React.useState(!1),z=A[0],H=A[1];function $(t,o,e){var r=2<arguments.length&&void 0!==e?e:y;return(0,_useEventCallback.default)(function(e){return o&&o(e),!r&&j.current&&j.current[t](e),!0})}f&&z&&H(!1),React.useEffect(function(){K.current=z},[z,K]),React.useImperativeHandle(o,function(){return{focusVisible:function(){H(!0),P.current.focus()}}},[]),React.useEffect(function(){z&&R&&!b&&j.current.pulsate()},[b,R,z]);function G(){var e=P.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)}var J=$("start",E),Q=$("stop",V),X=$("stop",M),Y=$("stop",function(e){z&&e.preventDefault(),x&&x(e)}),Z=$("start",B),ee=$("stop",F),te=$("stop",C),oe=$("stop",function(e){W(e),!1===K.current&&H(!1),h&&h(e)},!1),re=(0,_useEventCallback.default)(function(e){P.current||(P.current=e.currentTarget),L(e),!0===K.current&&(H(!0),g&&g(e)),D&&D(e)}),ue=React.useRef(!1),ne=(0,_useEventCallback.default)(function(e){R&&!ue.current&&z&&j.current&&" "===e.key&&(ue.current=!0,e.persist(),j.current.stop(e,function(){j.current.start(e)})),e.target===e.currentTarget&&G()&&" "===e.key&&e.preventDefault(),q&&q(e),e.target===e.currentTarget&&G()&&"Enter"===e.key&&!f&&(e.preventDefault(),m&&m(e))}),se=(0,_useEventCallback.default)(function(e){R&&" "===e.key&&j.current&&z&&!e.defaultPrevented&&(ue.current=!1,e.persist(),j.current.stop(e,function(){j.current.pulsate(e)})),k&&k(e),m&&e.target===e.currentTarget&&G()&&" "===e.key&&!e.defaultPrevented&&m(e)}),pe=l;"button"===pe&&I.href&&(pe="a");var ae={};"button"===pe?(ae.type=void 0===I.type?"button":I.type,ae.disabled=f):("a"===pe&&I.href||(ae.role="button"),ae["aria-disabled"]=f);var ie=(0,_useForkRef.default)(r,t),le=(0,_useForkRef.default)(O,P),ce=(0,_useForkRef.default)(ie,le),fe=React.useState(!1),de=fe[0],be=fe[1];React.useEffect(function(){be(!0)},[]);var _e=de&&!b&&!f;return"production"!==process.env.NODE_ENV&&React.useEffect(function(){_e&&!j.current&&console.error(["Material-UI: The `component` prop provided to ButtonBase is invalid.","Please make sure the children prop is rendered in this custom component."].join("\n"))},[_e]),React.createElement(pe,(0,_extends2.default)({className:(0,_clsx.default)(p.root,a,z&&[p.focusVisible,v],f&&p.disabled),onBlur:oe,onClick:m,onFocus:re,onKeyDown:ne,onKeyUp:se,onMouseDown:J,onMouseLeave:Y,onMouseUp:X,onDragLeave:Q,onTouchEnd:ee,onTouchMove:te,onTouchStart:Z,ref:ce,tabIndex:f?-1:N},ae,I),s,_e?React.createElement(_TouchRipple.default,(0,_extends2.default)({ref:j,center:n},S)):null)});"production"!==process.env.NODE_ENV&&(ButtonBase.propTypes={action:_utils.refType,buttonRef:_utils.refType,centerRipple:_propTypes.default.bool,children:_propTypes.default.node,classes:_propTypes.default.object,className:_propTypes.default.string,component:_utils.elementTypeAcceptingRef,disabled:_propTypes.default.bool,disableRipple:_propTypes.default.bool,disableTouchRipple:_propTypes.default.bool,focusRipple:_propTypes.default.bool,focusVisibleClassName:_propTypes.default.string,href:_propTypes.default.string,onBlur:_propTypes.default.func,onClick:_propTypes.default.func,onDragLeave:_propTypes.default.func,onFocus:_propTypes.default.func,onFocusVisible:_propTypes.default.func,onKeyDown:_propTypes.default.func,onKeyUp:_propTypes.default.func,onMouseDown:_propTypes.default.func,onMouseLeave:_propTypes.default.func,onMouseUp:_propTypes.default.func,onTouchEnd:_propTypes.default.func,onTouchMove:_propTypes.default.func,onTouchStart:_propTypes.default.func,tabIndex:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),TouchRippleProps:_propTypes.default.object,type:_propTypes.default.oneOfType([_propTypes.default.oneOf(["button","reset","submit"]),_propTypes.default.string])});var _default=(0,_withStyles.default)(styles,{name:"MuiButtonBase"})(ButtonBase);exports.default=_default;