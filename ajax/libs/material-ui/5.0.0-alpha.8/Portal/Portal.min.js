"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var React=_interopRequireWildcard(require("react")),ReactDOM=_interopRequireWildcard(require("react-dom")),_propTypes=_interopRequireDefault(require("prop-types")),_utils=require("@material-ui/utils"),_setRef=_interopRequireDefault(require("../utils/setRef")),_useForkRef=_interopRequireDefault(require("../utils/useForkRef")),_useEnhancedEffect=_interopRequireDefault(require("../utils/useEnhancedEffect"));function getContainer(e){return"function"==typeof e?e():e}var Portal=React.forwardRef(function(e,r){var t=e.children,u=e.container,n=e.disablePortal,a=void 0!==n&&n,i=e.onRendered,o=React.useState(null),l=o[0],f=o[1],p=(0,_useForkRef.default)(React.isValidElement(t)?t.ref:null,r);return(0,_useEnhancedEffect.default)(function(){a||f(getContainer(u)||document.body)},[u,a]),(0,_useEnhancedEffect.default)(function(){if(l&&!a)return(0,_setRef.default)(r,l),function(){(0,_setRef.default)(r,null)}},[r,l,a]),(0,_useEnhancedEffect.default)(function(){i&&(l||a)&&i()},[i,l,a]),a?React.isValidElement(t)?React.cloneElement(t,{ref:p}):t:l?ReactDOM.createPortal(t,l):l});"production"!==process.env.NODE_ENV&&(Portal.propTypes={children:_propTypes.default.node,container:_propTypes.default.oneOfType([_utils.HTMLElementType,_propTypes.default.func]),disablePortal:_propTypes.default.bool,onRendered:_propTypes.default.func}),"production"!==process.env.NODE_ENV&&(Portal.propTypes=(0,_utils.exactProp)(Portal.propTypes));var _default=Portal;exports.default=Portal;