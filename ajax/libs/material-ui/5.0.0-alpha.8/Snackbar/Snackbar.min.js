"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_extends8=_interopRequireDefault(require("@babel/runtime/helpers/extends")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_transitions=require("../styles/transitions"),_ClickAwayListener=_interopRequireDefault(require("../ClickAwayListener")),_useEventCallback=_interopRequireDefault(require("../utils/useEventCallback")),_capitalize=_interopRequireDefault(require("../utils/capitalize")),_Grow=_interopRequireDefault(require("../Grow")),_SnackbarContent=_interopRequireDefault(require("../SnackbarContent")),styles=function(e){var t={top:8},r={bottom:8},n={justifyContent:"flex-end"},o={justifyContent:"flex-start"},i={top:24},a={bottom:24},u={right:24},s={left:24},l={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,_extends8.default)({},t,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({},i,l))),anchorOriginBottomCenter:(0,_extends8.default)({},r,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({},a,l))),anchorOriginTopRight:(0,_extends8.default)({},t,n,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({left:"auto"},i,u))),anchorOriginBottomRight:(0,_extends8.default)({},r,n,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({left:"auto"},a,u))),anchorOriginTopLeft:(0,_extends8.default)({},t,o,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({right:"auto"},i,s))),anchorOriginBottomLeft:(0,_extends8.default)({},r,o,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({right:"auto"},a,s)))}};exports.styles=styles;var Snackbar=React.forwardRef(function(e,t){var r=e.action,n=e.anchorOrigin,o=(n=void 0===n?{vertical:"bottom",horizontal:"left"}:n).vertical,i=n.horizontal,a=e.autoHideDuration,u=void 0===a?null:a,s=e.children,l=e.classes,p=e.className,d=e.ClickAwayListenerProps,f=e.ContentProps,c=e.disableWindowBlurListener,_=void 0!==c&&c,y=e.message,b=e.onClose,m=e.onMouseEnter,T=e.onMouseLeave,h=e.open,x=e.resumeHideDuration,v=e.TransitionComponent,q=void 0===v?_Grow.default:v,R=e.transitionDuration,C=void 0===R?{enter:_transitions.duration.enteringScreen,exit:_transitions.duration.leavingScreen}:R,k=e.TransitionProps,w=(k=void 0===k?{}:k).onEnter,g=k.onExited,E=(0,_objectWithoutProperties2.default)(k,["onEnter","onExited"]),D=(0,_objectWithoutProperties2.default)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),P=React.useRef(),L=React.useState(!0),O=L[0],S=L[1],j=(0,_useEventCallback.default)(function(){b&&b.apply(void 0,arguments)}),M=(0,_useEventCallback.default)(function(e){b&&null!=e&&(clearTimeout(P.current),P.current=setTimeout(function(){j(null,"timeout")},e))});React.useEffect(function(){return h&&M(u),function(){clearTimeout(P.current)}},[h,u,M]);function W(){clearTimeout(P.current)}var z=React.useCallback(function(){null!=u&&M(null!=x?x:.5*u)},[u,x,M]);return React.useEffect(function(){if(!_&&h)return window.addEventListener("focus",z),window.addEventListener("blur",W),function(){window.removeEventListener("focus",z),window.removeEventListener("blur",W)}},[_,z,h]),!h&&O?null:React.createElement(_ClickAwayListener.default,(0,_extends8.default)({onClickAway:function(e){b&&b(e,"clickaway")}},d),React.createElement("div",(0,_extends8.default)({className:(0,_clsx.default)(l.root,l["anchorOrigin".concat((0,_capitalize.default)(o)).concat((0,_capitalize.default)(i))],p),onMouseEnter:function(e){m&&m(e),W()},onMouseLeave:function(e){T&&T(e),z()},ref:t},D),React.createElement(q,(0,_extends8.default)({appear:!0,in:h,timeout:C,direction:"top"===o?"down":"up",onEnter:function(e,t){S(!1),w&&w(e,t)},onExited:function(e){S(!0),g&&g(e)}},E),s||React.createElement(_SnackbarContent.default,(0,_extends8.default)({message:y,action:r},f)))))});"production"!==process.env.NODE_ENV&&(Snackbar.propTypes={action:_propTypes.default.node,anchorOrigin:_propTypes.default.shape({horizontal:_propTypes.default.oneOf(["center","left","right"]).isRequired,vertical:_propTypes.default.oneOf(["bottom","top"]).isRequired}),autoHideDuration:_propTypes.default.number,children:_propTypes.default.element,classes:_propTypes.default.object,className:_propTypes.default.string,ClickAwayListenerProps:_propTypes.default.object,ContentProps:_propTypes.default.object,disableWindowBlurListener:_propTypes.default.bool,key:_propTypes.default.any,message:_propTypes.default.node,onClose:_propTypes.default.func,onMouseEnter:_propTypes.default.func,onMouseLeave:_propTypes.default.func,open:_propTypes.default.bool,resumeHideDuration:_propTypes.default.number,TransitionComponent:_propTypes.default.elementType,transitionDuration:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})]),TransitionProps:_propTypes.default.object});var _default=(0,_withStyles.default)(styles,{flip:!1,name:"MuiSnackbar"})(Snackbar);exports.default=_default;