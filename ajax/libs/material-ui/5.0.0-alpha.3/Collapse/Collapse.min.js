"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_extends3=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_clsx=_interopRequireDefault(require("clsx")),_propTypes=_interopRequireDefault(require("prop-types")),_reactTransitionGroup=require("react-transition-group"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_transitions=require("../styles/transitions"),_utils=require("../transitions/utils"),_useTheme=_interopRequireDefault(require("../styles/useTheme")),_utils2=require("../utils"),styles=function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height"),"&$horizontal":{height:"auto",width:0,transition:e.transitions.create("width")}},horizontal:{},entered:{height:"auto",overflow:"visible","&$horizontal":{width:"auto"}},hidden:{visibility:"hidden"},wrapper:{display:"flex",width:"100%","&$horizontal":{width:"auto",height:"100%"}},wrapperInner:{width:"100%","&$horizontal":{width:"auto",height:"100%"}}}};exports.styles=styles;var Collapse=React.forwardRef(function(e,t){var r=e.children,i=e.classes,n=e.className,o=e.collapsedSize,a=void 0===o?"0px":o,s=e.component,u=void 0===s?"div":s,l=e.disableStrictModeCompat,p=void 0!==l&&l,d=e.in,c=e.onEnter,f=e.onEntered,y=e.onEntering,_=e.onExit,h=e.onExited,m=e.onExiting,T=e.orientation,x=void 0===T?"vertical":T,b=e.style,v=e.timeout,E=void 0===v?_transitions.duration.standard:v,R=e.TransitionComponent,g=void 0===R?_reactTransitionGroup.Transition:R,q=(0,_objectWithoutProperties2.default)(e,["children","classes","className","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"]),w=(0,_useTheme.default)(),D=React.useRef(),z=React.useRef(null),C=React.useRef(),S="number"==typeof a?"".concat(a,"px"):a,P="vertical"!==x,N=P?"width":"height";React.useEffect(function(){return function(){clearTimeout(D.current)}},[]);function W(a){return function(e,t){var r,i,n,o;a&&(r=A?[M.current,e]:[e,t],n=(i=(0,_slicedToArray2.default)(r,2))[0],void 0===(o=i[1])?a(n):a(n,o))}}function j(){return z.current?z.current[P?"clientWidth":"clientHeight"]:0}var A=w.unstable_strictMode&&!p,M=React.useRef(null),O=(0,_utils2.useForkRef)(t,A?M:void 0),H=W(function(e,t){z.current&&(z.current.style.position="absolute"),e.style[N]=S,c&&c(e,t)}),$=W(function(e,t){var r=j();z.current&&(z.current.style.position="");var i,n=(0,_utils.getTransitionProps)({style:b,timeout:E},{mode:"enter"}).duration;"auto"===E?(i=w.transitions.getAutoHeightDuration(r),e.style.transitionDuration="".concat(i,"ms"),C.current=i):e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms"),e.style[N]="".concat(r,"px"),y&&y(e,t)}),G=W(function(e,t){e.style[N]="auto",f&&f(e,t)}),I=W(function(e){e.style[N]="".concat(j(),"px"),_&&_(e)}),k=W(h),F=W(function(e){var t,r=j(),i=(0,_utils.getTransitionProps)({style:b,timeout:E},{mode:"exit"}).duration;"auto"===E?(t=w.transitions.getAutoHeightDuration(r),e.style.transitionDuration="".concat(t,"ms"),C.current=t):e.style.transitionDuration="string"==typeof i?i:"".concat(i,"ms"),e.style[N]=S,m&&m(e)});return React.createElement(g,(0,_extends3.default)({in:d,onEnter:H,onEntered:G,onEntering:$,onExit:I,onExited:k,onExiting:F,addEndListener:function(e,t){var r=A?e:t;"auto"===E&&(D.current=setTimeout(r,C.current||0))},nodeRef:A?M:void 0,timeout:"auto"===E?null:E},q),function(e,t){return React.createElement(u,(0,_extends3.default)({className:(0,_clsx.default)(i.container,n,P&&i.horizontal,{entered:i.entered,exited:!d&&"0px"===S&&i.hidden}[e]),style:(0,_extends3.default)((0,_defineProperty2.default)({},P?"minWidth":"minHeight",S),b),ref:O},t),React.createElement("div",{className:(0,_clsx.default)(i.wrapper,P&&i.horizontal),ref:z},React.createElement("div",{className:(0,_clsx.default)(i.wrapperInner,P&&i.horizontal)},r)))})});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:_propTypes.default.node,classes:_propTypes.default.object,className:_propTypes.default.string,collapsedSize:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),component:_propTypes.default.elementType,disableStrictModeCompat:_propTypes.default.bool,in:_propTypes.default.bool,onEnter:_propTypes.default.func,onEntered:_propTypes.default.func,onEntering:_propTypes.default.func,onExit:_propTypes.default.func,onExited:_propTypes.default.func,onExiting:_propTypes.default.func,orientation:_propTypes.default.oneOf(["horizontal","vertical"]),style:_propTypes.default.object,timeout:_propTypes.default.oneOfType([_propTypes.default.oneOf(["auto"]),_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})])}),Collapse.muiSupportAuto=!0;var _default=(0,_withStyles.default)(styles,{name:"MuiCollapse"})(Collapse);exports.default=_default;