define(function(e,t,n){var Y=e("./synthetic");!function e(){var t;document.body?(t=document.createElement("div"),document.body.appendChild(t),Y.helpers.extend(t.style,{width:"100px",height:"10000px",backgroundColor:"blue",position:"absolute",top:"10px",left:"0px",zIndex:19999}),document.body.scrollTop=11,document.elementFromPoint&&(document.elementFromPoint(3,1)===t?Y.support.elementFromClient=!0:Y.support.elementFromPage=!0,document.body.removeChild(t),document.body.scrollTop=0)):Y.schedule(e,1)}();function v(e,t){var n,o,r=e.clientX,l=e.clientY,i=Y.helpers.getWindow(t);return Y.support.elementFromPage&&(r+=(o=Y.helpers.scrollOffset(i)).left,l+=o.top),(n=i.document.elementFromPoint?i.document.elementFromPoint(r,l):t)===i.document.documentElement&&(e.clientY<0||e.clientX<0)?t:n}function u(e,t,n){var o=v(t,n);return Y.trigger(o||n,e,t),o}function x(e,t,n){var o,r=v(e,t);return n!==r&&r&&n&&((o=Y.helpers.extend({},e)).relatedTarget=r,Y.trigger(n,"mouseout",o),o.relatedTarget=n,Y.trigger(r,"mouseover",o)),Y.trigger(r||t,"mousemove",e),r}function a(r,l,i,p,c){function d(){var e=new Date,t=Y.helpers.scrollOffset(m),n=(0===h?0:e-s)/i,o={clientX:u*n+r.clientX,clientY:a*n+r.clientY};h++,n<1?(Y.helpers.extend(g.style,{left:o.clientX+t.left+2+"px",top:o.clientY+t.top+2+"px"}),f=x(o,p,f),Y.schedule(d,15)):(f=x(l,p,f),m.document.body.removeChild(g),c())}var s=new Date,u=l.clientX-r.clientX,a=l.clientY-r.clientY,m=Y.helpers.getWindow(p),f=v(r,p),g=m.document.createElement("div"),h=0;Y.helpers.extend(g.style,{height:"5px",width:"5px",backgroundColor:"red",position:"absolute",zIndex:19999,fontSize:"1px"}),m.document.body.appendChild(g),d()}function d(e){var t=Y.jquery()(e),n=t.offset();return{pageX:n.left+t.outerWidth()/2,pageY:n.top+t.outerHeight()/2}}function m(e,t,n){var o,r,l,i=/(\d+)[x ](\d+)/,p=/(\d+)X(\d+)/,c=/([+-]\d+)[xX ]([+-]\d+)/;return"string"==typeof e&&c.test(e)&&n&&(o=d(n),r=e.match(c),e={pageX:o.pageX+parseInt(r[1]),pageY:o.pageY+parseInt(r[2])}),"string"==typeof e&&i.test(e)&&(r=e.match(i),e={pageX:parseInt(r[1]),pageY:parseInt(r[2])}),"string"==typeof e&&p.test(e)&&(r=e.match(p),e={clientX:parseInt(r[1]),clientY:parseInt(r[2])}),"string"==typeof e&&(e=Y.jquery()(e,t.document)[0]),e.nodeName&&(e=d(e)),null!=e.pageX&&(l=Y.helpers.scrollOffset(t),e={clientX:e.pageX-l.left,clientY:e.pageY-l.top}),e}function f(e,t,n){var o,r,l;e.clientY<0&&(l=(r=(o=Y.helpers.scrollOffset(n)).top+e.clientY-100)-o.top,0<r||(r=0,l=-o.top),e.clientY=e.clientY-l,t.clientY=t.clientY-l,Y.helpers.scrollOffset(n,{top:r,left:o.left}))}Y.helpers.extend(Y.init.prototype,{_move:function(e,t,n){var o=Y.helpers.getWindow(e),r=m(t.from||e,o,e),l=m(t.to||t,o,e);!1!==t.adjust&&f(r,l,o),a(r,l,t.duration||500,e,n)},_drag:function(e,t,n){var o,r,l,i,p,c=Y.helpers.getWindow(e),d=m(t.from||e,c,e),s=m(t.to||t,c,e);!1!==t.adjust&&f(d,s,c),o=d,r=s,l=t.duration||500,p=n,u("mousedown",o,i=e),a(o,r,l,i,function(){u("mouseup",r,i),p()})}})});