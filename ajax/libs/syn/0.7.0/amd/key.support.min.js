define(function(e,t,r){var o=e("./synthetic");e("./key"),o.config.support?o.helpers.extend(o.support,o.config.support):function e(){if(!document.body)return o.schedule(e,1);var t,r,n,u,s,a=document.createElement("div"),i=document.documentElement;a.innerHTML="<form id='outer'><input name='checkbox' type='checkbox'/><input name='radio' type='radio' /><input type='submit' name='submitter'/><input type='input' name='inputter'/><input name='one'><input name='two'/><a href='#abc'></a><textarea>1\n2</textarea></form>",i.insertBefore(a,i.firstElementChild||i.children[0]),(t=a.firstChild).childNodes[0],t.childNodes[2],r=t.getElementsByTagName("a")[0],n=t.getElementsByTagName("textarea")[0],u=t.childNodes[3],s=t.childNodes[4],t.onsubmit=function(e){return e.preventDefault&&e.preventDefault(),o.support.keypressSubmits=!0,e.returnValue=!1},o.__tryFocus(u),o.trigger(u,"keypress","\r"),o.trigger(u,"keypress","a"),o.support.keyCharacters="a"===u.value,u.value="a",o.trigger(u,"keypress","\b"),o.support.backspaceWorks=""===u.value,u.onchange=function(){o.support.focusChanges=!0},o.__tryFocus(u),o.trigger(u,"keypress","a"),o.__tryFocus(t.childNodes[5]),o.trigger(u,"keypress","b"),o.support.keysOnNotFocused="ab"===u.value,o.bind(r,"click",function(e){return e.preventDefault&&e.preventDefault(),o.support.keypressOnAnchorClicks=!0,e.returnValue=!1}),o.trigger(r,"keypress","\r"),o.support.textareaCarriage=4===n.value.length,o.support.oninput="oninput"in s,i.removeChild(a),o.support.ready++}()});