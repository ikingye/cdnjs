"use strict";exports.__esModule=!0,exports.default=void 0;var _easeInOut,_AnimatedValue=_interopRequireDefault(require("../nodes/AnimatedValue")),_AnimatedValueXY=_interopRequireDefault(require("../nodes/AnimatedValueXY")),_Animation2=_interopRequireDefault(require("./Animation")),_Easing=_interopRequireDefault(require("../Easing")),_NativeAnimatedHelper=require("../NativeAnimatedHelper");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function easeInOut(){return _easeInOut=_easeInOut||_Easing.default.inOut(_Easing.default.ease)}var TimingAnimation=function(s){function t(t){var e,i,n,a,o,r=s.call(this)||this;return r._toValue=t.toValue,r._easing=null!==(e=t.easing)&&void 0!==e?e:easeInOut(),r._duration=null!==(i=t.duration)&&void 0!==i?i:500,r._delay=null!==(n=t.delay)&&void 0!==n?n:0,r.__iterations=null!==(a=t.iterations)&&void 0!==a?a:1,r._useNativeDriver=(0,_NativeAnimatedHelper.shouldUseNativeDriver)(t),r.__isInteraction=null!==(o=t.isInteraction)&&void 0!==o?o:!r._useNativeDriver,r}_inheritsLoose(t,s);var e=t.prototype;return e.__getNativeAnimationConfig=function(){for(var t=[],e=0;e<this._duration;e+=1e3/60)t.push(this._easing(e/this._duration));return t.push(this._easing(1)),{type:"frames",frames:t,toValue:this._toValue,iterations:this.__iterations}},e.start=function(t,e,i,n,a){var o=this;this.__active=!0,this._fromValue=t,this._onUpdate=e,this.__onEnd=i;function r(){0!==o._duration||o._useNativeDriver?(o._startTime=Date.now(),o._useNativeDriver?o.__startNativeAnimation(a):o._animationFrame=requestAnimationFrame(o.onUpdate.bind(o))):(o._onUpdate(o._toValue),o.__debouncedOnEnd({finished:!0}))}this._delay?this._timeout=setTimeout(r,this._delay):r()},e.onUpdate=function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))},e.stop=function(){s.prototype.stop.call(this),this.__active=!1,clearTimeout(this._timeout),global.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},t}(_Animation2.default),_default=TimingAnimation;exports.default=TimingAnimation,module.exports=exports.default;