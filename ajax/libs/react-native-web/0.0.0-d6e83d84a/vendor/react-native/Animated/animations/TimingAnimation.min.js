"use strict";function _inheritsLoose(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i}import AnimatedValue from"../nodes/AnimatedValue";import AnimatedValueXY from"../nodes/AnimatedValueXY";import Animation from"./Animation";import Easing from"../Easing";import{shouldUseNativeDriver}from"../NativeAnimatedHelper";var _easeInOut;function easeInOut(){return _easeInOut||(_easeInOut=Easing.inOut(Easing.ease)),_easeInOut}var TimingAnimation=function(t){function i(i){var e,n,a,o,s,r;return(r=t.call(this)||this)._toValue=i.toValue,r._easing=null!==(e=i.easing)&&void 0!==e?e:easeInOut(),r._duration=null!==(n=i.duration)&&void 0!==n?n:500,r._delay=null!==(a=i.delay)&&void 0!==a?a:0,r.__iterations=null!==(o=i.iterations)&&void 0!==o?o:1,r._useNativeDriver=shouldUseNativeDriver(i),r.__isInteraction=null!==(s=i.isInteraction)&&void 0!==s?s:!r._useNativeDriver,r}_inheritsLoose(i,t);var e=i.prototype;return e.__getNativeAnimationConfig=function(){for(var t=[],i=0;i<this._duration;i+=1e3/60)t.push(this._easing(i/this._duration));return t.push(this._easing(1)),{type:"frames",frames:t,toValue:this._toValue,iterations:this.__iterations}},e.start=function(t,i,e,n,a){var o=this;this.__active=!0,this._fromValue=t,this._onUpdate=i,this.__onEnd=e;var s=function(){0!==o._duration||o._useNativeDriver?(o._startTime=Date.now(),o._useNativeDriver?o.__startNativeAnimation(a):o._animationFrame=requestAnimationFrame(o.onUpdate.bind(o))):(o._onUpdate(o._toValue),o.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(s,this._delay):s()},e.onUpdate=function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))},e.stop=function(){t.prototype.stop.call(this),this.__active=!1,clearTimeout(this._timeout),global.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},i}(Animation);export default TimingAnimation;