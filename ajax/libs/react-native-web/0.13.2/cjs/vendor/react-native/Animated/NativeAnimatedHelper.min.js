"use strict";exports.__esModule=!0,exports.addWhitelistedStyleProp=addWhitelistedStyleProp,exports.addWhitelistedTransformProp=addWhitelistedTransformProp,exports.addWhitelistedInterpolationParam=addWhitelistedInterpolationParam,exports.validateStyles=validateStyles,exports.validateTransform=validateTransform,exports.validateInterpolation=validateInterpolation,exports.generateNewNodeTag=generateNewNodeTag,exports.generateNewAnimationId=generateNewAnimationId,exports.assertNativeAnimatedModule=assertNativeAnimatedModule,exports.shouldUseNativeDriver=shouldUseNativeDriver,exports.transformDataType=transformDataType,exports.default=exports.API=void 0;var _NativeEventEmitter=_interopRequireDefault(require("../NativeEventEmitter")),_NativeAnimatedModule=_interopRequireDefault(require("./NativeAnimatedModule")),_invariant=_interopRequireDefault(require("fbjs/lib/invariant"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var nativeEventEmitter,__nativeAnimatedNodeTagCount=1,__nativeAnimationIdCount=1,queueConnections=!1,queue=[],API={enableQueue:function(){queueConnections=!0},disableQueue:function(){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),queueConnections=!1;for(var e=0,t=queue.length;e<t;e++){var a=queue[e];_NativeAnimatedModule.default.connectAnimatedNodes(a[0],a[1])}queue.length=0},createAnimatedNode:function(e,t){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.createAnimatedNode(e,t)},startListeningToAnimatedNodeValue:function(e){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.startListeningToAnimatedNodeValue(e)},stopListeningToAnimatedNodeValue:function(e){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.stopListeningToAnimatedNodeValue(e)},connectAnimatedNodes:function(e,t){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),queueConnections?queue.push([e,t]):_NativeAnimatedModule.default.connectAnimatedNodes(e,t)},disconnectAnimatedNodes:function(e,t){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.disconnectAnimatedNodes(e,t)},startAnimatingNode:function(e,t,a,i){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.startAnimatingNode(e,t,a,i)},stopAnimation:function(e){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.stopAnimation(e)},setAnimatedNodeValue:function(e,t){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.setAnimatedNodeValue(e,t)},setAnimatedNodeOffset:function(e,t){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.setAnimatedNodeOffset(e,t)},flattenAnimatedNodeOffset:function(e){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.flattenAnimatedNodeOffset(e)},extractAnimatedNodeOffset:function(e){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.extractAnimatedNodeOffset(e)},connectAnimatedNodeToView:function(e,t){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.connectAnimatedNodeToView(e,t)},disconnectAnimatedNodeFromView:function(e,t){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.disconnectAnimatedNodeFromView(e,t)},dropAnimatedNode:function(e){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.dropAnimatedNode(e)},addAnimatedEventToView:function(e,t,a){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.addAnimatedEventToView(e,t,a)},removeAnimatedEventFromView:function(e,t,a){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available"),_NativeAnimatedModule.default.removeAnimatedEventFromView(e,t,a)}};exports.API=API;var STYLES_WHITELIST={opacity:!0,transform:!0,borderRadius:!0,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0},TRANSFORM_WHITELIST={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,perspective:!0},SUPPORTED_INTERPOLATION_PARAMS={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function addWhitelistedStyleProp(e){STYLES_WHITELIST[e]=!0}function addWhitelistedTransformProp(e){TRANSFORM_WHITELIST[e]=!0}function addWhitelistedInterpolationParam(e){SUPPORTED_INTERPOLATION_PARAMS[e]=!0}function validateTransform(e){e.forEach(function(e){if(!TRANSFORM_WHITELIST.hasOwnProperty(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")})}function validateStyles(e){for(var t in e)if(!STYLES_WHITELIST.hasOwnProperty(t))throw new Error("Style property '"+t+"' is not supported by native animated module")}function validateInterpolation(e){for(var t in e)if(!SUPPORTED_INTERPOLATION_PARAMS.hasOwnProperty(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")}function generateNewNodeTag(){return __nativeAnimatedNodeTagCount++}function generateNewAnimationId(){return __nativeAnimationIdCount++}function assertNativeAnimatedModule(){(0,_invariant.default)(_NativeAnimatedModule.default,"Native animated module is not available")}var _warnedMissingNativeAnimated=!1;function shouldUseNativeDriver(e){return!0!==e.useNativeDriver||_NativeAnimatedModule.default?e.useNativeDriver||!1:(_warnedMissingNativeAnimated||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. More info: https://github.com/facebook/react-native/issues/11094#issuecomment-263240420"),_warnedMissingNativeAnimated=!0),!1)}function transformDataType(e){return"string"==typeof e&&/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e}var NativeAnimatedHelper={API:API,addWhitelistedStyleProp:addWhitelistedStyleProp,addWhitelistedTransformProp:addWhitelistedTransformProp,addWhitelistedInterpolationParam:addWhitelistedInterpolationParam,validateStyles:validateStyles,validateTransform:validateTransform,validateInterpolation:validateInterpolation,generateNewNodeTag:generateNewNodeTag,generateNewAnimationId:generateNewAnimationId,assertNativeAnimatedModule:assertNativeAnimatedModule,shouldUseNativeDriver:shouldUseNativeDriver,transformDataType:transformDataType,get nativeEventEmitter(){return nativeEventEmitter=nativeEventEmitter||new _NativeEventEmitter.default(_NativeAnimatedModule.default)}},_default=NativeAnimatedHelper;exports.default=NativeAnimatedHelper;