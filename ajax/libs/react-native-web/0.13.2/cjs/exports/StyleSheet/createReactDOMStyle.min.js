"use strict";exports.__esModule=!0,exports.default=void 0;var _ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),_constants=require("./constants"),_normalizeValueWithProperty=_interopRequireDefault(require("./normalizeValueWithProperty"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var emptyObject={},supportsCSS3TextDecoration=!_ExecutionEnvironment.canUseDOM||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),mapTransform=function(e){var r=Object.keys(e)[0];return r+"("+(0,_normalizeValueWithProperty.default)(e[r],r)+")"},convertTransformMatrix=function(e){return"matrix3d("+e.join(",")+")"},resolveTransform=function(e,r){var t=r.transform;Array.isArray(r.transform)?t=r.transform.map(mapTransform).join(" "):r.transformMatrix&&(t=convertTransformMatrix(r.transformMatrix)),e.transform=t},createReactDOMStyle=function(n){if(!n)return emptyObject;var o={};return Object.keys(n).sort().forEach(function(e){var r,t=(0,_normalizeValueWithProperty.default)(n[e],e);if(null!=t)switch(e){case"aspectRatio":case"elevation":case"overlayColor":case"resizeMode":case"tintColor":break;case"backgroundClip":"text"===t&&(o.backgroundClip=t,o.WebkitBackgroundClip=t);break;case"flex":0<t?(o.flexGrow=t,o.flexShrink=1,o.flexBasis="0%"):0===t?(o.flexGrow=0,o.flexShrink=0,o.flexBasis="0%"):-1===t&&(o.flexGrow=0,o.flexShrink=1,o.flexBasis="auto");break;case"font":o[e]=t.replace("System",_constants.SYSTEM_FONT_STACK);break;case"fontFamily":-1<t.indexOf("System")?((r=t.split(/,\s*/))[r.indexOf("System")]=_constants.SYSTEM_FONT_STACK,o[e]=r.join(",")):o[e]="monospace"===t?_constants.MONOSPACE_FONT_STACK:t;break;case"fontVariant":Array.isArray(t)&&0<t.length&&(o.fontVariant=t.join(" "));break;case"textAlignVertical":o.verticalAlign="center"===t?"middle":t;break;case"textDecorationLine":supportsCSS3TextDecoration?o.textDecorationLine=t:o.textDecoration=t;break;case"transform":case"transformMatrix":resolveTransform(o,n);break;case"writingDirection":o.direction=t;break;default:var a=_constants.STYLE_SHORT_FORM_EXPANSIONS[e];a?a.forEach(function(e,r){void 0===n[e]&&(o[e]=t)}):o[e]=Array.isArray(t)?t.join(","):t}}),o},_default=createReactDOMStyle;exports.default=createReactDOMStyle,module.exports=exports.default;