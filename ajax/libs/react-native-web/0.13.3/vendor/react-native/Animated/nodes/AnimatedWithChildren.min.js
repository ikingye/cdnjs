"use strict";function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}import AnimatedNode from"./AnimatedNode";import NativeAnimatedHelper from"../NativeAnimatedHelper";var AnimatedWithChildren=function(e){function t(){var t;return(t=e.call(this)||this)._children=[],t}_inheritsLoose(t,e);var i=t.prototype;return i.__makeNative=function(){if(!this.__isNative){this.__isNative=!0;var t=this._children,i=Array.isArray(t),a=0;for(t=i?t:t[Symbol.iterator]();;){var r;if(i){if(a>=t.length)break;r=t[a++]}else{if((a=t.next()).done)break;r=a.value}var n=r;n.__makeNative(),NativeAnimatedHelper.API.connectAnimatedNodes(this.__getNativeTag(),n.__getNativeTag())}}e.prototype.__makeNative.call(this)},i.__addChild=function(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(),NativeAnimatedHelper.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))},i.__removeChild=function(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&NativeAnimatedHelper.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")},i.__getChildren=function(){return this._children},i.__callListeners=function(t){if(e.prototype.__callListeners.call(this,t),!this.__isNative){var i=this._children,a=Array.isArray(i),r=0;for(i=a?i:i[Symbol.iterator]();;){var n;if(a){if(r>=i.length)break;n=i[r++]}else{if((r=i.next()).done)break;n=r.value}var _=n;_.__getValue&&_.__callListeners(_.__getValue())}}},t}(AnimatedNode);export default AnimatedWithChildren;