"use strict";exports.__esModule=!0,exports.atomic=atomic,exports.classic=classic,exports.inline=inline,exports.stringifyValueWithProperty=stringifyValueWithProperty;var _createReactDOMStyle=_interopRequireDefault(require("./createReactDOMStyle")),_hash=_interopRequireDefault(require("../../vendor/hash")),_hyphenateStyleName=_interopRequireDefault(require("hyphenate-style-name")),_normalizeValueWithProperty=_interopRequireDefault(require("./normalizeValueWithProperty")),_prefixStyles=_interopRequireWildcard(require("../../modules/prefixStyles"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache();if(r&&r.has(e))return r.get(e);var t,n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&((t=a?Object.getOwnPropertyDescriptor(e,i):null)&&(t.get||t.set)?Object.defineProperty(n,i,t):n[i]=e[i])}return n.default=e,r&&r.set(e,n),n}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(r,e){var t,n=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),n.push.apply(n,t)),n}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};for(var t,n={},a=Object.keys(e),i=0;i<a.length;i++)t=a[i],0<=r.indexOf(t)||(n[t]=e[t]);return n}var cache={get:function(e,r){if(null!=cache[e]&&cache[e].hasOwnProperty(r)&&null!=cache[e][r])return cache[e][r]},set:function(e,r,t){return null==cache[e]&&(cache[e]={}),cache[e][r]=t}};function atomic(u){return Object.keys(u).sort().reduce(function(e,r){var t,n,a,i,o,c=u[r];return null!=c&&(t=stringifyValueWithProperty(c,r),null!=(n=cache.get(r,t))?e[n.identifier]=n:(i=createAtomicRules(a=createIdentifier("r",r,c),r,c),o=cache.set(r,t,{property:r,value:stringifyValueWithProperty(c,r),identifier:a,rules:i}),e[a]=o)),e},{})}function classic(e,r){var t,n,a,i,o,c=createIdentifier("css",r,e),u=e.animationKeyframes,l=_objectWithoutPropertiesLoose(e,["animationKeyframes"]),s=[],p="."+c;null!=u&&(a=(n=processKeyframesValue(u)).animationNames,i=n.rules,o=a.join(","),s.push.apply(s,i));var f=createDeclarationBlock(_objectSpread({},l,{animationName:o}));return s.push(p+f),(t={})[c]={identifier:c,rules:s},t}function inline(e){return(0,_prefixStyles.prefixInlineStyles)((0,_createReactDOMStyle.default)(e))}function stringifyValueWithProperty(e,r){var t=(0,_normalizeValueWithProperty.default)(e,r);return"string"!=typeof t?JSON.stringify(t||""):t}function createAtomicRules(e,r,t){var n,a=[],i="."+e;switch(r){case"animationKeyframes":var o=processKeyframesValue(t),c=o.animationNames,u=o.rules,l=createDeclarationBlock({animationName:c.join(",")});a.push.apply(a,[i+l].concat(u));break;case"placeholderTextColor":var s=createDeclarationBlock({color:t,opacity:1});a.push(i+"::-webkit-input-placeholder"+s,i+"::-moz-placeholder"+s,i+":-ms-input-placeholder"+s,i+"::placeholder"+s);break;case"pointerEvents":var p,f,y,h,d,m=t;"auto"===t||"box-only"===t?(m="auto!important","box-only"===t&&(y=createDeclarationBlock(((f={})[r]="none",f)),a.push(i+">*"+y))):"none"!==t&&"box-none"!==t||(m="none!important","box-none"===t&&(d=createDeclarationBlock(((h={})[r]="auto",h)),a.push(i+">*"+d)));var b=createDeclarationBlock(((p={})[r]=m,p));a.push(i+b);break;case"scrollbarWidth":"none"===t&&a.push(i+"::-webkit-scrollbar{display:none}",i+"{overflow:-moz-scrollbars-none;-ms-overflow-style:none;}");var O=createDeclarationBlock(((n={})[r]=t,n));a.push(i+O);break;default:var v,_=createDeclarationBlock(((v={})[r]=t,v));a.push(i+_)}return a}function createDeclarationBlock(e){var n=(0,_prefixStyles.default)((0,_createReactDOMStyle.default)(e));return"{"+Object.keys(n).map(function(e){var r=n[e],t=(0,_hyphenateStyleName.default)(e);return Array.isArray(r)?r.map(function(e){return t+":"+e}).join(";"):t+":"+r}).sort().join(";")+";}"}function createIdentifier(e,r,t){var n=(0,_hash.default)(r+stringifyValueWithProperty(t,r));return"production"!==process.env.NODE_ENV?e+"-"+r+"-"+n:e+"-"+n}function createKeyframes(r){var t=createIdentifier("r","animation",r),n="{"+Object.keys(r).map(function(e){return""+e+createDeclarationBlock(r[e])}).join("")+"}",e=["-webkit-",""].map(function(e){return"@"+e+"keyframes "+t+n});return{identifier:t,rules:e}}function processKeyframesValue(e){if("number"==typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var a=[],i=[];return(Array.isArray(e)?e:[e]).forEach(function(e){var r,t,n;"string"==typeof e?a.push(e):(t=(r=createKeyframes(e)).identifier,n=r.rules,a.push(t),i.push.apply(i,n))}),{animationNames:a,rules:i}}