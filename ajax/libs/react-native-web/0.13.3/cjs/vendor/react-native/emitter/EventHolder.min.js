"use strict";exports.__esModule=!0,exports.default=void 0;var _invariant=_interopRequireDefault(require("fbjs/lib/invariant"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var EventHolder=function(){function e(){this._heldEvents={},this._currentEventKey=null}var t=e.prototype;return t.holdEvent=function(e){this._heldEvents[e]=this._heldEvents[e]||[];for(var t=this._heldEvents[e],n={eventType:e,index:t.length},r=arguments.length,i=new Array(1<r?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.push(i),n},t.emitToListener=function(n,r,i){var e,s=this,t=this._heldEvents[n];t&&(e=this._currentEventKey,t.forEach(function(e,t){e&&(s._currentEventKey={eventType:n,index:t},r.apply(i,e))}),this._currentEventKey=e)},t.releaseCurrentEvent=function(){(0,_invariant.default)(null!==this._currentEventKey,"Not in an emitting cycle; there is no current event"),this._currentEventKey&&this.releaseEvent(this._currentEventKey)},t.releaseEvent=function(e){delete this._heldEvents[e.eventType][e.index]},t.releaseEventType=function(e){this._heldEvents[e]=[]},e}(),_default=EventHolder;exports.default=EventHolder,module.exports=exports.default;