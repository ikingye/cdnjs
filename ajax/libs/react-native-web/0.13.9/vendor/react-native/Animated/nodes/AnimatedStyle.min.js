"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}import AnimatedNode from"./AnimatedNode";import AnimatedTransform from"./AnimatedTransform";import AnimatedWithChildren from"./AnimatedWithChildren";import NativeAnimatedHelper from"../NativeAnimatedHelper";import StyleSheet from"../../../../exports/StyleSheet";var flattenStyle=StyleSheet.flatten,AnimatedStyle=function(e){function t(t){var r;return r=e.call(this)||this,(t=flattenStyle(t)||{}).transform&&(t=_objectSpread({},t,{transform:new AnimatedTransform(t.transform)})),r._style=t,r}_inheritsLoose(t,e);var r=t.prototype;return r._walkStyleAndGetValues=function(e){var t={};for(var r in e){var n=e[r];n instanceof AnimatedNode?n.__isNative||(t[r]=n.__getValue()):n&&!Array.isArray(n)&&"object"==typeof n?t[r]=this._walkStyleAndGetValues(n):t[r]=n}return t},r.__getValue=function(){return this._walkStyleAndGetValues(this._style)},r._walkStyleAndGetAnimatedValues=function(e){var t={};for(var r in e){var n=e[r];n instanceof AnimatedNode?t[r]=n.__getAnimatedValue():n&&!Array.isArray(n)&&"object"==typeof n&&(t[r]=this._walkStyleAndGetAnimatedValues(n))}return t},r.__getAnimatedValue=function(){return this._walkStyleAndGetAnimatedValues(this._style)},r.__attach=function(){for(var e in this._style){var t=this._style[e];t instanceof AnimatedNode&&t.__addChild(this)}},r.__detach=function(){for(var t in this._style){var r=this._style[t];r instanceof AnimatedNode&&r.__removeChild(this)}e.prototype.__detach.call(this)},r.__makeNative=function(){for(var t in this._style){var r=this._style[t];r instanceof AnimatedNode&&r.__makeNative()}e.prototype.__makeNative.call(this)},r.__getNativeConfig=function(){var e={};for(var t in this._style)if(this._style[t]instanceof AnimatedNode){var r=this._style[t];r.__makeNative(),e[t]=r.__getNativeTag()}return NativeAnimatedHelper.validateStyles(e),{type:"style",style:e}},t}(AnimatedWithChildren);export default AnimatedStyle;